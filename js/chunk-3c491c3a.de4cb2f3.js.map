{"version":3,"sources":["webpack:///./node_modules/less/dist/less.js","webpack:///./src/assets/js/pics.js","webpack:///./src/assets/img/misc/null.png","webpack:///./src/views/Superstar/Dps_v2.vue?66ed","webpack:///./src/views/Superstar/dps/item.vue?075c","webpack:///./src/service/superstar.js","webpack:///./src/views/Superstar/Dps_v2.vue","webpack:///./src/views/Superstar/dps/item.vue","webpack:///src/views/Superstar/dps/item.vue","webpack:///./src/views/Superstar/dps/item.vue?b8de","webpack:///./src/views/Superstar/dps/item.vue?d148","webpack:///./src/views/Superstar/dps/xfItem.vue","webpack:///src/views/Superstar/dps/xfItem.vue","webpack:///./src/views/Superstar/dps/xfItem.vue?7ff3","webpack:///./src/views/Superstar/dps/xfItem.vue?e32b","webpack:///./src/views/Superstar/dps/die.vue","webpack:///src/views/Superstar/dps/die.vue","webpack:///./src/views/Superstar/dps/die.vue?1dcd","webpack:///./src/views/Superstar/dps/die.vue?84ba","webpack:///src/views/Superstar/Dps_v2.vue","webpack:///./src/views/Superstar/Dps_v2.vue?7d0f","webpack:///./src/views/Superstar/Dps_v2.vue?5317","webpack:///./src/views/Superstar/dps/xfItem.vue?6e18"],"names":["global","factory","module","exports","this","defaultOptions","javascriptEnabled","depends","compress","lint","paths","color","strictImports","insecure","rootpath","rewriteUrls","math","strictUnits","globalVars","modifyVars","urlArgs","extractId","href","replace","addDataAttr","options","tag","opt","dataset","hasOwnProperty","JSON","parse","_","browser","createCSS","document","styles","sheet","id","title","oldStyleNode","getElementById","keepOldStyleNode","styleNode","createElement","setAttribute","media","styleSheet","appendChild","createTextNode","childNodes","length","firstChild","nodeValue","head","getElementsByTagName","nextEl","nextSibling","parentNode","insertBefore","removeChild","cssText","e","Error","currentScript","window","scripts","addDefaultOptions","undefined","isFileProtocol","test","location","protocol","async","fileAsync","poll","env","hostname","port","dumpLineNumbers","exec","hash","useFileCache","onReady","relativeUrls","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","__extends","__","constructor","prototype","create","__spreadArrays","s","i","il","arguments","r","k","a","j","jl","colors","unitConversions","duration","angle","Math","PI","data","Node","parent","visibilityBlocks","nodeVisible","rootNode","parsed","self","defineProperty","get","fileInfo","getIndex","setParent","nodes","set","node","isArray","forEach","_index","_fileInfo","isRulesetLike","toCSS","context","strs","genCSS","add","chunk","index","push","isEmpty","join","output","value","accept","visitor","visit","eval","_operate","op","fround","precision","numPrecision","Number","toFixed","blocksVisibility","addVisibilityBlock","removeVisibilityBlock","ensureVisibility","ensureInvisibility","isVisible","visibilityInfo","copyVisibilityInfo","info","compare","type","numericCompare","Color","rgb","originalForm","match","map","c","parseInt","alpha","split","clamp","v","max","min","toHex","round","toString","luma","g","pow","doNotCompress","colorFunction","args","indexOf","concat","toHSL","h","l","toRGB","splitcolor","operate","other","toHSV","toARGB","x","fromKeyword","keyword","key","toLowerCase","slice","Paren","_noSpaceCombinators","Combinator","emptyOrWhitespace","trim","spaceOrEmpty","Element","combinator","isVariable","currentFileInfo","clone","firstSelector","charAt","Math$1","ALWAYS","PARENS_DIVISION","PARENS","STRICT_LEGACY","RewriteUrls","OFF","LOCAL","ALL","getType","payload","call","isPlainObject","getPrototypeOf","__spreadArrays$1","assignProp","carry","newVal","originalObject","includeNonenumerable","propType","propertyIsEnumerable","enumerable","writable","configurable","copy","target","props","getOwnPropertyNames","symbols","getOwnPropertySymbols","reduce","includes","val","nonenumerable","getLocation","inputStream","n","line","column","copyArray","arr","obj","cloned","prop","defaults","obj1","obj2","newObj","_defaults","defaults_1","assign","copyOptions","opts","strictMath","merge","flattenArray","result","length_1","utils","freeze","anonymousFunc","LessError","fileContentMap","currentFilename","filename","message","stack","input","contents","loc","col","callLine","lines","found","func","Function","lineAdjust","line_1","callExtract","extract","F","error","stylize","str","errorTxt","substr","Selector","elements","extendList","condition","evaldCondition","getElements","mixinElements_","visitArray","createDerived","newSelector","mediaEmpty","els","parseNode","err","imports","createEmptySelectors","el","sels","olen","len","mixinElements","shift","isJustParentSelector","extend","element","getIsOutput","Value","Keyword","True","False","Anonymous","mapLines","rulesetLike","allowRoot","Boolean","MATH","Declaration","name","important","inline","variable","evalName","lastRule","prevMath","evaldValue","mathBypass","importantScope","importantResult","pop","makeImportant","debugInfo","ctx","lineSeparator","asComment","asMediaQuery","lineNumber","fileName","filenameWithProtocol","Comment","isLineComment","isSilent","isCompressed","contexts","copyFromOriginal","original","destination","propertiesToCopy","parseCopyProperties","Parse","evalCopyProperties","isPathRelative","path","isPathLocalRelative","makeRegistry","base","_data","addMultiple","functions","_this","keys","getLocalFunctions","inherit","Eval","frames","inCalc","mathOn","enterCalc","calcStack","exitCalc","inParenthesis","parensStack","outOfParenthesis","isMathOn","pathRequiresRewrite","isRelative","rewritePath","newPath","normalizePath","segment","segments","reverse","functionRegistry","defaultFunc","value_","error_","reset","Ruleset","selectors","rules","_lookups","_variables","_properties","selCnt","selector","hasVariable","hasOnePassingSelector","toParseSelectors","rule","subRule","ruleset","originalRuleset","root","firstRoot","allowImports","ctxFrames","unshift","ctxSelectors","evalImports","rsRules","evalFirst","mediaBlockCount","mediaBlocks","filter","splice","apply","resetCache","bubbleSelectors","importRules","matchArgs","matchCondition","lastSelector","_rulesets","variables","vars","name_1","properties","name_2","decl","parseValue","property","lastDeclaration","toParse","transformDeclaration","nodes_1","rulesets","filtRules","isRuleset","prependRule","find","foundMixins","debugInfo$1","charsetRuleNodes","ruleNodes","tabLevel","sep","tabRuleStr","tabSetStr","charsetNodeIndex","importNodeIndex","isCharset","pathCnt","pathSubCnt","currentLastRule","joinSelectors","joinSelector","createParenthesis","elementsToPak","originalElement","replacementParen","insideParent","createSelector","containedElement","addReplacementIntoPath","beginningPath","addPath","replacedElement","originalSelector","newSelectorPath","newJoinedSelector","parentEl","restOfPath","addAllReplacementsIntoPath","addPaths","mergeElementsOnToSelectors","sel","replaceParentSelector","inSelector","currentElements","newSelectors","selectorsMultiplied","hadParentSelector","findNestedSelector","maybeSelector","nestedSelector","nestedPaths","replaced","replacedNewSelectors","replacementSelector","deriveSelector","deriveFrom","newPaths","concatenated","bind","AtRule","isRooted","outputRuleset","mediaPathBackup","mediaBlocksBackup","mediaPath","_i","ruleCnt","DetachedRuleset","callEval","Unit","numerator","denominator","backupUnit","sort","returnStr","is","unitString","toUpperCase","isLength","RegExp","isSingular","callback","usedUnits","group","mapUnit","groupName","atomicUnit","cancel","counter","count","Dimension","unit","parseFloat","isNaN","toColor","strValue","String","convertTo","unify","conversions","targetUnit","applyUnit","derivedConversions","MATH$1","Operation","operands","isSpaced","MATH$2","Expression","noSpacing","returnValue","parens","parensInOp","doubleParen","throwAwayComments","functionCaller","isValid","evalArgs","item","subNodes","Call","calc","currentMathContext","funcCaller","columnNumber","Variable","evaluating","frame","fun","Property","mergeRules","pluginManager","less","visitors","ToCSSVisitor","_mergeRules","vArr","Attribute","Quoted","content","escaped","quote","variableRegex","propRegex","containsVariables","that","variableReplacement","propertyReplacement","iterativeReplace","regexp","replacementFnc","evaluatedValue","URL","isEvald","escapePath","delimiter","Media","features","evalTop","evalNested","multiMedia","permute","fragment","rest","Import","css","pathValue","getPath","isPlugin","reference","isVariableImport","evalForImport","evalPath","doEval","registry","skip","importedFilename","newImport","JsEvalNode","evaluateJavaScript","expression","evalContext","jsify","toJS","JavaScript","string","Assignment","Condition","negate","lvalue","rvalue","UnicodeDescriptor","Negative","Extend","option","object_id","next_id","parent_ids","allowBefore","allowAfter","findSelfSelectors","selectorElements","selfElements","selfSelectors","VariableCall","detachedRuleset","NamespaceValue","ruleCall","lookups","substring","Definition","params","variadic","arity","optionalParameters","required","evalParams","mixinEnv","evaldArguments","varargs","arg","isNamedFound","argIndex","argsLength","evalCall","_arguments","mixinFrames","allArgsCnt","requiredArgsCnt","MixinCall","mixins","mixin","mixinPath","argValue","m","f","isRecursive","isOneFound","candidate","defaultResult","noArgumentsFilter","candidates","conditionResult","defFalseEitherCase","defNone","defTrue","defFalse","calcDefGroup","namespace","expand","format","newRules","_setVisibilityToReplacement","replacement","tree","logger","msg","_fireEvent","warn","debug","addListener","listener","_listeners","removeListener","logFunction","environment","externalEnvironment","fileManagers","optionalFunctions","requiredFunctions","propName","environmentFunc","getFileManager","currentDirectory","isSync","getFileManagers","fileManager","addFileManager","clearFileManagers","AbstractFileManager","lastIndexOf","tryAppendExtension","ext","tryAppendLessExtension","supportsSync","alwaysMakePathsAbsolute","isPathAbsolute","basePath","laterPath","pathDiff","url","baseUrl","urlDirectories","baseUrlDirectories","urlParts","extractUrlParts","baseUrlParts","diff","hostPart","directories","urlPartsRegex","returner","rawDirectories","rawPath","fileUrl","AbstractPluginLoader","require","evalPlugin","pluginOptions","loader","pluginObj","localModule","shortname","FileManager","trySetOptions","use","registerPlugin","validatePlugin","minVersion","compareVersion","addPlugin","plugin","setOptions","version","versionToString","aVersion","bVersion","versionString","printUsage","plugins","_visitArgs","visitDeeper","_hasIndexed","_noop","indexNodeTypes","ticker","child","typeIndex","Visitor","implementation","_implementation","_visitInCache","_visitOutCache","nodeTypeIndex","fnName","impl","funcOut","visitArgs","newNode","isReplacing","cnt","nonReplacing","out","evald","flatten","nestedCnt","nestedItem","ImportSequencer","onSequencerEmpty","variableImports","_onSequencerEmpty","_currentDepth","addImport","importSequencer","importItem","isReady","tryRun","addVariableImport","variableImport","ImportVisitor","importer","finish","_visitor","_importer","_finish","importCount","onceFileDetectionMap","recursionDetector","_sequencer","run","isFinished","visitImport","importNode","inlineCSS","importParent","processImportNode","evaldImportNode","multiple","importMultiple","onImported","sequencedOnImported","importedAtRoot","fullPath","importVisitor","isOptional","optional","duplicateImport","oldContext","visitDeclaration","declNode","visitDeclarationOut","visitAtRule","atRuleNode","visitAtRuleOut","visitMixinDefinition","mixinDefinitionNode","visitMixinDefinitionOut","visitRuleset","rulesetNode","visitRulesetOut","visitMedia","mediaNode","visitMediaOut","SetTreeVisibilityVisitor","visible","ExtendFinderVisitor","allExtendsStack","allExtends","allSelectorsExtendList","extendOnEveryPath","selectorPath","selExtendList","allSelectorsExtend","foundExtends","firstExtendOnThisSelectorPath","ProcessExtendsVisitor","extendFinder","extendIndices","doExtendChaining","newRoot","checkExtendsForNonMatched","indices","hasFoundMatches","extendsList","extendsListTarget","iterationCount","extendIndex","targetExtendIndex","matches","targetExtend","newExtend","extendsToAdd","extendVisitor","findMatch","selfSelector","extendSelector","extendChainCount","selectorOne","selectorTwo","ruleNode","visitSelector","selectorNode","pathIndex","selectorsToAdd","extendedSelectors","haystackSelectorPath","haystackSelectorIndex","hackstackSelector","hackstackElementIndex","haystackElement","targetCombinator","potentialMatch","needleElements","potentialMatches","matched","initialCombinator","isElementValuesEqual","finished","endPathIndex","endPathElementIndex","elementValue1","elementValue2","matchIndex","firstElement","newElements","currentSelectorPathIndex","currentSelectorPathElementIndex","currentValue","derived","newAllExtends","lastIndex","JoinSelectorVisitor","CSSVisitorUtils","_context","containsSilentNonBlockedChild","bodyRules","keepOnlyVisibleChilds","owner","thing","hasVisibleSelector","resolveVisibility","originalRules","compiledRulesBody","isVisibleRuleset","mixinNode","visitExtend","extendNode","visitComment","commentNode","visitAtRuleWithBody","visitAtRuleWithoutBody","visitAnonymous","anonymousNode","hasFakeRuleset","getBodyRules","nodeRules","charset","comment","checkValidNodes","isRoot","_compileRulesetPaths","nodeRuleCnt","_removeDuplicateRules","ruleList","ruleCache","ruleCSS","groups","groupsArr","result_1","space_1","comma_1","MarkVisibleSelectorsVisitor","ExtendVisitor","chunker","fail","lastOpening","lastOpeningParen","lastMultiComment","lastMultiCommentEndBrace","chunkerCurrentIndex","currentChunkStartIndex","cc","cc2","level","parenLevel","chunks","emitFrom","emitChunk","force","charCodeAt","fromCharCode","getParserInput","furthest","furthestPossibleErrorMessage","current","currentPos","saveStack","parserInput","CHARCODE_SPACE","CHARCODE_TAB","CHARCODE_LF","CHARCODE_CR","CHARCODE_PLUS","CHARCODE_COMMA","CHARCODE_FORWARD_SLASH","CHARCODE_9","skipWhitespace","nextChar","oldi","oldj","curr","endIndex","mem","inp","autoCommentAbsorb","nextNewLine","text","commentStore","nextStarSlash","save","restore","possibleErrorMessage","state","forget","isWhitespace","offset","pos","code","$re","tok","$char","$str","tokLength","$quoted","startChar","currentPosition","$parseUntil","testChar","returnVal","inComment","blockDepth","blockStack","parseGroups","startPos","lastPos","loop","char","expected","peek","peekChar","currentChar","prevChar","getInput","peekNotNumeric","start","chunkInput","failFunction","end","furthestReachedEnd","furthestChar","Parser","parsers","expect","expectChar","getDebugInfo","parseList","currentIndex","returnNodes","parser","endInfo","additionalData","ignored","preText","serializeVars","preProcessors","getPreProcessors","process","banner","contentsIgnoredChars","primary","processImports","extendRule","definition","declaration","variableCall","entities","atrule","foundSemiColon","mixinLookup","quoted","forceEscaped","isEscaped","customFuncCall","stop","ieAlpha","boolean","prevArgs","isSemiColonSeparated","argsComma","argsSemiColon","assignment","literal","dimension","unicodeDescriptor","entity","ch","variableCurly","curly","propertyCurly","colorKeyword","ud","javascript","js","escape","jsQuote","parsedName","inValue","ruleLookups","isRule","getLookup","hasParens","elem","elemIndex","re","isCall","expressionContainsNamed","nameLoop","expressions","hasSep","cond","argInfo","conditions","block","lookupValue","attribute","slashedCombinator","isLess","when","blockRuleset","hasDR","ruleProperty","permissiveValue","anonymousValue","untilTokens","done","testCurrentChar","dir","importOptions","mediaFeatures","o","optionName","importOption","mediaFeature","pluginArgs","nonVendorSpecificName","hasIdentifier","hasExpression","hasUnknown","hasBlock","sub","addition","multiplication","operation","operand","needsParens","logical","next","or","conditionAnd","insideCondition","negatedCondition","parenthesisCondition","atomicCondition","and","tryConditionFollowedByParenthesis","me","body","delim","simpleProperty","If","trueValue","falseValue","colorFunctions","boolean$1","clamp$1","hsla","origColor","hsl","number","scaled","size","rgba","m1_1","m2_1","hue","hsv","hsva","floor","vs","perm","saturation","lightness","hsvhue","hsvsaturation","hsvvalue","red","green","blue","luminance","saturate","amount","method","desaturate","lighten","darken","fadein","fadeout","fade","spin","mix","color1","color2","weight","w","w1","w2","greyscale","contrast","dark","light","threshold","t","argb","tint","shade","colorBlend","mode","cb","cs","ar","cr","ab","as","colorBlendModeFunctions","multiply","screen","overlay","softlight","sqrt","hardlight","difference","abs","exclusion","average","negation","dataUri","fallback","functionThis","mimetypeNode","filePathNode","mimetype","filePath","entryPath","fragmentStart","rawBuffer","useBase64","mimeLookup","charsetLookup","fileSync","loadFileSync","buf","encodeBase64","encodeURIComponent","uri","getItemsFromNode","items","list","_SELF","values","range","step","from","to","stepValue","each","rs","iterator","tryEval","valueName","keyName","indexName","MathHelper","fn","mathFunctions","ceil","tan","sin","cos","atan","asin","acos","f$1","fraction","num","minMax","isMin","currentUnified","referenceUnified","unitStatic","unitClone","order","number$1","convert","pi","mod","y","percentage","evaluated","encodeURI","pattern","flags","_loop_1","token","svg","direction","stops","gradientDirectionSvg","position","positionValue","gradientType","rectangleDimension","renderEnv","directionValue","throwArgumentDescriptor","isa","Type","isunit","types","isruleset","iscolor","isnumber","isstring","iskeyword","isurl","ispixel","ispercentage","isem","Functions","sourceMapOutput","SourceMapOutput","_css","_rootNode","_contentsMap","contentsMap","_contentsIgnoredCharsMap","contentsIgnoredCharsMap","sourceMapFilename","_sourceMapFilename","_outputFilename","outputFilename","sourceMapURL","sourceMapBasepath","_sourceMapBasepath","sourceMapRootpath","_sourceMapRootpath","_outputSourceFiles","outputSourceFiles","_sourceMapGeneratorConstructor","getSourceMapGenerator","_lineNumber","_column","removeBasepath","normalizeFilename","sourceLines","columns","sourceColumns","inputSource","_sourceMapGenerator","addMapping","generated","source","file","sourceRoot","setSourceContent","sourceMapContent","stringify","toJSON","sourceMap","sourceMapBuilder","SourceMapBuilder","sourceMapOutputFilename","sourceMapGenerator","sourceMapFileInline","disableSourcemapAnnotation","sourceMapInputFilename","getCSSAppendage","getExternalSourceMap","setExternalSourceMap","isInline","getSourceMapURL","getOutputFilename","getInputFilename","transformTree","evaldRoot","evalEnv","visitorIterator","visitors$1","preEvalVisitors","first","isPreEvalVisitor","isPreVisitor","parseTree","ParseTree","toCSSOptions","postProcessors","getPostProcessors","files","rootFilename","importManager","ImportManager","rootFileInfo","mime","queue","pluginLoader","Loader","fileParsedFunc","importedEqualsRoot","newFileInfo","loadedFile","promise","loadFileCallback","resolvedFilename","newEnv","syncImport","loadPluginSync","loadPlugin","loadFile","then","pm","Render","render","self_1","Promise","resolve","reject","PluginManager","installedPlugins","pluginCache","PluginLoader","addPlugins","install","addVisitor","addPreProcessor","preProcessor","priority","indexToInsertAt","addPostProcessor","postProcessor","manager","getVisitors","PluginManagerFactory","newFactory","logger$1","context_1","pluginManager_1","reUsePluginManager","imports_1","evalResult","fileContent","lessRoot","environment$1","initial","Environment","ctor","api","fileCache","_super","doXHR","errback","xhr","XMLHttpRequest","handleResponse","status","responseText","getResponseHeader","overrideMimeType","open","setRequestHeader","send","onreadystatechange","readyState","supports","clearFileCache","hrefParts","lessText","webInfo","lastModified","Date","FM","log","fulfill","catch","LogListener","logLevel_debug","logLevel_info","logLevel_warn","logLevel_error","logLevel","loggers","console","ErrorReporting","errorHTML","rootHref","timer","template","errors","filenameNoPath","className","errorline","classname","innerHTML","style","setInterval","replaceChild","clearInterval","removeErrorHTML","removeError","errorReporting","errorConsole","remove","Cache","cache","localStorage","setCSS","setItem","getCSS","getItem","timestamp","valueOf","ImageSize","imageSize","imageFunctions","typePattern","thisArg","curryArgs","loadStyles","instanceOptions","loadStyleSheet","reload","remaining","loadInitialFileCallback","local","loadStyleSheets","sheets","initRunningMode","watchTimer","watchMode","watch","unwatch","registerStylesheetsImmediately","links","rel","registerStylesheets","record","refresh","startTime","endTime","totalMilliseconds","remainingSheets","refreshStyles","options$1","LESS_PLUGINS","resolveOrReject","pageLoadFinished","PICS","LOGO","__imgPath","cover","boss","logos","bossIcon","getTop100","aid","event_id","$team","superstar","getDps","$https","__dataPath","_vm","_c","_self","staticClass","directives","rawName","loading","attrs","_l","bossList","label","on","$event","changeBoss","class","achieve_id","domProps","_s","origin_data","death","sortByTeam","sortByForce","sortByPlayer","_v","staticRenderFns","site","active","_e","showMount","clearanceSpeedItem","xfId","team_logo","teamLogo","playerName","team_name","team_server","showTime","created","showTC","fight_time","jx3box_jcl_id","jclLink","imgurl","jx3box_battle_id","battleLink","scroll","clearanceSpeedActive","ID","components","default","handler","init","immediate","deep","computed","mounted","methods","xfid","xf","forceId","team","server","timeDuring","timeBegin","team_id","getThumbnail","mount","mountIcon","teamLink","getLink","component","forceName","res","ref","pieOption","setPie","legend","tooltip","trigger","formatter","series","radius","normal","show","labelLine","$nextTick","die","xfItem","icon","dataBak","$store","race","achieves","dict","achievement_id","loadData","$route","query","$router","dataInit","getData","finally","_this2","_res$death","_res$this$options$i$k","_res$this$options$i$k2","_res$this$options$i$k3"],"mappings":"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","file":"js/chunk-3c491c3a.de4cb2f3.js","sourcesContent":["/**\n * Less - Leaner CSS v3.13.1\n * http://lesscss.org\n * \n * Copyright (c) 2009-2020, Alexis Sellier <self@cloudhead.net>\n * Licensed under the Apache-2.0 License.\n *\n * @license Apache-2.0\n */\n\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = global || self, global.less = factory());\n}(this, (function () { 'use strict';\n\n  // Export a new default each time\r\n  var defaultOptions = (function () { return ({\r\n      /* Inline Javascript - @plugin still allowed */\r\n      javascriptEnabled: false,\r\n      /* Outputs a makefile import dependency list to stdout. */\r\n      depends: false,\r\n      /* (DEPRECATED) Compress using less built-in compression.\r\n    * This does an okay job but does not utilise all the tricks of\r\n    * dedicated css compression. */\r\n      compress: false,\r\n      /* Runs the less parser and just reports errors without any output. */\r\n      lint: false,\r\n      /* Sets available include paths.\r\n    * If the file in an @import rule does not exist at that exact location,\r\n    * less will look for it at the location(s) passed to this option.\r\n    * You might use this for instance to specify a path to a library which\r\n    * you want to be referenced simply and relatively in the less files. */\r\n      paths: [],\r\n      /* color output in the terminal */\r\n      color: true,\r\n      /* The strictImports controls whether the compiler will allow an @import inside of either\r\n    * @media blocks or (a later addition) other selector blocks.\r\n    * See: https://github.com/less/less.js/issues/656 */\r\n      strictImports: false,\r\n      /* Allow Imports from Insecure HTTPS Hosts */\r\n      insecure: false,\r\n      /* Allows you to add a path to every generated import and url in your css.\r\n    * This does not affect less import statements that are processed, just ones\r\n    * that are left in the output css. */\r\n      rootpath: '',\r\n      /* By default URLs are kept as-is, so if you import a file in a sub-directory\r\n    * that references an image, exactly the same URL will be output in the css.\r\n    * This option allows you to re-write URL's in imported files so that the\r\n    * URL is always relative to the base imported file */\r\n      rewriteUrls: false,\r\n      /* How to process math\r\n    *   0 always           - eagerly try to solve all operations\r\n    *   1 parens-division  - require parens for division \"/\"\r\n    *   2 parens | strict  - require parens for all operations\r\n    *   3 strict-legacy    - legacy strict behavior (super-strict)\r\n    */\r\n      math: 0,\r\n      /* Without this option, less attempts to guess at the output unit when it does maths. */\r\n      strictUnits: false,\r\n      /* Effectively the declaration is put at the top of your base Less file,\r\n    * meaning it can be used but it also can be overridden if this variable\r\n    * is defined in the file. */\r\n      globalVars: null,\r\n      /* As opposed to the global variable option, this puts the declaration at the\r\n    * end of your base file, meaning it will override anything defined in your Less file. */\r\n      modifyVars: null,\r\n      /* This option allows you to specify a argument to go on to every URL.  */\r\n      urlArgs: ''\r\n  }); });\n\n  function extractId(href) {\r\n      return href.replace(/^[a-z-]+:\\/+?[^\\/]+/, '') // Remove protocol & domain\r\n          .replace(/[\\?\\&]livereload=\\w+/, '') // Remove LiveReload cachebuster\r\n          .replace(/^\\//, '') // Remove root /\r\n          .replace(/\\.[a-zA-Z]+$/, '') // Remove simple extension\r\n          .replace(/[^\\.\\w-]+/g, '-') // Replace illegal characters\r\n          .replace(/\\./g, ':'); // Replace dots with colons(for valid id)\r\n  }\r\n  function addDataAttr(options, tag) {\r\n      for (var opt in tag.dataset) {\r\n          if (tag.dataset.hasOwnProperty(opt)) {\r\n              if (opt === 'env' || opt === 'dumpLineNumbers' || opt === 'rootpath' || opt === 'errorReporting') {\r\n                  options[opt] = tag.dataset[opt];\r\n              }\r\n              else {\r\n                  try {\r\n                      options[opt] = JSON.parse(tag.dataset[opt]);\r\n                  }\r\n                  catch (_) { }\r\n              }\r\n          }\r\n      }\r\n  }\n\n  var browser = {\r\n      createCSS: function (document, styles, sheet) {\r\n          // Strip the query-string\r\n          var href = sheet.href || '';\r\n          // If there is no title set, use the filename, minus the extension\r\n          var id = \"less:\" + (sheet.title || extractId(href));\r\n          // If this has already been inserted into the DOM, we may need to replace it\r\n          var oldStyleNode = document.getElementById(id);\r\n          var keepOldStyleNode = false;\r\n          // Create a new stylesheet node for insertion or (if necessary) replacement\r\n          var styleNode = document.createElement('style');\r\n          styleNode.setAttribute('type', 'text/css');\r\n          if (sheet.media) {\r\n              styleNode.setAttribute('media', sheet.media);\r\n          }\r\n          styleNode.id = id;\r\n          if (!styleNode.styleSheet) {\r\n              styleNode.appendChild(document.createTextNode(styles));\r\n              // If new contents match contents of oldStyleNode, don't replace oldStyleNode\r\n              keepOldStyleNode = (oldStyleNode !== null && oldStyleNode.childNodes.length > 0 && styleNode.childNodes.length > 0 &&\r\n                  oldStyleNode.firstChild.nodeValue === styleNode.firstChild.nodeValue);\r\n          }\r\n          var head = document.getElementsByTagName('head')[0];\r\n          // If there is no oldStyleNode, just append; otherwise, only append if we need\r\n          // to replace oldStyleNode with an updated stylesheet\r\n          if (oldStyleNode === null || keepOldStyleNode === false) {\r\n              var nextEl = sheet && sheet.nextSibling || null;\r\n              if (nextEl) {\r\n                  nextEl.parentNode.insertBefore(styleNode, nextEl);\r\n              }\r\n              else {\r\n                  head.appendChild(styleNode);\r\n              }\r\n          }\r\n          if (oldStyleNode && keepOldStyleNode === false) {\r\n              oldStyleNode.parentNode.removeChild(oldStyleNode);\r\n          }\r\n          // For IE.\r\n          // This needs to happen *after* the style element is added to the DOM, otherwise IE 7 and 8 may crash.\r\n          // See http://social.msdn.microsoft.com/Forums/en-US/7e081b65-878a-4c22-8e68-c10d39c2ed32/internet-explorer-crashes-appending-style-element-to-head\r\n          if (styleNode.styleSheet) {\r\n              try {\r\n                  styleNode.styleSheet.cssText = styles;\r\n              }\r\n              catch (e) {\r\n                  throw new Error('Couldn\\'t reassign styleSheet.cssText.');\r\n              }\r\n          }\r\n      },\r\n      currentScript: function (window) {\r\n          var document = window.document;\r\n          return document.currentScript || (function () {\r\n              var scripts = document.getElementsByTagName('script');\r\n              return scripts[scripts.length - 1];\r\n          })();\r\n      }\r\n  };\n\n  var addDefaultOptions = (function (window, options) {\r\n      // use options from the current script tag data attribues\r\n      addDataAttr(options, browser.currentScript(window));\r\n      if (options.isFileProtocol === undefined) {\r\n          options.isFileProtocol = /^(file|(chrome|safari)(-extension)?|resource|qrc|app):/.test(window.location.protocol);\r\n      }\r\n      // Load styles asynchronously (default: false)\r\n      //\r\n      // This is set to `false` by default, so that the body\r\n      // doesn't start loading before the stylesheets are parsed.\r\n      // Setting this to `true` can result in flickering.\r\n      //\r\n      options.async = options.async || false;\r\n      options.fileAsync = options.fileAsync || false;\r\n      // Interval between watch polls\r\n      options.poll = options.poll || (options.isFileProtocol ? 1000 : 1500);\r\n      options.env = options.env || (window.location.hostname == '127.0.0.1' ||\r\n          window.location.hostname == '0.0.0.0' ||\r\n          window.location.hostname == 'localhost' ||\r\n          (window.location.port &&\r\n              window.location.port.length > 0) ||\r\n          options.isFileProtocol ? 'development'\r\n          : 'production');\r\n      var dumpLineNumbers = /!dumpLineNumbers:(comments|mediaquery|all)/.exec(window.location.hash);\r\n      if (dumpLineNumbers) {\r\n          options.dumpLineNumbers = dumpLineNumbers[1];\r\n      }\r\n      if (options.useFileCache === undefined) {\r\n          options.useFileCache = true;\r\n      }\r\n      if (options.onReady === undefined) {\r\n          options.onReady = true;\r\n      }\r\n      if (options.relativeUrls) {\r\n          options.rewriteUrls = 'all';\r\n      }\r\n  });\n\n  /*! *****************************************************************************\r\n  Copyright (c) Microsoft Corporation.\r\n\n  Permission to use, copy, modify, and/or distribute this software for any\r\n  purpose with or without fee is hereby granted.\r\n\n  THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\n  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\n  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\n  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\n  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\n  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\n  PERFORMANCE OF THIS SOFTWARE.\r\n  ***************************************************************************** */\r\n  /* global Reflect, Promise */\r\n  var extendStatics = function (d, b) {\r\n      extendStatics = Object.setPrototypeOf ||\r\n          ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n          function (d, b) { for (var p in b)\r\n              if (b.hasOwnProperty(p))\r\n                  d[p] = b[p]; };\r\n      return extendStatics(d, b);\r\n  };\r\n  function __extends(d, b) {\r\n      extendStatics(d, b);\r\n      function __() { this.constructor = d; }\r\n      d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n  }\r\n  function __spreadArrays() {\r\n      for (var s = 0, i = 0, il = arguments.length; i < il; i++)\r\n          s += arguments[i].length;\r\n      for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n          for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n              r[k] = a[j];\r\n      return r;\r\n  }\n\n  var colors = {\r\n      'aliceblue': '#f0f8ff',\r\n      'antiquewhite': '#faebd7',\r\n      'aqua': '#00ffff',\r\n      'aquamarine': '#7fffd4',\r\n      'azure': '#f0ffff',\r\n      'beige': '#f5f5dc',\r\n      'bisque': '#ffe4c4',\r\n      'black': '#000000',\r\n      'blanchedalmond': '#ffebcd',\r\n      'blue': '#0000ff',\r\n      'blueviolet': '#8a2be2',\r\n      'brown': '#a52a2a',\r\n      'burlywood': '#deb887',\r\n      'cadetblue': '#5f9ea0',\r\n      'chartreuse': '#7fff00',\r\n      'chocolate': '#d2691e',\r\n      'coral': '#ff7f50',\r\n      'cornflowerblue': '#6495ed',\r\n      'cornsilk': '#fff8dc',\r\n      'crimson': '#dc143c',\r\n      'cyan': '#00ffff',\r\n      'darkblue': '#00008b',\r\n      'darkcyan': '#008b8b',\r\n      'darkgoldenrod': '#b8860b',\r\n      'darkgray': '#a9a9a9',\r\n      'darkgrey': '#a9a9a9',\r\n      'darkgreen': '#006400',\r\n      'darkkhaki': '#bdb76b',\r\n      'darkmagenta': '#8b008b',\r\n      'darkolivegreen': '#556b2f',\r\n      'darkorange': '#ff8c00',\r\n      'darkorchid': '#9932cc',\r\n      'darkred': '#8b0000',\r\n      'darksalmon': '#e9967a',\r\n      'darkseagreen': '#8fbc8f',\r\n      'darkslateblue': '#483d8b',\r\n      'darkslategray': '#2f4f4f',\r\n      'darkslategrey': '#2f4f4f',\r\n      'darkturquoise': '#00ced1',\r\n      'darkviolet': '#9400d3',\r\n      'deeppink': '#ff1493',\r\n      'deepskyblue': '#00bfff',\r\n      'dimgray': '#696969',\r\n      'dimgrey': '#696969',\r\n      'dodgerblue': '#1e90ff',\r\n      'firebrick': '#b22222',\r\n      'floralwhite': '#fffaf0',\r\n      'forestgreen': '#228b22',\r\n      'fuchsia': '#ff00ff',\r\n      'gainsboro': '#dcdcdc',\r\n      'ghostwhite': '#f8f8ff',\r\n      'gold': '#ffd700',\r\n      'goldenrod': '#daa520',\r\n      'gray': '#808080',\r\n      'grey': '#808080',\r\n      'green': '#008000',\r\n      'greenyellow': '#adff2f',\r\n      'honeydew': '#f0fff0',\r\n      'hotpink': '#ff69b4',\r\n      'indianred': '#cd5c5c',\r\n      'indigo': '#4b0082',\r\n      'ivory': '#fffff0',\r\n      'khaki': '#f0e68c',\r\n      'lavender': '#e6e6fa',\r\n      'lavenderblush': '#fff0f5',\r\n      'lawngreen': '#7cfc00',\r\n      'lemonchiffon': '#fffacd',\r\n      'lightblue': '#add8e6',\r\n      'lightcoral': '#f08080',\r\n      'lightcyan': '#e0ffff',\r\n      'lightgoldenrodyellow': '#fafad2',\r\n      'lightgray': '#d3d3d3',\r\n      'lightgrey': '#d3d3d3',\r\n      'lightgreen': '#90ee90',\r\n      'lightpink': '#ffb6c1',\r\n      'lightsalmon': '#ffa07a',\r\n      'lightseagreen': '#20b2aa',\r\n      'lightskyblue': '#87cefa',\r\n      'lightslategray': '#778899',\r\n      'lightslategrey': '#778899',\r\n      'lightsteelblue': '#b0c4de',\r\n      'lightyellow': '#ffffe0',\r\n      'lime': '#00ff00',\r\n      'limegreen': '#32cd32',\r\n      'linen': '#faf0e6',\r\n      'magenta': '#ff00ff',\r\n      'maroon': '#800000',\r\n      'mediumaquamarine': '#66cdaa',\r\n      'mediumblue': '#0000cd',\r\n      'mediumorchid': '#ba55d3',\r\n      'mediumpurple': '#9370d8',\r\n      'mediumseagreen': '#3cb371',\r\n      'mediumslateblue': '#7b68ee',\r\n      'mediumspringgreen': '#00fa9a',\r\n      'mediumturquoise': '#48d1cc',\r\n      'mediumvioletred': '#c71585',\r\n      'midnightblue': '#191970',\r\n      'mintcream': '#f5fffa',\r\n      'mistyrose': '#ffe4e1',\r\n      'moccasin': '#ffe4b5',\r\n      'navajowhite': '#ffdead',\r\n      'navy': '#000080',\r\n      'oldlace': '#fdf5e6',\r\n      'olive': '#808000',\r\n      'olivedrab': '#6b8e23',\r\n      'orange': '#ffa500',\r\n      'orangered': '#ff4500',\r\n      'orchid': '#da70d6',\r\n      'palegoldenrod': '#eee8aa',\r\n      'palegreen': '#98fb98',\r\n      'paleturquoise': '#afeeee',\r\n      'palevioletred': '#d87093',\r\n      'papayawhip': '#ffefd5',\r\n      'peachpuff': '#ffdab9',\r\n      'peru': '#cd853f',\r\n      'pink': '#ffc0cb',\r\n      'plum': '#dda0dd',\r\n      'powderblue': '#b0e0e6',\r\n      'purple': '#800080',\r\n      'rebeccapurple': '#663399',\r\n      'red': '#ff0000',\r\n      'rosybrown': '#bc8f8f',\r\n      'royalblue': '#4169e1',\r\n      'saddlebrown': '#8b4513',\r\n      'salmon': '#fa8072',\r\n      'sandybrown': '#f4a460',\r\n      'seagreen': '#2e8b57',\r\n      'seashell': '#fff5ee',\r\n      'sienna': '#a0522d',\r\n      'silver': '#c0c0c0',\r\n      'skyblue': '#87ceeb',\r\n      'slateblue': '#6a5acd',\r\n      'slategray': '#708090',\r\n      'slategrey': '#708090',\r\n      'snow': '#fffafa',\r\n      'springgreen': '#00ff7f',\r\n      'steelblue': '#4682b4',\r\n      'tan': '#d2b48c',\r\n      'teal': '#008080',\r\n      'thistle': '#d8bfd8',\r\n      'tomato': '#ff6347',\r\n      'turquoise': '#40e0d0',\r\n      'violet': '#ee82ee',\r\n      'wheat': '#f5deb3',\r\n      'white': '#ffffff',\r\n      'whitesmoke': '#f5f5f5',\r\n      'yellow': '#ffff00',\r\n      'yellowgreen': '#9acd32'\r\n  };\n\n  var unitConversions = {\r\n      length: {\r\n          'm': 1,\r\n          'cm': 0.01,\r\n          'mm': 0.001,\r\n          'in': 0.0254,\r\n          'px': 0.0254 / 96,\r\n          'pt': 0.0254 / 72,\r\n          'pc': 0.0254 / 72 * 12\r\n      },\r\n      duration: {\r\n          's': 1,\r\n          'ms': 0.001\r\n      },\r\n      angle: {\r\n          'rad': 1 / (2 * Math.PI),\r\n          'deg': 1 / 360,\r\n          'grad': 1 / 400,\r\n          'turn': 1\r\n      }\r\n  };\n\n  var data = { colors: colors, unitConversions: unitConversions };\n\n  /**\r\n   * The reason why Node is a class and other nodes simply do not extend\r\n   * from Node (since we're transpiling) is due to this issue:\r\n   *\r\n   * https://github.com/less/less.js/issues/3434\r\n   */\r\n  var Node = /** @class */ (function () {\r\n      function Node() {\r\n          this.parent = null;\r\n          this.visibilityBlocks = undefined;\r\n          this.nodeVisible = undefined;\r\n          this.rootNode = null;\r\n          this.parsed = null;\r\n          var self = this;\r\n          Object.defineProperty(this, 'currentFileInfo', {\r\n              get: function () { return self.fileInfo(); }\r\n          });\r\n          Object.defineProperty(this, 'index', {\r\n              get: function () { return self.getIndex(); }\r\n          });\r\n      }\r\n      Node.prototype.setParent = function (nodes, parent) {\r\n          function set(node) {\r\n              if (node && node instanceof Node) {\r\n                  node.parent = parent;\r\n              }\r\n          }\r\n          if (Array.isArray(nodes)) {\r\n              nodes.forEach(set);\r\n          }\r\n          else {\r\n              set(nodes);\r\n          }\r\n      };\r\n      Node.prototype.getIndex = function () {\r\n          return this._index || (this.parent && this.parent.getIndex()) || 0;\r\n      };\r\n      Node.prototype.fileInfo = function () {\r\n          return this._fileInfo || (this.parent && this.parent.fileInfo()) || {};\r\n      };\r\n      Node.prototype.isRulesetLike = function () {\r\n          return false;\r\n      };\r\n      Node.prototype.toCSS = function (context) {\r\n          var strs = [];\r\n          this.genCSS(context, {\r\n              add: function (chunk, fileInfo, index) {\r\n                  strs.push(chunk);\r\n              },\r\n              isEmpty: function () {\r\n                  return strs.length === 0;\r\n              }\r\n          });\r\n          return strs.join('');\r\n      };\r\n      Node.prototype.genCSS = function (context, output) {\r\n          output.add(this.value);\r\n      };\r\n      Node.prototype.accept = function (visitor) {\r\n          this.value = visitor.visit(this.value);\r\n      };\r\n      Node.prototype.eval = function () { return this; };\r\n      Node.prototype._operate = function (context, op, a, b) {\r\n          switch (op) {\r\n              case '+': return a + b;\r\n              case '-': return a - b;\r\n              case '*': return a * b;\r\n              case '/': return a / b;\r\n          }\r\n      };\r\n      Node.prototype.fround = function (context, value) {\r\n          var precision = context && context.numPrecision;\r\n          // add \"epsilon\" to ensure numbers like 1.000000005 (represented as 1.000000004999...) are properly rounded:\r\n          return (precision) ? Number((value + 2e-16).toFixed(precision)) : value;\r\n      };\r\n      // Returns true if this node represents root of ast imported by reference\r\n      Node.prototype.blocksVisibility = function () {\r\n          if (this.visibilityBlocks == null) {\r\n              this.visibilityBlocks = 0;\r\n          }\r\n          return this.visibilityBlocks !== 0;\r\n      };\r\n      Node.prototype.addVisibilityBlock = function () {\r\n          if (this.visibilityBlocks == null) {\r\n              this.visibilityBlocks = 0;\r\n          }\r\n          this.visibilityBlocks = this.visibilityBlocks + 1;\r\n      };\r\n      Node.prototype.removeVisibilityBlock = function () {\r\n          if (this.visibilityBlocks == null) {\r\n              this.visibilityBlocks = 0;\r\n          }\r\n          this.visibilityBlocks = this.visibilityBlocks - 1;\r\n      };\r\n      // Turns on node visibility - if called node will be shown in output regardless\r\n      // of whether it comes from import by reference or not\r\n      Node.prototype.ensureVisibility = function () {\r\n          this.nodeVisible = true;\r\n      };\r\n      // Turns off node visibility - if called node will NOT be shown in output regardless\r\n      // of whether it comes from import by reference or not\r\n      Node.prototype.ensureInvisibility = function () {\r\n          this.nodeVisible = false;\r\n      };\r\n      // return values:\r\n      // false - the node must not be visible\r\n      // true - the node must be visible\r\n      // undefined or null - the node has the same visibility as its parent\r\n      Node.prototype.isVisible = function () {\r\n          return this.nodeVisible;\r\n      };\r\n      Node.prototype.visibilityInfo = function () {\r\n          return {\r\n              visibilityBlocks: this.visibilityBlocks,\r\n              nodeVisible: this.nodeVisible\r\n          };\r\n      };\r\n      Node.prototype.copyVisibilityInfo = function (info) {\r\n          if (!info) {\r\n              return;\r\n          }\r\n          this.visibilityBlocks = info.visibilityBlocks;\r\n          this.nodeVisible = info.nodeVisible;\r\n      };\r\n      return Node;\r\n  }());\r\n  Node.compare = function (a, b) {\r\n      /* returns:\r\n       -1: a < b\r\n       0: a = b\r\n       1: a > b\r\n       and *any* other value for a != b (e.g. undefined, NaN, -2 etc.) */\r\n      if ((a.compare) &&\r\n          // for \"symmetric results\" force toCSS-based comparison\r\n          // of Quoted or Anonymous if either value is one of those\r\n          !(b.type === 'Quoted' || b.type === 'Anonymous')) {\r\n          return a.compare(b);\r\n      }\r\n      else if (b.compare) {\r\n          return -b.compare(a);\r\n      }\r\n      else if (a.type !== b.type) {\r\n          return undefined;\r\n      }\r\n      a = a.value;\r\n      b = b.value;\r\n      if (!Array.isArray(a)) {\r\n          return a === b ? 0 : undefined;\r\n      }\r\n      if (a.length !== b.length) {\r\n          return undefined;\r\n      }\r\n      for (var i = 0; i < a.length; i++) {\r\n          if (Node.compare(a[i], b[i]) !== 0) {\r\n              return undefined;\r\n          }\r\n      }\r\n      return 0;\r\n  };\r\n  Node.numericCompare = function (a, b) { return a < b ? -1\r\n      : a === b ? 0\r\n          : a > b ? 1 : undefined; };\n\n  //\r\n  // RGB Colors - #ff0014, #eee\r\n  //\r\n  var Color = function (rgb, a, originalForm) {\r\n      var self = this;\r\n      //\r\n      // The end goal here, is to parse the arguments\r\n      // into an integer triplet, such as `128, 255, 0`\r\n      //\r\n      // This facilitates operations and conversions.\r\n      //\r\n      if (Array.isArray(rgb)) {\r\n          this.rgb = rgb;\r\n      }\r\n      else if (rgb.length >= 6) {\r\n          this.rgb = [];\r\n          rgb.match(/.{2}/g).map(function (c, i) {\r\n              if (i < 3) {\r\n                  self.rgb.push(parseInt(c, 16));\r\n              }\r\n              else {\r\n                  self.alpha = (parseInt(c, 16)) / 255;\r\n              }\r\n          });\r\n      }\r\n      else {\r\n          this.rgb = [];\r\n          rgb.split('').map(function (c, i) {\r\n              if (i < 3) {\r\n                  self.rgb.push(parseInt(c + c, 16));\r\n              }\r\n              else {\r\n                  self.alpha = (parseInt(c + c, 16)) / 255;\r\n              }\r\n          });\r\n      }\r\n      this.alpha = this.alpha || (typeof a === 'number' ? a : 1);\r\n      if (typeof originalForm !== 'undefined') {\r\n          this.value = originalForm;\r\n      }\r\n  };\r\n  Color.prototype = new Node();\r\n  Color.prototype.luma = function () {\r\n      var r = this.rgb[0] / 255;\r\n      var g = this.rgb[1] / 255;\r\n      var b = this.rgb[2] / 255;\r\n      r = (r <= 0.03928) ? r / 12.92 : Math.pow(((r + 0.055) / 1.055), 2.4);\r\n      g = (g <= 0.03928) ? g / 12.92 : Math.pow(((g + 0.055) / 1.055), 2.4);\r\n      b = (b <= 0.03928) ? b / 12.92 : Math.pow(((b + 0.055) / 1.055), 2.4);\r\n      return 0.2126 * r + 0.7152 * g + 0.0722 * b;\r\n  };\r\n  Color.prototype.genCSS = function (context, output) {\r\n      output.add(this.toCSS(context));\r\n  };\r\n  Color.prototype.toCSS = function (context, doNotCompress) {\r\n      var compress = context && context.compress && !doNotCompress;\r\n      var color;\r\n      var alpha;\r\n      var colorFunction;\r\n      var args = [];\r\n      // `value` is set if this color was originally\r\n      // converted from a named color string so we need\r\n      // to respect this and try to output named color too.\r\n      alpha = this.fround(context, this.alpha);\r\n      if (this.value) {\r\n          if (this.value.indexOf('rgb') === 0) {\r\n              if (alpha < 1) {\r\n                  colorFunction = 'rgba';\r\n              }\r\n          }\r\n          else if (this.value.indexOf('hsl') === 0) {\r\n              if (alpha < 1) {\r\n                  colorFunction = 'hsla';\r\n              }\r\n              else {\r\n                  colorFunction = 'hsl';\r\n              }\r\n          }\r\n          else {\r\n              return this.value;\r\n          }\r\n      }\r\n      else {\r\n          if (alpha < 1) {\r\n              colorFunction = 'rgba';\r\n          }\r\n      }\r\n      switch (colorFunction) {\r\n          case 'rgba':\r\n              args = this.rgb.map(function (c) { return clamp(Math.round(c), 255); }).concat(clamp(alpha, 1));\r\n              break;\r\n          case 'hsla':\r\n              args.push(clamp(alpha, 1));\r\n          case 'hsl':\r\n              color = this.toHSL();\r\n              args = [\r\n                  this.fround(context, color.h),\r\n                  this.fround(context, color.s * 100) + \"%\",\r\n                  this.fround(context, color.l * 100) + \"%\"\r\n              ].concat(args);\r\n      }\r\n      if (colorFunction) {\r\n          // Values are capped between `0` and `255`, rounded and zero-padded.\r\n          return colorFunction + \"(\" + args.join(\",\" + (compress ? '' : ' ')) + \")\";\r\n      }\r\n      color = this.toRGB();\r\n      if (compress) {\r\n          var splitcolor = color.split('');\r\n          // Convert color to short format\r\n          if (splitcolor[1] === splitcolor[2] && splitcolor[3] === splitcolor[4] && splitcolor[5] === splitcolor[6]) {\r\n              color = \"#\" + splitcolor[1] + splitcolor[3] + splitcolor[5];\r\n          }\r\n      }\r\n      return color;\r\n  };\r\n  //\r\n  // Operations have to be done per-channel, if not,\r\n  // channels will spill onto each other. Once we have\r\n  // our result, in the form of an integer triplet,\r\n  // we create a new Color node to hold the result.\r\n  //\r\n  Color.prototype.operate = function (context, op, other) {\r\n      var rgb = new Array(3);\r\n      var alpha = this.alpha * (1 - other.alpha) + other.alpha;\r\n      for (var c = 0; c < 3; c++) {\r\n          rgb[c] = this._operate(context, op, this.rgb[c], other.rgb[c]);\r\n      }\r\n      return new Color(rgb, alpha);\r\n  };\r\n  Color.prototype.toRGB = function () {\r\n      return toHex(this.rgb);\r\n  };\r\n  Color.prototype.toHSL = function () {\r\n      var r = this.rgb[0] / 255;\r\n      var g = this.rgb[1] / 255;\r\n      var b = this.rgb[2] / 255;\r\n      var a = this.alpha;\r\n      var max = Math.max(r, g, b);\r\n      var min = Math.min(r, g, b);\r\n      var h;\r\n      var s;\r\n      var l = (max + min) / 2;\r\n      var d = max - min;\r\n      if (max === min) {\r\n          h = s = 0;\r\n      }\r\n      else {\r\n          s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\r\n          switch (max) {\r\n              case r:\r\n                  h = (g - b) / d + (g < b ? 6 : 0);\r\n                  break;\r\n              case g:\r\n                  h = (b - r) / d + 2;\r\n                  break;\r\n              case b:\r\n                  h = (r - g) / d + 4;\r\n                  break;\r\n          }\r\n          h /= 6;\r\n      }\r\n      return { h: h * 360, s: s, l: l, a: a };\r\n  };\r\n  // Adapted from http://mjijackson.com/2008/02/rgb-to-hsl-and-rgb-to-hsv-color-model-conversion-algorithms-in-javascript\r\n  Color.prototype.toHSV = function () {\r\n      var r = this.rgb[0] / 255;\r\n      var g = this.rgb[1] / 255;\r\n      var b = this.rgb[2] / 255;\r\n      var a = this.alpha;\r\n      var max = Math.max(r, g, b);\r\n      var min = Math.min(r, g, b);\r\n      var h;\r\n      var s;\r\n      var v = max;\r\n      var d = max - min;\r\n      if (max === 0) {\r\n          s = 0;\r\n      }\r\n      else {\r\n          s = d / max;\r\n      }\r\n      if (max === min) {\r\n          h = 0;\r\n      }\r\n      else {\r\n          switch (max) {\r\n              case r:\r\n                  h = (g - b) / d + (g < b ? 6 : 0);\r\n                  break;\r\n              case g:\r\n                  h = (b - r) / d + 2;\r\n                  break;\r\n              case b:\r\n                  h = (r - g) / d + 4;\r\n                  break;\r\n          }\r\n          h /= 6;\r\n      }\r\n      return { h: h * 360, s: s, v: v, a: a };\r\n  };\r\n  Color.prototype.toARGB = function () {\r\n      return toHex([this.alpha * 255].concat(this.rgb));\r\n  };\r\n  Color.prototype.compare = function (x) {\r\n      return (x.rgb &&\r\n          x.rgb[0] === this.rgb[0] &&\r\n          x.rgb[1] === this.rgb[1] &&\r\n          x.rgb[2] === this.rgb[2] &&\r\n          x.alpha === this.alpha) ? 0 : undefined;\r\n  };\r\n  Color.prototype.type = 'Color';\r\n  function clamp(v, max) {\r\n      return Math.min(Math.max(v, 0), max);\r\n  }\r\n  function toHex(v) {\r\n      return \"#\" + v.map(function (c) {\r\n          c = clamp(Math.round(c), 255);\r\n          return (c < 16 ? '0' : '') + c.toString(16);\r\n      }).join('');\r\n  }\r\n  Color.fromKeyword = function (keyword) {\r\n      var c;\r\n      var key = keyword.toLowerCase();\r\n      if (colors.hasOwnProperty(key)) {\r\n          c = new Color(colors[key].slice(1));\r\n      }\r\n      else if (key === 'transparent') {\r\n          c = new Color([0, 0, 0], 0);\r\n      }\r\n      if (c) {\r\n          c.value = keyword;\r\n          return c;\r\n      }\r\n  };\n\n  var Paren = function (node) {\r\n      this.value = node;\r\n  };\r\n  Paren.prototype = new Node();\r\n  Paren.prototype.genCSS = function (context, output) {\r\n      output.add('(');\r\n      this.value.genCSS(context, output);\r\n      output.add(')');\r\n  };\r\n  Paren.prototype.eval = function (context) {\r\n      return new Paren(this.value.eval(context));\r\n  };\r\n  Paren.prototype.type = 'Paren';\n\n  var _noSpaceCombinators = {\r\n      '': true,\r\n      ' ': true,\r\n      '|': true\r\n  };\r\n  var Combinator = function (value) {\r\n      if (value === ' ') {\r\n          this.value = ' ';\r\n          this.emptyOrWhitespace = true;\r\n      }\r\n      else {\r\n          this.value = value ? value.trim() : '';\r\n          this.emptyOrWhitespace = this.value === '';\r\n      }\r\n  };\r\n  Combinator.prototype = new Node();\r\n  Combinator.prototype.genCSS = function (context, output) {\r\n      var spaceOrEmpty = (context.compress || _noSpaceCombinators[this.value]) ? '' : ' ';\r\n      output.add(spaceOrEmpty + this.value + spaceOrEmpty);\r\n  };\r\n  Combinator.prototype.type = 'Combinator';\n\n  var Element = function (combinator, value, isVariable, index, currentFileInfo, visibilityInfo) {\r\n      this.combinator = combinator instanceof Combinator ?\r\n          combinator : new Combinator(combinator);\r\n      if (typeof value === 'string') {\r\n          this.value = value.trim();\r\n      }\r\n      else if (value) {\r\n          this.value = value;\r\n      }\r\n      else {\r\n          this.value = '';\r\n      }\r\n      this.isVariable = isVariable;\r\n      this._index = index;\r\n      this._fileInfo = currentFileInfo;\r\n      this.copyVisibilityInfo(visibilityInfo);\r\n      this.setParent(this.combinator, this);\r\n  };\r\n  Element.prototype = new Node();\r\n  Element.prototype.accept = function (visitor) {\r\n      var value = this.value;\r\n      this.combinator = visitor.visit(this.combinator);\r\n      if (typeof value === 'object') {\r\n          this.value = visitor.visit(value);\r\n      }\r\n  };\r\n  Element.prototype.eval = function (context) {\r\n      return new Element(this.combinator, this.value.eval ? this.value.eval(context) : this.value, this.isVariable, this.getIndex(), this.fileInfo(), this.visibilityInfo());\r\n  };\r\n  Element.prototype.clone = function () {\r\n      return new Element(this.combinator, this.value, this.isVariable, this.getIndex(), this.fileInfo(), this.visibilityInfo());\r\n  };\r\n  Element.prototype.genCSS = function (context, output) {\r\n      output.add(this.toCSS(context), this.fileInfo(), this.getIndex());\r\n  };\r\n  Element.prototype.toCSS = function (context) {\r\n      if (context === void 0) { context = {}; }\r\n      var value = this.value;\r\n      var firstSelector = context.firstSelector;\r\n      if (value instanceof Paren) {\r\n          // selector in parens should not be affected by outer selector\r\n          // flags (breaks only interpolated selectors - see #1973)\r\n          context.firstSelector = true;\r\n      }\r\n      value = value.toCSS ? value.toCSS(context) : value;\r\n      context.firstSelector = firstSelector;\r\n      if (value === '' && this.combinator.value.charAt(0) === '&') {\r\n          return '';\r\n      }\r\n      else {\r\n          return this.combinator.toCSS(context) + value;\r\n      }\r\n  };\r\n  Element.prototype.type = 'Element';\n\n  var Math$1 = {\r\n      ALWAYS: 0,\r\n      PARENS_DIVISION: 1,\r\n      PARENS: 2,\r\n      STRICT_LEGACY: 3\r\n  };\r\n  var RewriteUrls = {\r\n      OFF: 0,\r\n      LOCAL: 1,\r\n      ALL: 2\r\n  };\n\n  /**\r\n   * Returns the object type of the given payload\r\n   *\r\n   * @param {*} payload\r\n   * @returns {string}\r\n   */\r\n  function getType(payload) {\r\n      return Object.prototype.toString.call(payload).slice(8, -1);\r\n  }\r\n  /**\r\n   * Returns whether the payload is a plain JavaScript object (excluding special classes or objects with other prototypes)\r\n   *\r\n   * @param {*} payload\r\n   * @returns {payload is Record<string, any>}\r\n   */\r\n  function isPlainObject(payload) {\r\n      if (getType(payload) !== 'Object')\r\n          return false;\r\n      return payload.constructor === Object && Object.getPrototypeOf(payload) === Object.prototype;\r\n  }\r\n  /**\r\n   * Returns whether the payload is an array\r\n   *\r\n   * @param {any} payload\r\n   * @returns {payload is any[]}\r\n   */\r\n  function isArray(payload) {\r\n      return getType(payload) === 'Array';\r\n  }\n\n  /*! *****************************************************************************\r\n  Copyright (c) Microsoft Corporation. All rights reserved.\r\n  Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\n  this file except in compliance with the License. You may obtain a copy of the\r\n  License at http://www.apache.org/licenses/LICENSE-2.0\r\n\n  THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n  KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\n  WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\n  MERCHANTABLITY OR NON-INFRINGEMENT.\r\n\n  See the Apache Version 2.0 License for specific language governing permissions\r\n  and limitations under the License.\r\n  ***************************************************************************** */\r\n  function __spreadArrays$1() {\r\n      for (var s = 0, i = 0, il = arguments.length; i < il; i++)\r\n          s += arguments[i].length;\r\n      for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n          for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n              r[k] = a[j];\r\n      return r;\r\n  }\r\n  function assignProp(carry, key, newVal, originalObject, includeNonenumerable) {\r\n      var propType = {}.propertyIsEnumerable.call(originalObject, key)\r\n          ? 'enumerable'\r\n          : 'nonenumerable';\r\n      if (propType === 'enumerable')\r\n          carry[key] = newVal;\r\n      if (includeNonenumerable && propType === 'nonenumerable') {\r\n          Object.defineProperty(carry, key, {\r\n              value: newVal,\r\n              enumerable: false,\r\n              writable: true,\r\n              configurable: true,\r\n          });\r\n      }\r\n  }\r\n  /**\r\n   * Copy (clone) an object and all its props recursively to get rid of any prop referenced of the original object. Arrays are also cloned, however objects inside arrays are still linked.\r\n   *\r\n   * @export\r\n   * @template T\r\n   * @param {T} target Target can be anything\r\n   * @param {Options} [options={}] Options can be `props` or `nonenumerable`\r\n   * @returns {T} the target with replaced values\r\n   * @export\r\n   */\r\n  function copy(target, options) {\r\n      if (options === void 0) {\r\n          options = {};\r\n      }\r\n      if (isArray(target))\r\n          return target.map(function (i) { return copy(i, options); });\r\n      if (!isPlainObject(target))\r\n          return target;\r\n      var props = Object.getOwnPropertyNames(target);\r\n      var symbols = Object.getOwnPropertySymbols(target);\r\n      return __spreadArrays$1(props, symbols).reduce(function (carry, key) {\r\n          if (isArray(options.props) && !options.props.includes(key)) {\r\n              return carry;\r\n          }\r\n          var val = target[key];\r\n          var newVal = copy(val, options);\r\n          assignProp(carry, key, newVal, target, options.nonenumerable);\r\n          return carry;\r\n      }, {});\r\n  }\n\n  /* jshint proto: true */\r\n  function getLocation(index, inputStream) {\r\n      var n = index + 1;\r\n      var line = null;\r\n      var column = -1;\r\n      while (--n >= 0 && inputStream.charAt(n) !== '\\n') {\r\n          column++;\r\n      }\r\n      if (typeof index === 'number') {\r\n          line = (inputStream.slice(0, index).match(/\\n/g) || '').length;\r\n      }\r\n      return {\r\n          line: line,\r\n          column: column\r\n      };\r\n  }\r\n  function copyArray(arr) {\r\n      var i;\r\n      var length = arr.length;\r\n      var copy = new Array(length);\r\n      for (i = 0; i < length; i++) {\r\n          copy[i] = arr[i];\r\n      }\r\n      return copy;\r\n  }\r\n  function clone(obj) {\r\n      var cloned = {};\r\n      for (var prop in obj) {\r\n          if (obj.hasOwnProperty(prop)) {\r\n              cloned[prop] = obj[prop];\r\n          }\r\n      }\r\n      return cloned;\r\n  }\r\n  function defaults(obj1, obj2) {\r\n      var newObj = obj2 || {};\r\n      if (!obj2._defaults) {\r\n          newObj = {};\r\n          var defaults_1 = copy(obj1);\r\n          newObj._defaults = defaults_1;\r\n          var cloned = obj2 ? copy(obj2) : {};\r\n          Object.assign(newObj, defaults_1, cloned);\r\n      }\r\n      return newObj;\r\n  }\r\n  function copyOptions(obj1, obj2) {\r\n      if (obj2 && obj2._defaults) {\r\n          return obj2;\r\n      }\r\n      var opts = defaults(obj1, obj2);\r\n      if (opts.strictMath) {\r\n          opts.math = Math$1.STRICT_LEGACY;\r\n      }\r\n      // Back compat with changed relativeUrls option\r\n      if (opts.relativeUrls) {\r\n          opts.rewriteUrls = RewriteUrls.ALL;\r\n      }\r\n      if (typeof opts.math === 'string') {\r\n          switch (opts.math.toLowerCase()) {\r\n              case 'always':\r\n                  opts.math = Math$1.ALWAYS;\r\n                  break;\r\n              case 'parens-division':\r\n                  opts.math = Math$1.PARENS_DIVISION;\r\n                  break;\r\n              case 'strict':\r\n              case 'parens':\r\n                  opts.math = Math$1.PARENS;\r\n                  break;\r\n              case 'strict-legacy':\r\n                  opts.math = Math$1.STRICT_LEGACY;\r\n          }\r\n      }\r\n      if (typeof opts.rewriteUrls === 'string') {\r\n          switch (opts.rewriteUrls.toLowerCase()) {\r\n              case 'off':\r\n                  opts.rewriteUrls = RewriteUrls.OFF;\r\n                  break;\r\n              case 'local':\r\n                  opts.rewriteUrls = RewriteUrls.LOCAL;\r\n                  break;\r\n              case 'all':\r\n                  opts.rewriteUrls = RewriteUrls.ALL;\r\n                  break;\r\n          }\r\n      }\r\n      return opts;\r\n  }\r\n  function merge(obj1, obj2) {\r\n      for (var prop in obj2) {\r\n          if (obj2.hasOwnProperty(prop)) {\r\n              obj1[prop] = obj2[prop];\r\n          }\r\n      }\r\n      return obj1;\r\n  }\r\n  function flattenArray(arr, result) {\r\n      if (result === void 0) { result = []; }\r\n      for (var i = 0, length_1 = arr.length; i < length_1; i++) {\r\n          var value = arr[i];\r\n          if (Array.isArray(value)) {\r\n              flattenArray(value, result);\r\n          }\r\n          else {\r\n              if (value !== undefined) {\r\n                  result.push(value);\r\n              }\r\n          }\r\n      }\r\n      return result;\r\n  }\n\n  var utils = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    getLocation: getLocation,\n    copyArray: copyArray,\n    clone: clone,\n    defaults: defaults,\n    copyOptions: copyOptions,\n    merge: merge,\n    flattenArray: flattenArray\n  });\n\n  var anonymousFunc = /(<anonymous>|Function):(\\d+):(\\d+)/;\r\n  /**\r\n   * This is a centralized class of any error that could be thrown internally (mostly by the parser).\r\n   * Besides standard .message it keeps some additional data like a path to the file where the error\r\n   * occurred along with line and column numbers.\r\n   *\r\n   * @class\r\n   * @extends Error\r\n   * @type {module.LessError}\r\n   *\r\n   * @prop {string} type\r\n   * @prop {string} filename\r\n   * @prop {number} index\r\n   * @prop {number} line\r\n   * @prop {number} column\r\n   * @prop {number} callLine\r\n   * @prop {number} callExtract\r\n   * @prop {string[]} extract\r\n   *\r\n   * @param {Object} e              - An error object to wrap around or just a descriptive object\r\n   * @param {Object} fileContentMap - An object with file contents in 'contents' property (like importManager) @todo - move to fileManager?\r\n   * @param {string} [currentFilename]\r\n   */\r\n  var LessError = function LessError(e, fileContentMap, currentFilename) {\r\n      Error.call(this);\r\n      var filename = e.filename || currentFilename;\r\n      this.message = e.message;\r\n      this.stack = e.stack;\r\n      if (fileContentMap && filename) {\r\n          var input = fileContentMap.contents[filename];\r\n          var loc = getLocation(e.index, input);\r\n          var line = loc.line;\r\n          var col = loc.column;\r\n          var callLine = e.call && getLocation(e.call, input).line;\r\n          var lines = input ? input.split('\\n') : '';\r\n          this.type = e.type || 'Syntax';\r\n          this.filename = filename;\r\n          this.index = e.index;\r\n          this.line = typeof line === 'number' ? line + 1 : null;\r\n          this.column = col;\r\n          if (!this.line && this.stack) {\r\n              var found = this.stack.match(anonymousFunc);\r\n              /**\r\n               * We have to figure out how this environment stringifies anonymous functions\r\n               * so we can correctly map plugin errors.\r\n               *\r\n               * Note, in Node 8, the output of anonymous funcs varied based on parameters\r\n               * being present or not, so we inject dummy params.\r\n               */\r\n              var func = new Function('a', 'throw new Error()');\r\n              var lineAdjust = 0;\r\n              try {\r\n                  func();\r\n              }\r\n              catch (e) {\r\n                  var match = e.stack.match(anonymousFunc);\r\n                  var line_1 = parseInt(match[2]);\r\n                  lineAdjust = 1 - line_1;\r\n              }\r\n              if (found) {\r\n                  if (found[2]) {\r\n                      this.line = parseInt(found[2]) + lineAdjust;\r\n                  }\r\n                  if (found[3]) {\r\n                      this.column = parseInt(found[3]);\r\n                  }\r\n              }\r\n          }\r\n          this.callLine = callLine + 1;\r\n          this.callExtract = lines[callLine];\r\n          this.extract = [\r\n              lines[this.line - 2],\r\n              lines[this.line - 1],\r\n              lines[this.line]\r\n          ];\r\n      }\r\n  };\r\n  if (typeof Object.create === 'undefined') {\r\n      var F = function () { };\r\n      F.prototype = Error.prototype;\r\n      LessError.prototype = new F();\r\n  }\r\n  else {\r\n      LessError.prototype = Object.create(Error.prototype);\r\n  }\r\n  LessError.prototype.constructor = LessError;\r\n  /**\r\n   * An overridden version of the default Object.prototype.toString\r\n   * which uses additional information to create a helpful message.\r\n   *\r\n   * @param {Object} options\r\n   * @returns {string}\r\n   */\r\n  LessError.prototype.toString = function (options) {\r\n      if (options === void 0) { options = {}; }\r\n      var message = '';\r\n      var extract = this.extract || [];\r\n      var error = [];\r\n      var stylize = function (str) { return str; };\r\n      if (options.stylize) {\r\n          var type = typeof options.stylize;\r\n          if (type !== 'function') {\r\n              throw Error(\"options.stylize should be a function, got a \" + type + \"!\");\r\n          }\r\n          stylize = options.stylize;\r\n      }\r\n      if (this.line !== null) {\r\n          if (typeof extract[0] === 'string') {\r\n              error.push(stylize(this.line - 1 + \" \" + extract[0], 'grey'));\r\n          }\r\n          if (typeof extract[1] === 'string') {\r\n              var errorTxt = this.line + \" \";\r\n              if (extract[1]) {\r\n                  errorTxt += extract[1].slice(0, this.column) +\r\n                      stylize(stylize(stylize(extract[1].substr(this.column, 1), 'bold') +\r\n                          extract[1].slice(this.column + 1), 'red'), 'inverse');\r\n              }\r\n              error.push(errorTxt);\r\n          }\r\n          if (typeof extract[2] === 'string') {\r\n              error.push(stylize(this.line + 1 + \" \" + extract[2], 'grey'));\r\n          }\r\n          error = error.join('\\n') + stylize('', 'reset') + \"\\n\";\r\n      }\r\n      message += stylize(this.type + \"Error: \" + this.message, 'red');\r\n      if (this.filename) {\r\n          message += stylize(' in ', 'red') + this.filename;\r\n      }\r\n      if (this.line) {\r\n          message += stylize(\" on line \" + this.line + \", column \" + (this.column + 1) + \":\", 'grey');\r\n      }\r\n      message += \"\\n\" + error;\r\n      if (this.callLine) {\r\n          message += stylize('from ', 'red') + (this.filename || '') + \"/n\";\r\n          message += stylize(this.callLine, 'grey') + \" \" + this.callExtract + \"/n\";\r\n      }\r\n      return message;\r\n  };\n\n  var Selector = function (elements, extendList, condition, index, currentFileInfo, visibilityInfo) {\r\n      this.extendList = extendList;\r\n      this.condition = condition;\r\n      this.evaldCondition = !condition;\r\n      this._index = index;\r\n      this._fileInfo = currentFileInfo;\r\n      this.elements = this.getElements(elements);\r\n      this.mixinElements_ = undefined;\r\n      this.copyVisibilityInfo(visibilityInfo);\r\n      this.setParent(this.elements, this);\r\n  };\r\n  Selector.prototype = new Node();\r\n  Selector.prototype.accept = function (visitor) {\r\n      if (this.elements) {\r\n          this.elements = visitor.visitArray(this.elements);\r\n      }\r\n      if (this.extendList) {\r\n          this.extendList = visitor.visitArray(this.extendList);\r\n      }\r\n      if (this.condition) {\r\n          this.condition = visitor.visit(this.condition);\r\n      }\r\n  };\r\n  Selector.prototype.createDerived = function (elements, extendList, evaldCondition) {\r\n      elements = this.getElements(elements);\r\n      var newSelector = new Selector(elements, extendList || this.extendList, null, this.getIndex(), this.fileInfo(), this.visibilityInfo());\r\n      newSelector.evaldCondition = (evaldCondition != null) ? evaldCondition : this.evaldCondition;\r\n      newSelector.mediaEmpty = this.mediaEmpty;\r\n      return newSelector;\r\n  };\r\n  Selector.prototype.getElements = function (els) {\r\n      if (!els) {\r\n          return [new Element('', '&', false, this._index, this._fileInfo)];\r\n      }\r\n      if (typeof els === 'string') {\r\n          this.parse.parseNode(els, ['selector'], this._index, this._fileInfo, function (err, result) {\r\n              if (err) {\r\n                  throw new LessError({\r\n                      index: err.index,\r\n                      message: err.message\r\n                  }, this.parse.imports, this._fileInfo.filename);\r\n              }\r\n              els = result[0].elements;\r\n          });\r\n      }\r\n      return els;\r\n  };\r\n  Selector.prototype.createEmptySelectors = function () {\r\n      var el = new Element('', '&', false, this._index, this._fileInfo);\r\n      var sels = [new Selector([el], null, null, this._index, this._fileInfo)];\r\n      sels[0].mediaEmpty = true;\r\n      return sels;\r\n  };\r\n  Selector.prototype.match = function (other) {\r\n      var elements = this.elements;\r\n      var len = elements.length;\r\n      var olen;\r\n      var i;\r\n      other = other.mixinElements();\r\n      olen = other.length;\r\n      if (olen === 0 || len < olen) {\r\n          return 0;\r\n      }\r\n      else {\r\n          for (i = 0; i < olen; i++) {\r\n              if (elements[i].value !== other[i]) {\r\n                  return 0;\r\n              }\r\n          }\r\n      }\r\n      return olen; // return number of matched elements\r\n  };\r\n  Selector.prototype.mixinElements = function () {\r\n      if (this.mixinElements_) {\r\n          return this.mixinElements_;\r\n      }\r\n      var elements = this.elements.map(function (v) { return v.combinator.value + (v.value.value || v.value); }).join('').match(/[,&#\\*\\.\\w-]([\\w-]|(\\\\.))*/g);\r\n      if (elements) {\r\n          if (elements[0] === '&') {\r\n              elements.shift();\r\n          }\r\n      }\r\n      else {\r\n          elements = [];\r\n      }\r\n      return (this.mixinElements_ = elements);\r\n  };\r\n  Selector.prototype.isJustParentSelector = function () {\r\n      return !this.mediaEmpty &&\r\n          this.elements.length === 1 &&\r\n          this.elements[0].value === '&' &&\r\n          (this.elements[0].combinator.value === ' ' || this.elements[0].combinator.value === '');\r\n  };\r\n  Selector.prototype.eval = function (context) {\r\n      var evaldCondition = this.condition && this.condition.eval(context);\r\n      var elements = this.elements;\r\n      var extendList = this.extendList;\r\n      elements = elements && elements.map(function (e) { return e.eval(context); });\r\n      extendList = extendList && extendList.map(function (extend) { return extend.eval(context); });\r\n      return this.createDerived(elements, extendList, evaldCondition);\r\n  };\r\n  Selector.prototype.genCSS = function (context, output) {\r\n      var i;\r\n      var element;\r\n      if ((!context || !context.firstSelector) && this.elements[0].combinator.value === '') {\r\n          output.add(' ', this.fileInfo(), this.getIndex());\r\n      }\r\n      for (i = 0; i < this.elements.length; i++) {\r\n          element = this.elements[i];\r\n          element.genCSS(context, output);\r\n      }\r\n  };\r\n  Selector.prototype.getIsOutput = function () {\r\n      return this.evaldCondition;\r\n  };\r\n  Selector.prototype.type = 'Selector';\n\n  var Value = function (value) {\r\n      if (!value) {\r\n          throw new Error('Value requires an array argument');\r\n      }\r\n      if (!Array.isArray(value)) {\r\n          this.value = [value];\r\n      }\r\n      else {\r\n          this.value = value;\r\n      }\r\n  };\r\n  Value.prototype = new Node();\r\n  Value.prototype.accept = function (visitor) {\r\n      if (this.value) {\r\n          this.value = visitor.visitArray(this.value);\r\n      }\r\n  };\r\n  Value.prototype.eval = function (context) {\r\n      if (this.value.length === 1) {\r\n          return this.value[0].eval(context);\r\n      }\r\n      else {\r\n          return new Value(this.value.map(function (v) { return v.eval(context); }));\r\n      }\r\n  };\r\n  Value.prototype.genCSS = function (context, output) {\r\n      var i;\r\n      for (i = 0; i < this.value.length; i++) {\r\n          this.value[i].genCSS(context, output);\r\n          if (i + 1 < this.value.length) {\r\n              output.add((context && context.compress) ? ',' : ', ');\r\n          }\r\n      }\r\n  };\r\n  Value.prototype.type = 'Value';\n\n  var Keyword = function (value) {\r\n      this.value = value;\r\n  };\r\n  Keyword.prototype = new Node();\r\n  Keyword.prototype.genCSS = function (context, output) {\r\n      if (this.value === '%') {\r\n          throw { type: 'Syntax', message: 'Invalid % without number' };\r\n      }\r\n      output.add(this.value);\r\n  };\r\n  Keyword.prototype.type = 'Keyword';\r\n  Keyword.True = new Keyword('true');\r\n  Keyword.False = new Keyword('false');\n\n  var Anonymous = function (value, index, currentFileInfo, mapLines, rulesetLike, visibilityInfo) {\r\n      this.value = value;\r\n      this._index = index;\r\n      this._fileInfo = currentFileInfo;\r\n      this.mapLines = mapLines;\r\n      this.rulesetLike = (typeof rulesetLike === 'undefined') ? false : rulesetLike;\r\n      this.allowRoot = true;\r\n      this.copyVisibilityInfo(visibilityInfo);\r\n  };\r\n  Anonymous.prototype = new Node();\r\n  Anonymous.prototype.eval = function () {\r\n      return new Anonymous(this.value, this._index, this._fileInfo, this.mapLines, this.rulesetLike, this.visibilityInfo());\r\n  };\r\n  Anonymous.prototype.compare = function (other) {\r\n      return other.toCSS && this.toCSS() === other.toCSS() ? 0 : undefined;\r\n  };\r\n  Anonymous.prototype.isRulesetLike = function () {\r\n      return this.rulesetLike;\r\n  };\r\n  Anonymous.prototype.genCSS = function (context, output) {\r\n      this.nodeVisible = Boolean(this.value);\r\n      if (this.nodeVisible) {\r\n          output.add(this.value, this._fileInfo, this._index, this.mapLines);\r\n      }\r\n  };\r\n  Anonymous.prototype.type = 'Anonymous';\n\n  var MATH = Math$1;\r\n  var Declaration = function (name, value, important, merge, index, currentFileInfo, inline, variable) {\r\n      this.name = name;\r\n      this.value = (value instanceof Node) ? value : new Value([value ? new Anonymous(value) : null]);\r\n      this.important = important ? \" \" + important.trim() : '';\r\n      this.merge = merge;\r\n      this._index = index;\r\n      this._fileInfo = currentFileInfo;\r\n      this.inline = inline || false;\r\n      this.variable = (variable !== undefined) ? variable\r\n          : (name.charAt && (name.charAt(0) === '@'));\r\n      this.allowRoot = true;\r\n      this.setParent(this.value, this);\r\n  };\r\n  Declaration.prototype = new Node();\r\n  Declaration.prototype.genCSS = function (context, output) {\r\n      output.add(this.name + (context.compress ? ':' : ': '), this.fileInfo(), this.getIndex());\r\n      try {\r\n          this.value.genCSS(context, output);\r\n      }\r\n      catch (e) {\r\n          e.index = this._index;\r\n          e.filename = this._fileInfo.filename;\r\n          throw e;\r\n      }\r\n      output.add(this.important + ((this.inline || (context.lastRule && context.compress)) ? '' : ';'), this._fileInfo, this._index);\r\n  };\r\n  Declaration.prototype.eval = function (context) {\r\n      var mathBypass = false;\r\n      var prevMath;\r\n      var name = this.name;\r\n      var evaldValue;\r\n      var variable = this.variable;\r\n      if (typeof name !== 'string') {\r\n          // expand 'primitive' name directly to get\r\n          // things faster (~10% for benchmark.less):\r\n          name = (name.length === 1) && (name[0] instanceof Keyword) ?\r\n              name[0].value : evalName(context, name);\r\n          variable = false; // never treat expanded interpolation as new variable name\r\n      }\r\n      // @todo remove when parens-division is default\r\n      if (name === 'font' && context.math === MATH.ALWAYS) {\r\n          mathBypass = true;\r\n          prevMath = context.math;\r\n          context.math = MATH.PARENS_DIVISION;\r\n      }\r\n      try {\r\n          context.importantScope.push({});\r\n          evaldValue = this.value.eval(context);\r\n          if (!this.variable && evaldValue.type === 'DetachedRuleset') {\r\n              throw { message: 'Rulesets cannot be evaluated on a property.',\r\n                  index: this.getIndex(), filename: this.fileInfo().filename };\r\n          }\r\n          var important = this.important;\r\n          var importantResult = context.importantScope.pop();\r\n          if (!important && importantResult.important) {\r\n              important = importantResult.important;\r\n          }\r\n          return new Declaration(name, evaldValue, important, this.merge, this.getIndex(), this.fileInfo(), this.inline, variable);\r\n      }\r\n      catch (e) {\r\n          if (typeof e.index !== 'number') {\r\n              e.index = this.getIndex();\r\n              e.filename = this.fileInfo().filename;\r\n          }\r\n          throw e;\r\n      }\r\n      finally {\r\n          if (mathBypass) {\r\n              context.math = prevMath;\r\n          }\r\n      }\r\n  };\r\n  Declaration.prototype.makeImportant = function () {\r\n      return new Declaration(this.name, this.value, '!important', this.merge, this.getIndex(), this.fileInfo(), this.inline);\r\n  };\r\n  function evalName(context, name) {\r\n      var value = '';\r\n      var i;\r\n      var n = name.length;\r\n      var output = { add: function (s) { value += s; } };\r\n      for (i = 0; i < n; i++) {\r\n          name[i].eval(context).genCSS(context, output);\r\n      }\r\n      return value;\r\n  }\r\n  Declaration.prototype.type = 'Declaration';\n\n  var debugInfo = function (context, ctx, lineSeparator) {\r\n      var result = '';\r\n      if (context.dumpLineNumbers && !context.compress) {\r\n          switch (context.dumpLineNumbers) {\r\n              case 'comments':\r\n                  result = debugInfo.asComment(ctx);\r\n                  break;\r\n              case 'mediaquery':\r\n                  result = debugInfo.asMediaQuery(ctx);\r\n                  break;\r\n              case 'all':\r\n                  result = debugInfo.asComment(ctx) + (lineSeparator || '') + debugInfo.asMediaQuery(ctx);\r\n                  break;\r\n          }\r\n      }\r\n      return result;\r\n  };\r\n  debugInfo.asComment = function (ctx) { return ctx.debugInfo ? \"/* line \" + ctx.debugInfo.lineNumber + \", \" + ctx.debugInfo.fileName + \" */\\n\" : ''; };\r\n  debugInfo.asMediaQuery = function (ctx) {\r\n      if (!ctx.debugInfo) {\r\n          return '';\r\n      }\r\n      var filenameWithProtocol = ctx.debugInfo.fileName;\r\n      if (!/^[a-z]+:\\/\\//i.test(filenameWithProtocol)) {\r\n          filenameWithProtocol = \"file://\" + filenameWithProtocol;\r\n      }\r\n      return \"@media -sass-debug-info{filename{font-family:\" + filenameWithProtocol.replace(/([.:\\/\\\\])/g, function (a) {\r\n          if (a == '\\\\') {\r\n              a = '\\/';\r\n          }\r\n          return \"\\\\\" + a;\r\n      }) + \"}line{font-family:\\\\00003\" + ctx.debugInfo.lineNumber + \"}}\\n\";\r\n  };\n\n  var Comment = function (value, isLineComment, index, currentFileInfo) {\r\n      this.value = value;\r\n      this.isLineComment = isLineComment;\r\n      this._index = index;\r\n      this._fileInfo = currentFileInfo;\r\n      this.allowRoot = true;\r\n  };\r\n  Comment.prototype = new Node();\r\n  Comment.prototype.genCSS = function (context, output) {\r\n      if (this.debugInfo) {\r\n          output.add(debugInfo(context, this), this.fileInfo(), this.getIndex());\r\n      }\r\n      output.add(this.value);\r\n  };\r\n  Comment.prototype.isSilent = function (context) {\r\n      var isCompressed = context.compress && this.value[2] !== '!';\r\n      return this.isLineComment || isCompressed;\r\n  };\r\n  Comment.prototype.type = 'Comment';\n\n  var contexts = {};\r\n  var copyFromOriginal = function copyFromOriginal(original, destination, propertiesToCopy) {\r\n      if (!original) {\r\n          return;\r\n      }\r\n      for (var i = 0; i < propertiesToCopy.length; i++) {\r\n          if (original.hasOwnProperty(propertiesToCopy[i])) {\r\n              destination[propertiesToCopy[i]] = original[propertiesToCopy[i]];\r\n          }\r\n      }\r\n  };\r\n  /*\r\n   parse is used whilst parsing\r\n   */\r\n  var parseCopyProperties = [\r\n      // options\r\n      'paths',\r\n      'rewriteUrls',\r\n      'rootpath',\r\n      'strictImports',\r\n      'insecure',\r\n      'dumpLineNumbers',\r\n      'compress',\r\n      'syncImport',\r\n      'chunkInput',\r\n      'mime',\r\n      'useFileCache',\r\n      // context\r\n      'processImports',\r\n      // Used by the import manager to stop multiple import visitors being created.\r\n      'pluginManager' // Used as the plugin manager for the session\r\n  ];\r\n  contexts.Parse = function (options) {\r\n      copyFromOriginal(options, this, parseCopyProperties);\r\n      if (typeof this.paths === 'string') {\r\n          this.paths = [this.paths];\r\n      }\r\n  };\r\n  var evalCopyProperties = [\r\n      'paths',\r\n      'compress',\r\n      'math',\r\n      'strictUnits',\r\n      'sourceMap',\r\n      'importMultiple',\r\n      'urlArgs',\r\n      'javascriptEnabled',\r\n      'pluginManager',\r\n      'importantScope',\r\n      'rewriteUrls' // option - whether to adjust URL's to be relative\r\n  ];\r\n  function isPathRelative(path) {\r\n      return !/^(?:[a-z-]+:|\\/|#)/i.test(path);\r\n  }\r\n  function isPathLocalRelative(path) {\r\n      return path.charAt(0) === '.';\r\n  }\r\n  contexts.Eval = /** @class */ (function () {\r\n      function Eval(options, frames) {\r\n          copyFromOriginal(options, this, evalCopyProperties);\r\n          if (typeof this.paths === 'string') {\r\n              this.paths = [this.paths];\r\n          }\r\n          this.frames = frames || [];\r\n          this.importantScope = this.importantScope || [];\r\n          this.inCalc = false;\r\n          this.mathOn = true;\r\n      }\r\n      Eval.prototype.enterCalc = function () {\r\n          if (!this.calcStack) {\r\n              this.calcStack = [];\r\n          }\r\n          this.calcStack.push(true);\r\n          this.inCalc = true;\r\n      };\r\n      Eval.prototype.exitCalc = function () {\r\n          this.calcStack.pop();\r\n          if (!this.calcStack.length) {\r\n              this.inCalc = false;\r\n          }\r\n      };\r\n      Eval.prototype.inParenthesis = function () {\r\n          if (!this.parensStack) {\r\n              this.parensStack = [];\r\n          }\r\n          this.parensStack.push(true);\r\n      };\r\n      Eval.prototype.outOfParenthesis = function () {\r\n          this.parensStack.pop();\r\n      };\r\n      Eval.prototype.isMathOn = function (op) {\r\n          if (!this.mathOn) {\r\n              return false;\r\n          }\r\n          if (op === '/' && this.math !== Math$1.ALWAYS && (!this.parensStack || !this.parensStack.length)) {\r\n              return false;\r\n          }\r\n          if (this.math > Math$1.PARENS_DIVISION) {\r\n              return this.parensStack && this.parensStack.length;\r\n          }\r\n          return true;\r\n      };\r\n      Eval.prototype.pathRequiresRewrite = function (path) {\r\n          var isRelative = this.rewriteUrls === RewriteUrls.LOCAL ? isPathLocalRelative : isPathRelative;\r\n          return isRelative(path);\r\n      };\r\n      Eval.prototype.rewritePath = function (path, rootpath) {\r\n          var newPath;\r\n          rootpath = rootpath || '';\r\n          newPath = this.normalizePath(rootpath + path);\r\n          // If a path was explicit relative and the rootpath was not an absolute path\r\n          // we must ensure that the new path is also explicit relative.\r\n          if (isPathLocalRelative(path) &&\r\n              isPathRelative(rootpath) &&\r\n              isPathLocalRelative(newPath) === false) {\r\n              newPath = \"./\" + newPath;\r\n          }\r\n          return newPath;\r\n      };\r\n      Eval.prototype.normalizePath = function (path) {\r\n          var segments = path.split('/').reverse();\r\n          var segment;\r\n          path = [];\r\n          while (segments.length !== 0) {\r\n              segment = segments.pop();\r\n              switch (segment) {\r\n                  case '.':\r\n                      break;\r\n                  case '..':\r\n                      if ((path.length === 0) || (path[path.length - 1] === '..')) {\r\n                          path.push(segment);\r\n                      }\r\n                      else {\r\n                          path.pop();\r\n                      }\r\n                      break;\r\n                  default:\r\n                      path.push(segment);\r\n                      break;\r\n              }\r\n          }\r\n          return path.join('/');\r\n      };\r\n      return Eval;\r\n  }());\n\n  function makeRegistry(base) {\r\n      return {\r\n          _data: {},\r\n          add: function (name, func) {\r\n              // precautionary case conversion, as later querying of\r\n              // the registry by function-caller uses lower case as well.\r\n              name = name.toLowerCase();\r\n              if (this._data.hasOwnProperty(name)) ;\r\n              this._data[name] = func;\r\n          },\r\n          addMultiple: function (functions) {\r\n              var _this = this;\r\n              Object.keys(functions).forEach(function (name) {\r\n                  _this.add(name, functions[name]);\r\n              });\r\n          },\r\n          get: function (name) {\r\n              return this._data[name] || (base && base.get(name));\r\n          },\r\n          getLocalFunctions: function () {\r\n              return this._data;\r\n          },\r\n          inherit: function () {\r\n              return makeRegistry(this);\r\n          },\r\n          create: function (base) {\r\n              return makeRegistry(base);\r\n          }\r\n      };\r\n  }\r\n  var functionRegistry = makeRegistry(null);\n\n  var defaultFunc = {\r\n      eval: function () {\r\n          var v = this.value_;\r\n          var e = this.error_;\r\n          if (e) {\r\n              throw e;\r\n          }\r\n          if (v != null) {\r\n              return v ? Keyword.True : Keyword.False;\r\n          }\r\n      },\r\n      value: function (v) {\r\n          this.value_ = v;\r\n      },\r\n      error: function (e) {\r\n          this.error_ = e;\r\n      },\r\n      reset: function () {\r\n          this.value_ = this.error_ = null;\r\n      }\r\n  };\n\n  var Ruleset = function (selectors, rules, strictImports, visibilityInfo) {\r\n      this.selectors = selectors;\r\n      this.rules = rules;\r\n      this._lookups = {};\r\n      this._variables = null;\r\n      this._properties = null;\r\n      this.strictImports = strictImports;\r\n      this.copyVisibilityInfo(visibilityInfo);\r\n      this.allowRoot = true;\r\n      this.setParent(this.selectors, this);\r\n      this.setParent(this.rules, this);\r\n  };\r\n  Ruleset.prototype = new Node();\r\n  Ruleset.prototype.isRulesetLike = function () {\r\n      return true;\r\n  };\r\n  Ruleset.prototype.accept = function (visitor) {\r\n      if (this.paths) {\r\n          this.paths = visitor.visitArray(this.paths, true);\r\n      }\r\n      else if (this.selectors) {\r\n          this.selectors = visitor.visitArray(this.selectors);\r\n      }\r\n      if (this.rules && this.rules.length) {\r\n          this.rules = visitor.visitArray(this.rules);\r\n      }\r\n  };\r\n  Ruleset.prototype.eval = function (context) {\r\n      var selectors;\r\n      var selCnt;\r\n      var selector;\r\n      var i;\r\n      var hasVariable;\r\n      var hasOnePassingSelector = false;\r\n      if (this.selectors && (selCnt = this.selectors.length)) {\r\n          selectors = new Array(selCnt);\r\n          defaultFunc.error({\r\n              type: 'Syntax',\r\n              message: 'it is currently only allowed in parametric mixin guards,'\r\n          });\r\n          for (i = 0; i < selCnt; i++) {\r\n              selector = this.selectors[i].eval(context);\r\n              for (var j = 0; j < selector.elements.length; j++) {\r\n                  if (selector.elements[j].isVariable) {\r\n                      hasVariable = true;\r\n                      break;\r\n                  }\r\n              }\r\n              selectors[i] = selector;\r\n              if (selector.evaldCondition) {\r\n                  hasOnePassingSelector = true;\r\n              }\r\n          }\r\n          if (hasVariable) {\r\n              var toParseSelectors = new Array(selCnt);\r\n              for (i = 0; i < selCnt; i++) {\r\n                  selector = selectors[i];\r\n                  toParseSelectors[i] = selector.toCSS(context);\r\n              }\r\n              this.parse.parseNode(toParseSelectors.join(','), [\"selectors\"], selectors[0].getIndex(), selectors[0].fileInfo(), function (err, result) {\r\n                  if (result) {\r\n                      selectors = flattenArray(result);\r\n                  }\r\n              });\r\n          }\r\n          defaultFunc.reset();\r\n      }\r\n      else {\r\n          hasOnePassingSelector = true;\r\n      }\r\n      var rules = this.rules ? copyArray(this.rules) : null;\r\n      var ruleset = new Ruleset(selectors, rules, this.strictImports, this.visibilityInfo());\r\n      var rule;\r\n      var subRule;\r\n      ruleset.originalRuleset = this;\r\n      ruleset.root = this.root;\r\n      ruleset.firstRoot = this.firstRoot;\r\n      ruleset.allowImports = this.allowImports;\r\n      if (this.debugInfo) {\r\n          ruleset.debugInfo = this.debugInfo;\r\n      }\r\n      if (!hasOnePassingSelector) {\r\n          rules.length = 0;\r\n      }\r\n      // inherit a function registry from the frames stack when possible;\r\n      // otherwise from the global registry\r\n      ruleset.functionRegistry = (function (frames) {\r\n          var i = 0;\r\n          var n = frames.length;\r\n          var found;\r\n          for (; i !== n; ++i) {\r\n              found = frames[i].functionRegistry;\r\n              if (found) {\r\n                  return found;\r\n              }\r\n          }\r\n          return functionRegistry;\r\n      })(context.frames).inherit();\r\n      // push the current ruleset to the frames stack\r\n      var ctxFrames = context.frames;\r\n      ctxFrames.unshift(ruleset);\r\n      // currrent selectors\r\n      var ctxSelectors = context.selectors;\r\n      if (!ctxSelectors) {\r\n          context.selectors = ctxSelectors = [];\r\n      }\r\n      ctxSelectors.unshift(this.selectors);\r\n      // Evaluate imports\r\n      if (ruleset.root || ruleset.allowImports || !ruleset.strictImports) {\r\n          ruleset.evalImports(context);\r\n      }\r\n      // Store the frames around mixin definitions,\r\n      // so they can be evaluated like closures when the time comes.\r\n      var rsRules = ruleset.rules;\r\n      for (i = 0; (rule = rsRules[i]); i++) {\r\n          if (rule.evalFirst) {\r\n              rsRules[i] = rule.eval(context);\r\n          }\r\n      }\r\n      var mediaBlockCount = (context.mediaBlocks && context.mediaBlocks.length) || 0;\r\n      // Evaluate mixin calls.\r\n      for (i = 0; (rule = rsRules[i]); i++) {\r\n          if (rule.type === 'MixinCall') {\r\n              /* jshint loopfunc:true */\r\n              rules = rule.eval(context).filter(function (r) {\r\n                  if ((r instanceof Declaration) && r.variable) {\r\n                      // do not pollute the scope if the variable is\r\n                      // already there. consider returning false here\r\n                      // but we need a way to \"return\" variable from mixins\r\n                      return !(ruleset.variable(r.name));\r\n                  }\r\n                  return true;\r\n              });\r\n              rsRules.splice.apply(rsRules, [i, 1].concat(rules));\r\n              i += rules.length - 1;\r\n              ruleset.resetCache();\r\n          }\r\n          else if (rule.type === 'VariableCall') {\r\n              /* jshint loopfunc:true */\r\n              rules = rule.eval(context).rules.filter(function (r) {\r\n                  if ((r instanceof Declaration) && r.variable) {\r\n                      // do not pollute the scope at all\r\n                      return false;\r\n                  }\r\n                  return true;\r\n              });\r\n              rsRules.splice.apply(rsRules, [i, 1].concat(rules));\r\n              i += rules.length - 1;\r\n              ruleset.resetCache();\r\n          }\r\n      }\r\n      // Evaluate everything else\r\n      for (i = 0; (rule = rsRules[i]); i++) {\r\n          if (!rule.evalFirst) {\r\n              rsRules[i] = rule = rule.eval ? rule.eval(context) : rule;\r\n          }\r\n      }\r\n      // Evaluate everything else\r\n      for (i = 0; (rule = rsRules[i]); i++) {\r\n          // for rulesets, check if it is a css guard and can be removed\r\n          if (rule instanceof Ruleset && rule.selectors && rule.selectors.length === 1) {\r\n              // check if it can be folded in (e.g. & where)\r\n              if (rule.selectors[0] && rule.selectors[0].isJustParentSelector()) {\r\n                  rsRules.splice(i--, 1);\r\n                  for (var j = 0; (subRule = rule.rules[j]); j++) {\r\n                      if (subRule instanceof Node) {\r\n                          subRule.copyVisibilityInfo(rule.visibilityInfo());\r\n                          if (!(subRule instanceof Declaration) || !subRule.variable) {\r\n                              rsRules.splice(++i, 0, subRule);\r\n                          }\r\n                      }\r\n                  }\r\n              }\r\n          }\r\n      }\r\n      // Pop the stack\r\n      ctxFrames.shift();\r\n      ctxSelectors.shift();\r\n      if (context.mediaBlocks) {\r\n          for (i = mediaBlockCount; i < context.mediaBlocks.length; i++) {\r\n              context.mediaBlocks[i].bubbleSelectors(selectors);\r\n          }\r\n      }\r\n      return ruleset;\r\n  };\r\n  Ruleset.prototype.evalImports = function (context) {\r\n      var rules = this.rules;\r\n      var i;\r\n      var importRules;\r\n      if (!rules) {\r\n          return;\r\n      }\r\n      for (i = 0; i < rules.length; i++) {\r\n          if (rules[i].type === 'Import') {\r\n              importRules = rules[i].eval(context);\r\n              if (importRules && (importRules.length || importRules.length === 0)) {\r\n                  rules.splice.apply(rules, [i, 1].concat(importRules));\r\n                  i += importRules.length - 1;\r\n              }\r\n              else {\r\n                  rules.splice(i, 1, importRules);\r\n              }\r\n              this.resetCache();\r\n          }\r\n      }\r\n  };\r\n  Ruleset.prototype.makeImportant = function () {\r\n      var result = new Ruleset(this.selectors, this.rules.map(function (r) {\r\n          if (r.makeImportant) {\r\n              return r.makeImportant();\r\n          }\r\n          else {\r\n              return r;\r\n          }\r\n      }), this.strictImports, this.visibilityInfo());\r\n      return result;\r\n  };\r\n  Ruleset.prototype.matchArgs = function (args) {\r\n      return !args || args.length === 0;\r\n  };\r\n  // lets you call a css selector with a guard\r\n  Ruleset.prototype.matchCondition = function (args, context) {\r\n      var lastSelector = this.selectors[this.selectors.length - 1];\r\n      if (!lastSelector.evaldCondition) {\r\n          return false;\r\n      }\r\n      if (lastSelector.condition &&\r\n          !lastSelector.condition.eval(new contexts.Eval(context, context.frames))) {\r\n          return false;\r\n      }\r\n      return true;\r\n  };\r\n  Ruleset.prototype.resetCache = function () {\r\n      this._rulesets = null;\r\n      this._variables = null;\r\n      this._properties = null;\r\n      this._lookups = {};\r\n  };\r\n  Ruleset.prototype.variables = function () {\r\n      if (!this._variables) {\r\n          this._variables = !this.rules ? {} : this.rules.reduce(function (hash, r) {\r\n              if (r instanceof Declaration && r.variable === true) {\r\n                  hash[r.name] = r;\r\n              }\r\n              // when evaluating variables in an import statement, imports have not been eval'd\r\n              // so we need to go inside import statements.\r\n              // guard against root being a string (in the case of inlined less)\r\n              if (r.type === 'Import' && r.root && r.root.variables) {\r\n                  var vars = r.root.variables();\r\n                  for (var name_1 in vars) {\r\n                      if (vars.hasOwnProperty(name_1)) {\r\n                          hash[name_1] = r.root.variable(name_1);\r\n                      }\r\n                  }\r\n              }\r\n              return hash;\r\n          }, {});\r\n      }\r\n      return this._variables;\r\n  };\r\n  Ruleset.prototype.properties = function () {\r\n      if (!this._properties) {\r\n          this._properties = !this.rules ? {} : this.rules.reduce(function (hash, r) {\r\n              if (r instanceof Declaration && r.variable !== true) {\r\n                  var name_2 = (r.name.length === 1) && (r.name[0] instanceof Keyword) ?\r\n                      r.name[0].value : r.name;\r\n                  // Properties don't overwrite as they can merge\r\n                  if (!hash[\"$\" + name_2]) {\r\n                      hash[\"$\" + name_2] = [r];\r\n                  }\r\n                  else {\r\n                      hash[\"$\" + name_2].push(r);\r\n                  }\r\n              }\r\n              return hash;\r\n          }, {});\r\n      }\r\n      return this._properties;\r\n  };\r\n  Ruleset.prototype.variable = function (name) {\r\n      var decl = this.variables()[name];\r\n      if (decl) {\r\n          return this.parseValue(decl);\r\n      }\r\n  };\r\n  Ruleset.prototype.property = function (name) {\r\n      var decl = this.properties()[name];\r\n      if (decl) {\r\n          return this.parseValue(decl);\r\n      }\r\n  };\r\n  Ruleset.prototype.lastDeclaration = function () {\r\n      for (var i = this.rules.length; i > 0; i--) {\r\n          var decl = this.rules[i - 1];\r\n          if (decl instanceof Declaration) {\r\n              return this.parseValue(decl);\r\n          }\r\n      }\r\n  };\r\n  Ruleset.prototype.parseValue = function (toParse) {\r\n      var self = this;\r\n      function transformDeclaration(decl) {\r\n          if (decl.value instanceof Anonymous && !decl.parsed) {\r\n              if (typeof decl.value.value === 'string') {\r\n                  this.parse.parseNode(decl.value.value, ['value', 'important'], decl.value.getIndex(), decl.fileInfo(), function (err, result) {\r\n                      if (err) {\r\n                          decl.parsed = true;\r\n                      }\r\n                      if (result) {\r\n                          decl.value = result[0];\r\n                          decl.important = result[1] || '';\r\n                          decl.parsed = true;\r\n                      }\r\n                  });\r\n              }\r\n              else {\r\n                  decl.parsed = true;\r\n              }\r\n              return decl;\r\n          }\r\n          else {\r\n              return decl;\r\n          }\r\n      }\r\n      if (!Array.isArray(toParse)) {\r\n          return transformDeclaration.call(self, toParse);\r\n      }\r\n      else {\r\n          var nodes_1 = [];\r\n          toParse.forEach(function (n) {\r\n              nodes_1.push(transformDeclaration.call(self, n));\r\n          });\r\n          return nodes_1;\r\n      }\r\n  };\r\n  Ruleset.prototype.rulesets = function () {\r\n      if (!this.rules) {\r\n          return [];\r\n      }\r\n      var filtRules = [];\r\n      var rules = this.rules;\r\n      var i;\r\n      var rule;\r\n      for (i = 0; (rule = rules[i]); i++) {\r\n          if (rule.isRuleset) {\r\n              filtRules.push(rule);\r\n          }\r\n      }\r\n      return filtRules;\r\n  };\r\n  Ruleset.prototype.prependRule = function (rule) {\r\n      var rules = this.rules;\r\n      if (rules) {\r\n          rules.unshift(rule);\r\n      }\r\n      else {\r\n          this.rules = [rule];\r\n      }\r\n      this.setParent(rule, this);\r\n  };\r\n  Ruleset.prototype.find = function (selector, self, filter) {\r\n      if (self === void 0) { self = this; }\r\n      var rules = [];\r\n      var match;\r\n      var foundMixins;\r\n      var key = selector.toCSS();\r\n      if (key in this._lookups) {\r\n          return this._lookups[key];\r\n      }\r\n      this.rulesets().forEach(function (rule) {\r\n          if (rule !== self) {\r\n              for (var j = 0; j < rule.selectors.length; j++) {\r\n                  match = selector.match(rule.selectors[j]);\r\n                  if (match) {\r\n                      if (selector.elements.length > match) {\r\n                          if (!filter || filter(rule)) {\r\n                              foundMixins = rule.find(new Selector(selector.elements.slice(match)), self, filter);\r\n                              for (var i = 0; i < foundMixins.length; ++i) {\r\n                                  foundMixins[i].path.push(rule);\r\n                              }\r\n                              Array.prototype.push.apply(rules, foundMixins);\r\n                          }\r\n                      }\r\n                      else {\r\n                          rules.push({ rule: rule, path: [] });\r\n                      }\r\n                      break;\r\n                  }\r\n              }\r\n          }\r\n      });\r\n      this._lookups[key] = rules;\r\n      return rules;\r\n  };\r\n  Ruleset.prototype.genCSS = function (context, output) {\r\n      var i;\r\n      var j;\r\n      var charsetRuleNodes = [];\r\n      var ruleNodes = [];\r\n      var // Line number debugging\r\n      debugInfo$1;\r\n      var rule;\r\n      var path;\r\n      context.tabLevel = (context.tabLevel || 0);\r\n      if (!this.root) {\r\n          context.tabLevel++;\r\n      }\r\n      var tabRuleStr = context.compress ? '' : Array(context.tabLevel + 1).join('  ');\r\n      var tabSetStr = context.compress ? '' : Array(context.tabLevel).join('  ');\r\n      var sep;\r\n      var charsetNodeIndex = 0;\r\n      var importNodeIndex = 0;\r\n      for (i = 0; (rule = this.rules[i]); i++) {\r\n          if (rule instanceof Comment) {\r\n              if (importNodeIndex === i) {\r\n                  importNodeIndex++;\r\n              }\r\n              ruleNodes.push(rule);\r\n          }\r\n          else if (rule.isCharset && rule.isCharset()) {\r\n              ruleNodes.splice(charsetNodeIndex, 0, rule);\r\n              charsetNodeIndex++;\r\n              importNodeIndex++;\r\n          }\r\n          else if (rule.type === 'Import') {\r\n              ruleNodes.splice(importNodeIndex, 0, rule);\r\n              importNodeIndex++;\r\n          }\r\n          else {\r\n              ruleNodes.push(rule);\r\n          }\r\n      }\r\n      ruleNodes = charsetRuleNodes.concat(ruleNodes);\r\n      // If this is the root node, we don't render\r\n      // a selector, or {}.\r\n      if (!this.root) {\r\n          debugInfo$1 = debugInfo(context, this, tabSetStr);\r\n          if (debugInfo$1) {\r\n              output.add(debugInfo$1);\r\n              output.add(tabSetStr);\r\n          }\r\n          var paths = this.paths;\r\n          var pathCnt = paths.length;\r\n          var pathSubCnt = void 0;\r\n          sep = context.compress ? ',' : (\",\\n\" + tabSetStr);\r\n          for (i = 0; i < pathCnt; i++) {\r\n              path = paths[i];\r\n              if (!(pathSubCnt = path.length)) {\r\n                  continue;\r\n              }\r\n              if (i > 0) {\r\n                  output.add(sep);\r\n              }\r\n              context.firstSelector = true;\r\n              path[0].genCSS(context, output);\r\n              context.firstSelector = false;\r\n              for (j = 1; j < pathSubCnt; j++) {\r\n                  path[j].genCSS(context, output);\r\n              }\r\n          }\r\n          output.add((context.compress ? '{' : ' {\\n') + tabRuleStr);\r\n      }\r\n      // Compile rules and rulesets\r\n      for (i = 0; (rule = ruleNodes[i]); i++) {\r\n          if (i + 1 === ruleNodes.length) {\r\n              context.lastRule = true;\r\n          }\r\n          var currentLastRule = context.lastRule;\r\n          if (rule.isRulesetLike(rule)) {\r\n              context.lastRule = false;\r\n          }\r\n          if (rule.genCSS) {\r\n              rule.genCSS(context, output);\r\n          }\r\n          else if (rule.value) {\r\n              output.add(rule.value.toString());\r\n          }\r\n          context.lastRule = currentLastRule;\r\n          if (!context.lastRule && rule.isVisible()) {\r\n              output.add(context.compress ? '' : (\"\\n\" + tabRuleStr));\r\n          }\r\n          else {\r\n              context.lastRule = false;\r\n          }\r\n      }\r\n      if (!this.root) {\r\n          output.add((context.compress ? '}' : \"\\n\" + tabSetStr + \"}\"));\r\n          context.tabLevel--;\r\n      }\r\n      if (!output.isEmpty() && !context.compress && this.firstRoot) {\r\n          output.add('\\n');\r\n      }\r\n  };\r\n  Ruleset.prototype.joinSelectors = function (paths, context, selectors) {\r\n      for (var s = 0; s < selectors.length; s++) {\r\n          this.joinSelector(paths, context, selectors[s]);\r\n      }\r\n  };\r\n  Ruleset.prototype.joinSelector = function (paths, context, selector) {\r\n      function createParenthesis(elementsToPak, originalElement) {\r\n          var replacementParen;\r\n          var j;\r\n          if (elementsToPak.length === 0) {\r\n              replacementParen = new Paren(elementsToPak[0]);\r\n          }\r\n          else {\r\n              var insideParent = new Array(elementsToPak.length);\r\n              for (j = 0; j < elementsToPak.length; j++) {\r\n                  insideParent[j] = new Element(null, elementsToPak[j], originalElement.isVariable, originalElement._index, originalElement._fileInfo);\r\n              }\r\n              replacementParen = new Paren(new Selector(insideParent));\r\n          }\r\n          return replacementParen;\r\n      }\r\n      function createSelector(containedElement, originalElement) {\r\n          var element;\r\n          var selector;\r\n          element = new Element(null, containedElement, originalElement.isVariable, originalElement._index, originalElement._fileInfo);\r\n          selector = new Selector([element]);\r\n          return selector;\r\n      }\r\n      // joins selector path from `beginningPath` with selector path in `addPath`\r\n      // `replacedElement` contains element that is being replaced by `addPath`\r\n      // returns concatenated path\r\n      function addReplacementIntoPath(beginningPath, addPath, replacedElement, originalSelector) {\r\n          var newSelectorPath;\r\n          var lastSelector;\r\n          var newJoinedSelector;\r\n          // our new selector path\r\n          newSelectorPath = [];\r\n          // construct the joined selector - if & is the first thing this will be empty,\r\n          // if not newJoinedSelector will be the last set of elements in the selector\r\n          if (beginningPath.length > 0) {\r\n              newSelectorPath = copyArray(beginningPath);\r\n              lastSelector = newSelectorPath.pop();\r\n              newJoinedSelector = originalSelector.createDerived(copyArray(lastSelector.elements));\r\n          }\r\n          else {\r\n              newJoinedSelector = originalSelector.createDerived([]);\r\n          }\r\n          if (addPath.length > 0) {\r\n              // /deep/ is a CSS4 selector - (removed, so should deprecate)\r\n              // that is valid without anything in front of it\r\n              // so if the & does not have a combinator that is \"\" or \" \" then\r\n              // and there is a combinator on the parent, then grab that.\r\n              // this also allows + a { & .b { .a & { ... though not sure why you would want to do that\r\n              var combinator = replacedElement.combinator;\r\n              var parentEl = addPath[0].elements[0];\r\n              if (combinator.emptyOrWhitespace && !parentEl.combinator.emptyOrWhitespace) {\r\n                  combinator = parentEl.combinator;\r\n              }\r\n              // join the elements so far with the first part of the parent\r\n              newJoinedSelector.elements.push(new Element(combinator, parentEl.value, replacedElement.isVariable, replacedElement._index, replacedElement._fileInfo));\r\n              newJoinedSelector.elements = newJoinedSelector.elements.concat(addPath[0].elements.slice(1));\r\n          }\r\n          // now add the joined selector - but only if it is not empty\r\n          if (newJoinedSelector.elements.length !== 0) {\r\n              newSelectorPath.push(newJoinedSelector);\r\n          }\r\n          // put together the parent selectors after the join (e.g. the rest of the parent)\r\n          if (addPath.length > 1) {\r\n              var restOfPath = addPath.slice(1);\r\n              restOfPath = restOfPath.map(function (selector) { return selector.createDerived(selector.elements, []); });\r\n              newSelectorPath = newSelectorPath.concat(restOfPath);\r\n          }\r\n          return newSelectorPath;\r\n      }\r\n      // joins selector path from `beginningPath` with every selector path in `addPaths` array\r\n      // `replacedElement` contains element that is being replaced by `addPath`\r\n      // returns array with all concatenated paths\r\n      function addAllReplacementsIntoPath(beginningPath, addPaths, replacedElement, originalSelector, result) {\r\n          var j;\r\n          for (j = 0; j < beginningPath.length; j++) {\r\n              var newSelectorPath = addReplacementIntoPath(beginningPath[j], addPaths, replacedElement, originalSelector);\r\n              result.push(newSelectorPath);\r\n          }\r\n          return result;\r\n      }\r\n      function mergeElementsOnToSelectors(elements, selectors) {\r\n          var i;\r\n          var sel;\r\n          if (elements.length === 0) {\r\n              return;\r\n          }\r\n          if (selectors.length === 0) {\r\n              selectors.push([new Selector(elements)]);\r\n              return;\r\n          }\r\n          for (i = 0; (sel = selectors[i]); i++) {\r\n              // if the previous thing in sel is a parent this needs to join on to it\r\n              if (sel.length > 0) {\r\n                  sel[sel.length - 1] = sel[sel.length - 1].createDerived(sel[sel.length - 1].elements.concat(elements));\r\n              }\r\n              else {\r\n                  sel.push(new Selector(elements));\r\n              }\r\n          }\r\n      }\r\n      // replace all parent selectors inside `inSelector` by content of `context` array\r\n      // resulting selectors are returned inside `paths` array\r\n      // returns true if `inSelector` contained at least one parent selector\r\n      function replaceParentSelector(paths, context, inSelector) {\r\n          // The paths are [[Selector]]\r\n          // The first list is a list of comma separated selectors\r\n          // The inner list is a list of inheritance separated selectors\r\n          // e.g.\r\n          // .a, .b {\r\n          //   .c {\r\n          //   }\r\n          // }\r\n          // == [[.a] [.c]] [[.b] [.c]]\r\n          //\r\n          var i;\r\n          var j;\r\n          var k;\r\n          var currentElements;\r\n          var newSelectors;\r\n          var selectorsMultiplied;\r\n          var sel;\r\n          var el;\r\n          var hadParentSelector = false;\r\n          var length;\r\n          var lastSelector;\r\n          function findNestedSelector(element) {\r\n              var maybeSelector;\r\n              if (!(element.value instanceof Paren)) {\r\n                  return null;\r\n              }\r\n              maybeSelector = element.value.value;\r\n              if (!(maybeSelector instanceof Selector)) {\r\n                  return null;\r\n              }\r\n              return maybeSelector;\r\n          }\r\n          // the elements from the current selector so far\r\n          currentElements = [];\r\n          // the current list of new selectors to add to the path.\r\n          // We will build it up. We initiate it with one empty selector as we \"multiply\" the new selectors\r\n          // by the parents\r\n          newSelectors = [\r\n              []\r\n          ];\r\n          for (i = 0; (el = inSelector.elements[i]); i++) {\r\n              // non parent reference elements just get added\r\n              if (el.value !== '&') {\r\n                  var nestedSelector = findNestedSelector(el);\r\n                  if (nestedSelector != null) {\r\n                      // merge the current list of non parent selector elements\r\n                      // on to the current list of selectors to add\r\n                      mergeElementsOnToSelectors(currentElements, newSelectors);\r\n                      var nestedPaths = [];\r\n                      var replaced = void 0;\r\n                      var replacedNewSelectors = [];\r\n                      replaced = replaceParentSelector(nestedPaths, context, nestedSelector);\r\n                      hadParentSelector = hadParentSelector || replaced;\r\n                      // the nestedPaths array should have only one member - replaceParentSelector does not multiply selectors\r\n                      for (k = 0; k < nestedPaths.length; k++) {\r\n                          var replacementSelector = createSelector(createParenthesis(nestedPaths[k], el), el);\r\n                          addAllReplacementsIntoPath(newSelectors, [replacementSelector], el, inSelector, replacedNewSelectors);\r\n                      }\r\n                      newSelectors = replacedNewSelectors;\r\n                      currentElements = [];\r\n                  }\r\n                  else {\r\n                      currentElements.push(el);\r\n                  }\r\n              }\r\n              else {\r\n                  hadParentSelector = true;\r\n                  // the new list of selectors to add\r\n                  selectorsMultiplied = [];\r\n                  // merge the current list of non parent selector elements\r\n                  // on to the current list of selectors to add\r\n                  mergeElementsOnToSelectors(currentElements, newSelectors);\r\n                  // loop through our current selectors\r\n                  for (j = 0; j < newSelectors.length; j++) {\r\n                      sel = newSelectors[j];\r\n                      // if we don't have any parent paths, the & might be in a mixin so that it can be used\r\n                      // whether there are parents or not\r\n                      if (context.length === 0) {\r\n                          // the combinator used on el should now be applied to the next element instead so that\r\n                          // it is not lost\r\n                          if (sel.length > 0) {\r\n                              sel[0].elements.push(new Element(el.combinator, '', el.isVariable, el._index, el._fileInfo));\r\n                          }\r\n                          selectorsMultiplied.push(sel);\r\n                      }\r\n                      else {\r\n                          // and the parent selectors\r\n                          for (k = 0; k < context.length; k++) {\r\n                              // We need to put the current selectors\r\n                              // then join the last selector's elements on to the parents selectors\r\n                              var newSelectorPath = addReplacementIntoPath(sel, context[k], el, inSelector);\r\n                              // add that to our new set of selectors\r\n                              selectorsMultiplied.push(newSelectorPath);\r\n                          }\r\n                      }\r\n                  }\r\n                  // our new selectors has been multiplied, so reset the state\r\n                  newSelectors = selectorsMultiplied;\r\n                  currentElements = [];\r\n              }\r\n          }\r\n          // if we have any elements left over (e.g. .a& .b == .b)\r\n          // add them on to all the current selectors\r\n          mergeElementsOnToSelectors(currentElements, newSelectors);\r\n          for (i = 0; i < newSelectors.length; i++) {\r\n              length = newSelectors[i].length;\r\n              if (length > 0) {\r\n                  paths.push(newSelectors[i]);\r\n                  lastSelector = newSelectors[i][length - 1];\r\n                  newSelectors[i][length - 1] = lastSelector.createDerived(lastSelector.elements, inSelector.extendList);\r\n              }\r\n          }\r\n          return hadParentSelector;\r\n      }\r\n      function deriveSelector(visibilityInfo, deriveFrom) {\r\n          var newSelector = deriveFrom.createDerived(deriveFrom.elements, deriveFrom.extendList, deriveFrom.evaldCondition);\r\n          newSelector.copyVisibilityInfo(visibilityInfo);\r\n          return newSelector;\r\n      }\r\n      // joinSelector code follows\r\n      var i;\r\n      var newPaths;\r\n      var hadParentSelector;\r\n      newPaths = [];\r\n      hadParentSelector = replaceParentSelector(newPaths, context, selector);\r\n      if (!hadParentSelector) {\r\n          if (context.length > 0) {\r\n              newPaths = [];\r\n              for (i = 0; i < context.length; i++) {\r\n                  var concatenated = context[i].map(deriveSelector.bind(this, selector.visibilityInfo()));\r\n                  concatenated.push(selector);\r\n                  newPaths.push(concatenated);\r\n              }\r\n          }\r\n          else {\r\n              newPaths = [[selector]];\r\n          }\r\n      }\r\n      for (i = 0; i < newPaths.length; i++) {\r\n          paths.push(newPaths[i]);\r\n      }\r\n  };\r\n  Ruleset.prototype.type = 'Ruleset';\r\n  Ruleset.prototype.isRuleset = true;\n\n  var AtRule = function (name, value, rules, index, currentFileInfo, debugInfo, isRooted, visibilityInfo) {\r\n      var i;\r\n      this.name = name;\r\n      this.value = (value instanceof Node) ? value : (value ? new Anonymous(value) : value);\r\n      if (rules) {\r\n          if (Array.isArray(rules)) {\r\n              this.rules = rules;\r\n          }\r\n          else {\r\n              this.rules = [rules];\r\n              this.rules[0].selectors = (new Selector([], null, null, index, currentFileInfo)).createEmptySelectors();\r\n          }\r\n          for (i = 0; i < this.rules.length; i++) {\r\n              this.rules[i].allowImports = true;\r\n          }\r\n          this.setParent(this.rules, this);\r\n      }\r\n      this._index = index;\r\n      this._fileInfo = currentFileInfo;\r\n      this.debugInfo = debugInfo;\r\n      this.isRooted = isRooted || false;\r\n      this.copyVisibilityInfo(visibilityInfo);\r\n      this.allowRoot = true;\r\n  };\r\n  AtRule.prototype = new Node();\r\n  AtRule.prototype.accept = function (visitor) {\r\n      var value = this.value;\r\n      var rules = this.rules;\r\n      if (rules) {\r\n          this.rules = visitor.visitArray(rules);\r\n      }\r\n      if (value) {\r\n          this.value = visitor.visit(value);\r\n      }\r\n  };\r\n  AtRule.prototype.isRulesetLike = function () {\r\n      return this.rules || !this.isCharset();\r\n  };\r\n  AtRule.prototype.isCharset = function () {\r\n      return '@charset' === this.name;\r\n  };\r\n  AtRule.prototype.genCSS = function (context, output) {\r\n      var value = this.value;\r\n      var rules = this.rules;\r\n      output.add(this.name, this.fileInfo(), this.getIndex());\r\n      if (value) {\r\n          output.add(' ');\r\n          value.genCSS(context, output);\r\n      }\r\n      if (rules) {\r\n          this.outputRuleset(context, output, rules);\r\n      }\r\n      else {\r\n          output.add(';');\r\n      }\r\n  };\r\n  AtRule.prototype.eval = function (context) {\r\n      var mediaPathBackup;\r\n      var mediaBlocksBackup;\r\n      var value = this.value;\r\n      var rules = this.rules;\r\n      // media stored inside other atrule should not bubble over it\r\n      // backpup media bubbling information\r\n      mediaPathBackup = context.mediaPath;\r\n      mediaBlocksBackup = context.mediaBlocks;\r\n      // deleted media bubbling information\r\n      context.mediaPath = [];\r\n      context.mediaBlocks = [];\r\n      if (value) {\r\n          value = value.eval(context);\r\n      }\r\n      if (rules) {\r\n          // assuming that there is only one rule at this point - that is how parser constructs the rule\r\n          rules = [rules[0].eval(context)];\r\n          rules[0].root = true;\r\n      }\r\n      // restore media bubbling information\r\n      context.mediaPath = mediaPathBackup;\r\n      context.mediaBlocks = mediaBlocksBackup;\r\n      return new AtRule(this.name, value, rules, this.getIndex(), this.fileInfo(), this.debugInfo, this.isRooted, this.visibilityInfo());\r\n  };\r\n  AtRule.prototype.variable = function (name) {\r\n      if (this.rules) {\r\n          // assuming that there is only one rule at this point - that is how parser constructs the rule\r\n          return Ruleset.prototype.variable.call(this.rules[0], name);\r\n      }\r\n  };\r\n  AtRule.prototype.find = function () {\r\n      var args = [];\r\n      for (var _i = 0; _i < arguments.length; _i++) {\r\n          args[_i] = arguments[_i];\r\n      }\r\n      if (this.rules) {\r\n          // assuming that there is only one rule at this point - that is how parser constructs the rule\r\n          return Ruleset.prototype.find.apply(this.rules[0], args);\r\n      }\r\n  };\r\n  AtRule.prototype.rulesets = function () {\r\n      if (this.rules) {\r\n          // assuming that there is only one rule at this point - that is how parser constructs the rule\r\n          return Ruleset.prototype.rulesets.apply(this.rules[0]);\r\n      }\r\n  };\r\n  AtRule.prototype.outputRuleset = function (context, output, rules) {\r\n      var ruleCnt = rules.length;\r\n      var i;\r\n      context.tabLevel = (context.tabLevel | 0) + 1;\r\n      // Compressed\r\n      if (context.compress) {\r\n          output.add('{');\r\n          for (i = 0; i < ruleCnt; i++) {\r\n              rules[i].genCSS(context, output);\r\n          }\r\n          output.add('}');\r\n          context.tabLevel--;\r\n          return;\r\n      }\r\n      // Non-compressed\r\n      var tabSetStr = \"\\n\" + Array(context.tabLevel).join('  ');\r\n      var tabRuleStr = tabSetStr + \"  \";\r\n      if (!ruleCnt) {\r\n          output.add(\" {\" + tabSetStr + \"}\");\r\n      }\r\n      else {\r\n          output.add(\" {\" + tabRuleStr);\r\n          rules[0].genCSS(context, output);\r\n          for (i = 1; i < ruleCnt; i++) {\r\n              output.add(tabRuleStr);\r\n              rules[i].genCSS(context, output);\r\n          }\r\n          output.add(tabSetStr + \"}\");\r\n      }\r\n      context.tabLevel--;\r\n  };\r\n  AtRule.prototype.type = 'AtRule';\n\n  var DetachedRuleset = function (ruleset, frames) {\r\n      this.ruleset = ruleset;\r\n      this.frames = frames;\r\n      this.setParent(this.ruleset, this);\r\n  };\r\n  DetachedRuleset.prototype = new Node();\r\n  DetachedRuleset.prototype.accept = function (visitor) {\r\n      this.ruleset = visitor.visit(this.ruleset);\r\n  };\r\n  DetachedRuleset.prototype.eval = function (context) {\r\n      var frames = this.frames || copyArray(context.frames);\r\n      return new DetachedRuleset(this.ruleset, frames);\r\n  };\r\n  DetachedRuleset.prototype.callEval = function (context) {\r\n      return this.ruleset.eval(this.frames ? new contexts.Eval(context, this.frames.concat(context.frames)) : context);\r\n  };\r\n  DetachedRuleset.prototype.type = 'DetachedRuleset';\r\n  DetachedRuleset.prototype.evalFirst = true;\n\n  var Unit = function (numerator, denominator, backupUnit) {\r\n      this.numerator = numerator ? copyArray(numerator).sort() : [];\r\n      this.denominator = denominator ? copyArray(denominator).sort() : [];\r\n      if (backupUnit) {\r\n          this.backupUnit = backupUnit;\r\n      }\r\n      else if (numerator && numerator.length) {\r\n          this.backupUnit = numerator[0];\r\n      }\r\n  };\r\n  Unit.prototype = new Node();\r\n  Unit.prototype.clone = function () {\r\n      return new Unit(copyArray(this.numerator), copyArray(this.denominator), this.backupUnit);\r\n  };\r\n  Unit.prototype.genCSS = function (context, output) {\r\n      // Dimension checks the unit is singular and throws an error if in strict math mode.\r\n      var strictUnits = context && context.strictUnits;\r\n      if (this.numerator.length === 1) {\r\n          output.add(this.numerator[0]); // the ideal situation\r\n      }\r\n      else if (!strictUnits && this.backupUnit) {\r\n          output.add(this.backupUnit);\r\n      }\r\n      else if (!strictUnits && this.denominator.length) {\r\n          output.add(this.denominator[0]);\r\n      }\r\n  };\r\n  Unit.prototype.toString = function () {\r\n      var i;\r\n      var returnStr = this.numerator.join('*');\r\n      for (i = 0; i < this.denominator.length; i++) {\r\n          returnStr += \"/\" + this.denominator[i];\r\n      }\r\n      return returnStr;\r\n  };\r\n  Unit.prototype.compare = function (other) {\r\n      return this.is(other.toString()) ? 0 : undefined;\r\n  };\r\n  Unit.prototype.is = function (unitString) {\r\n      return this.toString().toUpperCase() === unitString.toUpperCase();\r\n  };\r\n  Unit.prototype.isLength = function () {\r\n      return RegExp('^(px|em|ex|ch|rem|in|cm|mm|pc|pt|ex|vw|vh|vmin|vmax)$', 'gi').test(this.toCSS());\r\n  };\r\n  Unit.prototype.isEmpty = function () {\r\n      return this.numerator.length === 0 && this.denominator.length === 0;\r\n  };\r\n  Unit.prototype.isSingular = function () {\r\n      return this.numerator.length <= 1 && this.denominator.length === 0;\r\n  };\r\n  Unit.prototype.map = function (callback) {\r\n      var i;\r\n      for (i = 0; i < this.numerator.length; i++) {\r\n          this.numerator[i] = callback(this.numerator[i], false);\r\n      }\r\n      for (i = 0; i < this.denominator.length; i++) {\r\n          this.denominator[i] = callback(this.denominator[i], true);\r\n      }\r\n  };\r\n  Unit.prototype.usedUnits = function () {\r\n      var group;\r\n      var result = {};\r\n      var mapUnit;\r\n      var groupName;\r\n      mapUnit = function (atomicUnit) {\r\n          /* jshint loopfunc:true */\r\n          if (group.hasOwnProperty(atomicUnit) && !result[groupName]) {\r\n              result[groupName] = atomicUnit;\r\n          }\r\n          return atomicUnit;\r\n      };\r\n      for (groupName in unitConversions) {\r\n          if (unitConversions.hasOwnProperty(groupName)) {\r\n              group = unitConversions[groupName];\r\n              this.map(mapUnit);\r\n          }\r\n      }\r\n      return result;\r\n  };\r\n  Unit.prototype.cancel = function () {\r\n      var counter = {};\r\n      var atomicUnit;\r\n      var i;\r\n      for (i = 0; i < this.numerator.length; i++) {\r\n          atomicUnit = this.numerator[i];\r\n          counter[atomicUnit] = (counter[atomicUnit] || 0) + 1;\r\n      }\r\n      for (i = 0; i < this.denominator.length; i++) {\r\n          atomicUnit = this.denominator[i];\r\n          counter[atomicUnit] = (counter[atomicUnit] || 0) - 1;\r\n      }\r\n      this.numerator = [];\r\n      this.denominator = [];\r\n      for (atomicUnit in counter) {\r\n          if (counter.hasOwnProperty(atomicUnit)) {\r\n              var count = counter[atomicUnit];\r\n              if (count > 0) {\r\n                  for (i = 0; i < count; i++) {\r\n                      this.numerator.push(atomicUnit);\r\n                  }\r\n              }\r\n              else if (count < 0) {\r\n                  for (i = 0; i < -count; i++) {\r\n                      this.denominator.push(atomicUnit);\r\n                  }\r\n              }\r\n          }\r\n      }\r\n      this.numerator.sort();\r\n      this.denominator.sort();\r\n  };\r\n  Unit.prototype.type = 'Unit';\n\n  //\r\n  // A number with a unit\r\n  //\r\n  var Dimension = function (value, unit) {\r\n      this.value = parseFloat(value);\r\n      if (isNaN(this.value)) {\r\n          throw new Error('Dimension is not a number.');\r\n      }\r\n      this.unit = (unit && unit instanceof Unit) ? unit :\r\n          new Unit(unit ? [unit] : undefined);\r\n      this.setParent(this.unit, this);\r\n  };\r\n  Dimension.prototype = new Node();\r\n  Dimension.prototype.accept = function (visitor) {\r\n      this.unit = visitor.visit(this.unit);\r\n  };\r\n  Dimension.prototype.eval = function (context) {\r\n      return this;\r\n  };\r\n  Dimension.prototype.toColor = function () {\r\n      return new Color([this.value, this.value, this.value]);\r\n  };\r\n  Dimension.prototype.genCSS = function (context, output) {\r\n      if ((context && context.strictUnits) && !this.unit.isSingular()) {\r\n          throw new Error(\"Multiple units in dimension. Correct the units or use the unit function. Bad unit: \" + this.unit.toString());\r\n      }\r\n      var value = this.fround(context, this.value);\r\n      var strValue = String(value);\r\n      if (value !== 0 && value < 0.000001 && value > -0.000001) {\r\n          // would be output 1e-6 etc.\r\n          strValue = value.toFixed(20).replace(/0+$/, '');\r\n      }\r\n      if (context && context.compress) {\r\n          // Zero values doesn't need a unit\r\n          if (value === 0 && this.unit.isLength()) {\r\n              output.add(strValue);\r\n              return;\r\n          }\r\n          // Float values doesn't need a leading zero\r\n          if (value > 0 && value < 1) {\r\n              strValue = (strValue).substr(1);\r\n          }\r\n      }\r\n      output.add(strValue);\r\n      this.unit.genCSS(context, output);\r\n  };\r\n  // In an operation between two Dimensions,\r\n  // we default to the first Dimension's unit,\r\n  // so `1px + 2` will yield `3px`.\r\n  Dimension.prototype.operate = function (context, op, other) {\r\n      /* jshint noempty:false */\r\n      var value = this._operate(context, op, this.value, other.value);\r\n      var unit = this.unit.clone();\r\n      if (op === '+' || op === '-') {\r\n          if (unit.numerator.length === 0 && unit.denominator.length === 0) {\r\n              unit = other.unit.clone();\r\n              if (this.unit.backupUnit) {\r\n                  unit.backupUnit = this.unit.backupUnit;\r\n              }\r\n          }\r\n          else if (other.unit.numerator.length === 0 && unit.denominator.length === 0) ;\r\n          else {\r\n              other = other.convertTo(this.unit.usedUnits());\r\n              if (context.strictUnits && other.unit.toString() !== unit.toString()) {\r\n                  throw new Error(\"Incompatible units. Change the units or use the unit function. \" +\r\n                      (\"Bad units: '\" + unit.toString() + \"' and '\" + other.unit.toString() + \"'.\"));\r\n              }\r\n              value = this._operate(context, op, this.value, other.value);\r\n          }\r\n      }\r\n      else if (op === '*') {\r\n          unit.numerator = unit.numerator.concat(other.unit.numerator).sort();\r\n          unit.denominator = unit.denominator.concat(other.unit.denominator).sort();\r\n          unit.cancel();\r\n      }\r\n      else if (op === '/') {\r\n          unit.numerator = unit.numerator.concat(other.unit.denominator).sort();\r\n          unit.denominator = unit.denominator.concat(other.unit.numerator).sort();\r\n          unit.cancel();\r\n      }\r\n      return new Dimension(value, unit);\r\n  };\r\n  Dimension.prototype.compare = function (other) {\r\n      var a;\r\n      var b;\r\n      if (!(other instanceof Dimension)) {\r\n          return undefined;\r\n      }\r\n      if (this.unit.isEmpty() || other.unit.isEmpty()) {\r\n          a = this;\r\n          b = other;\r\n      }\r\n      else {\r\n          a = this.unify();\r\n          b = other.unify();\r\n          if (a.unit.compare(b.unit) !== 0) {\r\n              return undefined;\r\n          }\r\n      }\r\n      return Node.numericCompare(a.value, b.value);\r\n  };\r\n  Dimension.prototype.unify = function () {\r\n      return this.convertTo({ length: 'px', duration: 's', angle: 'rad' });\r\n  };\r\n  Dimension.prototype.convertTo = function (conversions) {\r\n      var value = this.value;\r\n      var unit = this.unit.clone();\r\n      var i;\r\n      var groupName;\r\n      var group;\r\n      var targetUnit;\r\n      var derivedConversions = {};\r\n      var applyUnit;\r\n      if (typeof conversions === 'string') {\r\n          for (i in unitConversions) {\r\n              if (unitConversions[i].hasOwnProperty(conversions)) {\r\n                  derivedConversions = {};\r\n                  derivedConversions[i] = conversions;\r\n              }\r\n          }\r\n          conversions = derivedConversions;\r\n      }\r\n      applyUnit = function (atomicUnit, denominator) {\r\n          /* jshint loopfunc:true */\r\n          if (group.hasOwnProperty(atomicUnit)) {\r\n              if (denominator) {\r\n                  value = value / (group[atomicUnit] / group[targetUnit]);\r\n              }\r\n              else {\r\n                  value = value * (group[atomicUnit] / group[targetUnit]);\r\n              }\r\n              return targetUnit;\r\n          }\r\n          return atomicUnit;\r\n      };\r\n      for (groupName in conversions) {\r\n          if (conversions.hasOwnProperty(groupName)) {\r\n              targetUnit = conversions[groupName];\r\n              group = unitConversions[groupName];\r\n              unit.map(applyUnit);\r\n          }\r\n      }\r\n      unit.cancel();\r\n      return new Dimension(value, unit);\r\n  };\r\n  Dimension.prototype.type = 'Dimension';\n\n  var MATH$1 = Math$1;\r\n  var Operation = function (op, operands, isSpaced) {\r\n      this.op = op.trim();\r\n      this.operands = operands;\r\n      this.isSpaced = isSpaced;\r\n  };\r\n  Operation.prototype = new Node();\r\n  Operation.prototype.accept = function (visitor) {\r\n      this.operands = visitor.visitArray(this.operands);\r\n  };\r\n  Operation.prototype.eval = function (context) {\r\n      var a = this.operands[0].eval(context);\r\n      var b = this.operands[1].eval(context);\r\n      var op;\r\n      if (context.isMathOn(this.op)) {\r\n          op = this.op === './' ? '/' : this.op;\r\n          if (a instanceof Dimension && b instanceof Color) {\r\n              a = a.toColor();\r\n          }\r\n          if (b instanceof Dimension && a instanceof Color) {\r\n              b = b.toColor();\r\n          }\r\n          if (!a.operate) {\r\n              if (a instanceof Operation && a.op === '/' && context.math === MATH$1.PARENS_DIVISION) {\r\n                  return new Operation(this.op, [a, b], this.isSpaced);\r\n              }\r\n              throw { type: 'Operation',\r\n                  message: 'Operation on an invalid type' };\r\n          }\r\n          return a.operate(context, op, b);\r\n      }\r\n      else {\r\n          return new Operation(this.op, [a, b], this.isSpaced);\r\n      }\r\n  };\r\n  Operation.prototype.genCSS = function (context, output) {\r\n      this.operands[0].genCSS(context, output);\r\n      if (this.isSpaced) {\r\n          output.add(' ');\r\n      }\r\n      output.add(this.op);\r\n      if (this.isSpaced) {\r\n          output.add(' ');\r\n      }\r\n      this.operands[1].genCSS(context, output);\r\n  };\r\n  Operation.prototype.type = 'Operation';\n\n  var MATH$2 = Math$1;\r\n  var Expression = function (value, noSpacing) {\r\n      this.value = value;\r\n      this.noSpacing = noSpacing;\r\n      if (!value) {\r\n          throw new Error('Expression requires an array parameter');\r\n      }\r\n  };\r\n  Expression.prototype = new Node();\r\n  Expression.prototype.accept = function (visitor) {\r\n      this.value = visitor.visitArray(this.value);\r\n  };\r\n  Expression.prototype.eval = function (context) {\r\n      var returnValue;\r\n      var mathOn = context.isMathOn();\r\n      var inParenthesis = this.parens &&\r\n          (context.math !== MATH$2.STRICT_LEGACY || !this.parensInOp);\r\n      var doubleParen = false;\r\n      if (inParenthesis) {\r\n          context.inParenthesis();\r\n      }\r\n      if (this.value.length > 1) {\r\n          returnValue = new Expression(this.value.map(function (e) {\r\n              if (!e.eval) {\r\n                  return e;\r\n              }\r\n              return e.eval(context);\r\n          }), this.noSpacing);\r\n      }\r\n      else if (this.value.length === 1) {\r\n          if (this.value[0].parens && !this.value[0].parensInOp && !context.inCalc) {\r\n              doubleParen = true;\r\n          }\r\n          returnValue = this.value[0].eval(context);\r\n      }\r\n      else {\r\n          returnValue = this;\r\n      }\r\n      if (inParenthesis) {\r\n          context.outOfParenthesis();\r\n      }\r\n      if (this.parens && this.parensInOp && !mathOn && !doubleParen\r\n          && (!(returnValue instanceof Dimension))) {\r\n          returnValue = new Paren(returnValue);\r\n      }\r\n      return returnValue;\r\n  };\r\n  Expression.prototype.genCSS = function (context, output) {\r\n      for (var i = 0; i < this.value.length; i++) {\r\n          this.value[i].genCSS(context, output);\r\n          if (!this.noSpacing && i + 1 < this.value.length) {\r\n              output.add(' ');\r\n          }\r\n      }\r\n  };\r\n  Expression.prototype.throwAwayComments = function () {\r\n      this.value = this.value.filter(function (v) { return !(v instanceof Comment); });\r\n  };\r\n  Expression.prototype.type = 'Expression';\n\n  var functionCaller = /** @class */ (function () {\r\n      function functionCaller(name, context, index, currentFileInfo) {\r\n          this.name = name.toLowerCase();\r\n          this.index = index;\r\n          this.context = context;\r\n          this.currentFileInfo = currentFileInfo;\r\n          this.func = context.frames[0].functionRegistry.get(this.name);\r\n      }\r\n      functionCaller.prototype.isValid = function () {\r\n          return Boolean(this.func);\r\n      };\r\n      functionCaller.prototype.call = function (args) {\r\n          var _this = this;\r\n          var evalArgs = this.func.evalArgs;\r\n          if (evalArgs !== false) {\r\n              args = args.map(function (a) { return a.eval(_this.context); });\r\n          }\r\n          // This code is terrible and should be replaced as per this issue...\r\n          // https://github.com/less/less.js/issues/2477\r\n          if (Array.isArray(args)) {\r\n              args = args.filter(function (item) {\r\n                  if (item.type === 'Comment') {\r\n                      return false;\r\n                  }\r\n                  return true;\r\n              })\r\n                  .map(function (item) {\r\n                  if (item.type === 'Expression') {\r\n                      var subNodes = item.value.filter(function (item) {\r\n                          if (item.type === 'Comment') {\r\n                              return false;\r\n                          }\r\n                          return true;\r\n                      });\r\n                      if (subNodes.length === 1) {\r\n                          return subNodes[0];\r\n                      }\r\n                      else {\r\n                          return new Expression(subNodes);\r\n                      }\r\n                  }\r\n                  return item;\r\n              });\r\n          }\r\n          if (evalArgs === false) {\r\n              return this.func.apply(this, __spreadArrays([this.context], args));\r\n          }\r\n          return this.func.apply(this, args);\r\n      };\r\n      return functionCaller;\r\n  }());\n\n  //\r\n  // A function call node.\r\n  //\r\n  var Call = function (name, args, index, currentFileInfo) {\r\n      this.name = name;\r\n      this.args = args;\r\n      this.calc = name === 'calc';\r\n      this._index = index;\r\n      this._fileInfo = currentFileInfo;\r\n  };\r\n  Call.prototype = new Node();\r\n  Call.prototype.accept = function (visitor) {\r\n      if (this.args) {\r\n          this.args = visitor.visitArray(this.args);\r\n      }\r\n  };\r\n  //\r\n  // When evaluating a function call,\r\n  // we either find the function in the functionRegistry,\r\n  // in which case we call it, passing the  evaluated arguments,\r\n  // if this returns null or we cannot find the function, we\r\n  // simply print it out as it appeared originally [2].\r\n  //\r\n  // The reason why we evaluate the arguments, is in the case where\r\n  // we try to pass a variable to a function, like: `saturate(@color)`.\r\n  // The function should receive the value, not the variable.\r\n  //\r\n  Call.prototype.eval = function (context) {\r\n      var _this = this;\r\n      /**\r\n       * Turn off math for calc(), and switch back on for evaluating nested functions\r\n       */\r\n      var currentMathContext = context.mathOn;\r\n      context.mathOn = !this.calc;\r\n      if (this.calc || context.inCalc) {\r\n          context.enterCalc();\r\n      }\r\n      var exitCalc = function () {\r\n          if (_this.calc || context.inCalc) {\r\n              context.exitCalc();\r\n          }\r\n          context.mathOn = currentMathContext;\r\n      };\r\n      var result;\r\n      var funcCaller = new functionCaller(this.name, context, this.getIndex(), this.fileInfo());\r\n      if (funcCaller.isValid()) {\r\n          try {\r\n              result = funcCaller.call(this.args);\r\n              exitCalc();\r\n          }\r\n          catch (e) {\r\n              if (e.hasOwnProperty('line') && e.hasOwnProperty('column')) {\r\n                  throw e;\r\n              }\r\n              throw {\r\n                  type: e.type || 'Runtime',\r\n                  message: \"error evaluating function `\" + this.name + \"`\" + (e.message ? \": \" + e.message : ''),\r\n                  index: this.getIndex(),\r\n                  filename: this.fileInfo().filename,\r\n                  line: e.lineNumber,\r\n                  column: e.columnNumber\r\n              };\r\n          }\r\n          if (result !== null && result !== undefined) {\r\n              // Results that that are not nodes are cast as Anonymous nodes\r\n              // Falsy values or booleans are returned as empty nodes\r\n              if (!(result instanceof Node)) {\r\n                  if (!result || result === true) {\r\n                      result = new Anonymous(null);\r\n                  }\r\n                  else {\r\n                      result = new Anonymous(result.toString());\r\n                  }\r\n              }\r\n              result._index = this._index;\r\n              result._fileInfo = this._fileInfo;\r\n              return result;\r\n          }\r\n      }\r\n      var args = this.args.map(function (a) { return a.eval(context); });\r\n      exitCalc();\r\n      return new Call(this.name, args, this.getIndex(), this.fileInfo());\r\n  };\r\n  Call.prototype.genCSS = function (context, output) {\r\n      output.add(this.name + \"(\", this.fileInfo(), this.getIndex());\r\n      for (var i = 0; i < this.args.length; i++) {\r\n          this.args[i].genCSS(context, output);\r\n          if (i + 1 < this.args.length) {\r\n              output.add(', ');\r\n          }\r\n      }\r\n      output.add(')');\r\n  };\r\n  Call.prototype.type = 'Call';\n\n  var Variable = function (name, index, currentFileInfo) {\r\n      this.name = name;\r\n      this._index = index;\r\n      this._fileInfo = currentFileInfo;\r\n  };\r\n  Variable.prototype = new Node();\r\n  Variable.prototype.eval = function (context) {\r\n      var variable;\r\n      var name = this.name;\r\n      if (name.indexOf('@@') === 0) {\r\n          name = \"@\" + new Variable(name.slice(1), this.getIndex(), this.fileInfo()).eval(context).value;\r\n      }\r\n      if (this.evaluating) {\r\n          throw { type: 'Name', message: \"Recursive variable definition for \" + name, filename: this.fileInfo().filename,\r\n              index: this.getIndex() };\r\n      }\r\n      this.evaluating = true;\r\n      variable = this.find(context.frames, function (frame) {\r\n          var v = frame.variable(name);\r\n          if (v) {\r\n              if (v.important) {\r\n                  var importantScope = context.importantScope[context.importantScope.length - 1];\r\n                  importantScope.important = v.important;\r\n              }\r\n              // If in calc, wrap vars in a function call to cascade evaluate args first\r\n              if (context.inCalc) {\r\n                  return (new Call('_SELF', [v.value])).eval(context);\r\n              }\r\n              else {\r\n                  return v.value.eval(context);\r\n              }\r\n          }\r\n      });\r\n      if (variable) {\r\n          this.evaluating = false;\r\n          return variable;\r\n      }\r\n      else {\r\n          throw { type: 'Name', message: \"variable \" + name + \" is undefined\", filename: this.fileInfo().filename,\r\n              index: this.getIndex() };\r\n      }\r\n  };\r\n  Variable.prototype.find = function (obj, fun) {\r\n      for (var i = 0, r = void 0; i < obj.length; i++) {\r\n          r = fun.call(obj, obj[i]);\r\n          if (r) {\r\n              return r;\r\n          }\r\n      }\r\n      return null;\r\n  };\r\n  Variable.prototype.type = 'Variable';\n\n  var Property = function (name, index, currentFileInfo) {\r\n      this.name = name;\r\n      this._index = index;\r\n      this._fileInfo = currentFileInfo;\r\n  };\r\n  Property.prototype = new Node();\r\n  Property.prototype.eval = function (context) {\r\n      var property;\r\n      var name = this.name;\r\n      // TODO: shorten this reference\r\n      var mergeRules = context.pluginManager.less.visitors.ToCSSVisitor.prototype._mergeRules;\r\n      if (this.evaluating) {\r\n          throw { type: 'Name', message: \"Recursive property reference for \" + name, filename: this.fileInfo().filename,\r\n              index: this.getIndex() };\r\n      }\r\n      this.evaluating = true;\r\n      property = this.find(context.frames, function (frame) {\r\n          var v;\r\n          var vArr = frame.property(name);\r\n          if (vArr) {\r\n              for (var i = 0; i < vArr.length; i++) {\r\n                  v = vArr[i];\r\n                  vArr[i] = new Declaration(v.name, v.value, v.important, v.merge, v.index, v.currentFileInfo, v.inline, v.variable);\r\n              }\r\n              mergeRules(vArr);\r\n              v = vArr[vArr.length - 1];\r\n              if (v.important) {\r\n                  var importantScope = context.importantScope[context.importantScope.length - 1];\r\n                  importantScope.important = v.important;\r\n              }\r\n              v = v.value.eval(context);\r\n              return v;\r\n          }\r\n      });\r\n      if (property) {\r\n          this.evaluating = false;\r\n          return property;\r\n      }\r\n      else {\r\n          throw { type: 'Name', message: \"Property '\" + name + \"' is undefined\", filename: this.currentFileInfo.filename,\r\n              index: this.index };\r\n      }\r\n  };\r\n  Property.prototype.find = function (obj, fun) {\r\n      for (var i = 0, r = void 0; i < obj.length; i++) {\r\n          r = fun.call(obj, obj[i]);\r\n          if (r) {\r\n              return r;\r\n          }\r\n      }\r\n      return null;\r\n  };\r\n  Property.prototype.type = 'Property';\n\n  var Attribute = function (key, op, value) {\r\n      this.key = key;\r\n      this.op = op;\r\n      this.value = value;\r\n  };\r\n  Attribute.prototype = new Node();\r\n  Attribute.prototype.eval = function (context) {\r\n      return new Attribute(this.key.eval ? this.key.eval(context) : this.key, this.op, (this.value && this.value.eval) ? this.value.eval(context) : this.value);\r\n  };\r\n  Attribute.prototype.genCSS = function (context, output) {\r\n      output.add(this.toCSS(context));\r\n  };\r\n  Attribute.prototype.toCSS = function (context) {\r\n      var value = this.key.toCSS ? this.key.toCSS(context) : this.key;\r\n      if (this.op) {\r\n          value += this.op;\r\n          value += (this.value.toCSS ? this.value.toCSS(context) : this.value);\r\n      }\r\n      return \"[\" + value + \"]\";\r\n  };\r\n  Attribute.prototype.type = 'Attribute';\n\n  var Quoted = function (str, content, escaped, index, currentFileInfo) {\r\n      this.escaped = (escaped == null) ? true : escaped;\r\n      this.value = content || '';\r\n      this.quote = str.charAt(0);\r\n      this._index = index;\r\n      this._fileInfo = currentFileInfo;\r\n      this.variableRegex = /@\\{([\\w-]+)\\}/g;\r\n      this.propRegex = /\\$\\{([\\w-]+)\\}/g;\r\n      this.allowRoot = escaped;\r\n  };\r\n  Quoted.prototype = new Node();\r\n  Quoted.prototype.genCSS = function (context, output) {\r\n      if (!this.escaped) {\r\n          output.add(this.quote, this.fileInfo(), this.getIndex());\r\n      }\r\n      output.add(this.value);\r\n      if (!this.escaped) {\r\n          output.add(this.quote);\r\n      }\r\n  };\r\n  Quoted.prototype.containsVariables = function () {\r\n      return this.value.match(this.variableRegex);\r\n  };\r\n  Quoted.prototype.eval = function (context) {\r\n      var that = this;\r\n      var value = this.value;\r\n      var variableReplacement = function (_, name) {\r\n          var v = new Variable(\"@\" + name, that.getIndex(), that.fileInfo()).eval(context, true);\r\n          return (v instanceof Quoted) ? v.value : v.toCSS();\r\n      };\r\n      var propertyReplacement = function (_, name) {\r\n          var v = new Property(\"$\" + name, that.getIndex(), that.fileInfo()).eval(context, true);\r\n          return (v instanceof Quoted) ? v.value : v.toCSS();\r\n      };\r\n      function iterativeReplace(value, regexp, replacementFnc) {\r\n          var evaluatedValue = value;\r\n          do {\r\n              value = evaluatedValue.toString();\r\n              evaluatedValue = value.replace(regexp, replacementFnc);\r\n          } while (value !== evaluatedValue);\r\n          return evaluatedValue;\r\n      }\r\n      value = iterativeReplace(value, this.variableRegex, variableReplacement);\r\n      value = iterativeReplace(value, this.propRegex, propertyReplacement);\r\n      return new Quoted(this.quote + value + this.quote, value, this.escaped, this.getIndex(), this.fileInfo());\r\n  };\r\n  Quoted.prototype.compare = function (other) {\r\n      // when comparing quoted strings allow the quote to differ\r\n      if (other.type === 'Quoted' && !this.escaped && !other.escaped) {\r\n          return Node.numericCompare(this.value, other.value);\r\n      }\r\n      else {\r\n          return other.toCSS && this.toCSS() === other.toCSS() ? 0 : undefined;\r\n      }\r\n  };\r\n  Quoted.prototype.type = 'Quoted';\n\n  var URL = function (val, index, currentFileInfo, isEvald) {\r\n      this.value = val;\r\n      this._index = index;\r\n      this._fileInfo = currentFileInfo;\r\n      this.isEvald = isEvald;\r\n  };\r\n  URL.prototype = new Node();\r\n  URL.prototype.accept = function (visitor) {\r\n      this.value = visitor.visit(this.value);\r\n  };\r\n  URL.prototype.genCSS = function (context, output) {\r\n      output.add('url(');\r\n      this.value.genCSS(context, output);\r\n      output.add(')');\r\n  };\r\n  URL.prototype.eval = function (context) {\r\n      var val = this.value.eval(context);\r\n      var rootpath;\r\n      if (!this.isEvald) {\r\n          // Add the rootpath if the URL requires a rewrite\r\n          rootpath = this.fileInfo() && this.fileInfo().rootpath;\r\n          if (typeof rootpath === 'string' &&\r\n              typeof val.value === 'string' &&\r\n              context.pathRequiresRewrite(val.value)) {\r\n              if (!val.quote) {\r\n                  rootpath = escapePath(rootpath);\r\n              }\r\n              val.value = context.rewritePath(val.value, rootpath);\r\n          }\r\n          else {\r\n              val.value = context.normalizePath(val.value);\r\n          }\r\n          // Add url args if enabled\r\n          if (context.urlArgs) {\r\n              if (!val.value.match(/^\\s*data:/)) {\r\n                  var delimiter = val.value.indexOf('?') === -1 ? '?' : '&';\r\n                  var urlArgs = delimiter + context.urlArgs;\r\n                  if (val.value.indexOf('#') !== -1) {\r\n                      val.value = val.value.replace('#', urlArgs + \"#\");\r\n                  }\r\n                  else {\r\n                      val.value += urlArgs;\r\n                  }\r\n              }\r\n          }\r\n      }\r\n      return new URL(val, this.getIndex(), this.fileInfo(), true);\r\n  };\r\n  URL.prototype.type = 'Url';\r\n  function escapePath(path) {\r\n      return path.replace(/[\\(\\)'\"\\s]/g, function (match) { return \"\\\\\" + match; });\r\n  }\n\n  var Media = function (value, features, index, currentFileInfo, visibilityInfo) {\r\n      this._index = index;\r\n      this._fileInfo = currentFileInfo;\r\n      var selectors = (new Selector([], null, null, this._index, this._fileInfo)).createEmptySelectors();\r\n      this.features = new Value(features);\r\n      this.rules = [new Ruleset(selectors, value)];\r\n      this.rules[0].allowImports = true;\r\n      this.copyVisibilityInfo(visibilityInfo);\r\n      this.allowRoot = true;\r\n      this.setParent(selectors, this);\r\n      this.setParent(this.features, this);\r\n      this.setParent(this.rules, this);\r\n  };\r\n  Media.prototype = new AtRule();\r\n  Media.prototype.isRulesetLike = function () {\r\n      return true;\r\n  };\r\n  Media.prototype.accept = function (visitor) {\r\n      if (this.features) {\r\n          this.features = visitor.visit(this.features);\r\n      }\r\n      if (this.rules) {\r\n          this.rules = visitor.visitArray(this.rules);\r\n      }\r\n  };\r\n  Media.prototype.genCSS = function (context, output) {\r\n      output.add('@media ', this._fileInfo, this._index);\r\n      this.features.genCSS(context, output);\r\n      this.outputRuleset(context, output, this.rules);\r\n  };\r\n  Media.prototype.eval = function (context) {\r\n      if (!context.mediaBlocks) {\r\n          context.mediaBlocks = [];\r\n          context.mediaPath = [];\r\n      }\r\n      var media = new Media(null, [], this._index, this._fileInfo, this.visibilityInfo());\r\n      if (this.debugInfo) {\r\n          this.rules[0].debugInfo = this.debugInfo;\r\n          media.debugInfo = this.debugInfo;\r\n      }\r\n      media.features = this.features.eval(context);\r\n      context.mediaPath.push(media);\r\n      context.mediaBlocks.push(media);\r\n      this.rules[0].functionRegistry = context.frames[0].functionRegistry.inherit();\r\n      context.frames.unshift(this.rules[0]);\r\n      media.rules = [this.rules[0].eval(context)];\r\n      context.frames.shift();\r\n      context.mediaPath.pop();\r\n      return context.mediaPath.length === 0 ? media.evalTop(context) :\r\n          media.evalNested(context);\r\n  };\r\n  Media.prototype.evalTop = function (context) {\r\n      var result = this;\r\n      // Render all dependent Media blocks.\r\n      if (context.mediaBlocks.length > 1) {\r\n          var selectors = (new Selector([], null, null, this.getIndex(), this.fileInfo())).createEmptySelectors();\r\n          result = new Ruleset(selectors, context.mediaBlocks);\r\n          result.multiMedia = true;\r\n          result.copyVisibilityInfo(this.visibilityInfo());\r\n          this.setParent(result, this);\r\n      }\r\n      delete context.mediaBlocks;\r\n      delete context.mediaPath;\r\n      return result;\r\n  };\r\n  Media.prototype.evalNested = function (context) {\r\n      var i;\r\n      var value;\r\n      var path = context.mediaPath.concat([this]);\r\n      // Extract the media-query conditions separated with `,` (OR).\r\n      for (i = 0; i < path.length; i++) {\r\n          value = path[i].features instanceof Value ?\r\n              path[i].features.value : path[i].features;\r\n          path[i] = Array.isArray(value) ? value : [value];\r\n      }\r\n      // Trace all permutations to generate the resulting media-query.\r\n      //\r\n      // (a, b and c) with nested (d, e) ->\r\n      //    a and d\r\n      //    a and e\r\n      //    b and c and d\r\n      //    b and c and e\r\n      this.features = new Value(this.permute(path).map(function (path) {\r\n          path = path.map(function (fragment) { return fragment.toCSS ? fragment : new Anonymous(fragment); });\r\n          for (i = path.length - 1; i > 0; i--) {\r\n              path.splice(i, 0, new Anonymous('and'));\r\n          }\r\n          return new Expression(path);\r\n      }));\r\n      this.setParent(this.features, this);\r\n      // Fake a tree-node that doesn't output anything.\r\n      return new Ruleset([], []);\r\n  };\r\n  Media.prototype.permute = function (arr) {\r\n      if (arr.length === 0) {\r\n          return [];\r\n      }\r\n      else if (arr.length === 1) {\r\n          return arr[0];\r\n      }\r\n      else {\r\n          var result = [];\r\n          var rest = this.permute(arr.slice(1));\r\n          for (var i = 0; i < rest.length; i++) {\r\n              for (var j = 0; j < arr[0].length; j++) {\r\n                  result.push([arr[0][j]].concat(rest[i]));\r\n              }\r\n          }\r\n          return result;\r\n      }\r\n  };\r\n  Media.prototype.bubbleSelectors = function (selectors) {\r\n      if (!selectors) {\r\n          return;\r\n      }\r\n      this.rules = [new Ruleset(copyArray(selectors), [this.rules[0]])];\r\n      this.setParent(this.rules, this);\r\n  };\r\n  Media.prototype.type = 'Media';\n\n  //\r\n  // CSS @import node\r\n  //\r\n  // The general strategy here is that we don't want to wait\r\n  // for the parsing to be completed, before we start importing\r\n  // the file. That's because in the context of a browser,\r\n  // most of the time will be spent waiting for the server to respond.\r\n  //\r\n  // On creation, we push the import path to our import queue, though\r\n  // `import,push`, we also pass it a callback, which it'll call once\r\n  // the file has been fetched, and parsed.\r\n  //\r\n  var Import = function (path, features, options, index, currentFileInfo, visibilityInfo) {\r\n      this.options = options;\r\n      this._index = index;\r\n      this._fileInfo = currentFileInfo;\r\n      this.path = path;\r\n      this.features = features;\r\n      this.allowRoot = true;\r\n      if (this.options.less !== undefined || this.options.inline) {\r\n          this.css = !this.options.less || this.options.inline;\r\n      }\r\n      else {\r\n          var pathValue = this.getPath();\r\n          if (pathValue && /[#\\.\\&\\?]css([\\?;].*)?$/.test(pathValue)) {\r\n              this.css = true;\r\n          }\r\n      }\r\n      this.copyVisibilityInfo(visibilityInfo);\r\n      this.setParent(this.features, this);\r\n      this.setParent(this.path, this);\r\n  };\r\n  Import.prototype = new Node();\r\n  Import.prototype.accept = function (visitor) {\r\n      if (this.features) {\r\n          this.features = visitor.visit(this.features);\r\n      }\r\n      this.path = visitor.visit(this.path);\r\n      if (!this.options.isPlugin && !this.options.inline && this.root) {\r\n          this.root = visitor.visit(this.root);\r\n      }\r\n  };\r\n  Import.prototype.genCSS = function (context, output) {\r\n      if (this.css && this.path._fileInfo.reference === undefined) {\r\n          output.add('@import ', this._fileInfo, this._index);\r\n          this.path.genCSS(context, output);\r\n          if (this.features) {\r\n              output.add(' ');\r\n              this.features.genCSS(context, output);\r\n          }\r\n          output.add(';');\r\n      }\r\n  };\r\n  Import.prototype.getPath = function () {\r\n      return (this.path instanceof URL) ?\r\n          this.path.value.value : this.path.value;\r\n  };\r\n  Import.prototype.isVariableImport = function () {\r\n      var path = this.path;\r\n      if (path instanceof URL) {\r\n          path = path.value;\r\n      }\r\n      if (path instanceof Quoted) {\r\n          return path.containsVariables();\r\n      }\r\n      return true;\r\n  };\r\n  Import.prototype.evalForImport = function (context) {\r\n      var path = this.path;\r\n      if (path instanceof URL) {\r\n          path = path.value;\r\n      }\r\n      return new Import(path.eval(context), this.features, this.options, this._index, this._fileInfo, this.visibilityInfo());\r\n  };\r\n  Import.prototype.evalPath = function (context) {\r\n      var path = this.path.eval(context);\r\n      var fileInfo = this._fileInfo;\r\n      if (!(path instanceof URL)) {\r\n          // Add the rootpath if the URL requires a rewrite\r\n          var pathValue = path.value;\r\n          if (fileInfo &&\r\n              pathValue &&\r\n              context.pathRequiresRewrite(pathValue)) {\r\n              path.value = context.rewritePath(pathValue, fileInfo.rootpath);\r\n          }\r\n          else {\r\n              path.value = context.normalizePath(path.value);\r\n          }\r\n      }\r\n      return path;\r\n  };\r\n  Import.prototype.eval = function (context) {\r\n      var result = this.doEval(context);\r\n      if (this.options.reference || this.blocksVisibility()) {\r\n          if (result.length || result.length === 0) {\r\n              result.forEach(function (node) {\r\n                  node.addVisibilityBlock();\r\n              });\r\n          }\r\n          else {\r\n              result.addVisibilityBlock();\r\n          }\r\n      }\r\n      return result;\r\n  };\r\n  Import.prototype.doEval = function (context) {\r\n      var ruleset;\r\n      var registry;\r\n      var features = this.features && this.features.eval(context);\r\n      if (this.options.isPlugin) {\r\n          if (this.root && this.root.eval) {\r\n              try {\r\n                  this.root.eval(context);\r\n              }\r\n              catch (e) {\r\n                  e.message = 'Plugin error during evaluation';\r\n                  throw new LessError(e, this.root.imports, this.root.filename);\r\n              }\r\n          }\r\n          registry = context.frames[0] && context.frames[0].functionRegistry;\r\n          if (registry && this.root && this.root.functions) {\r\n              registry.addMultiple(this.root.functions);\r\n          }\r\n          return [];\r\n      }\r\n      if (this.skip) {\r\n          if (typeof this.skip === 'function') {\r\n              this.skip = this.skip();\r\n          }\r\n          if (this.skip) {\r\n              return [];\r\n          }\r\n      }\r\n      if (this.options.inline) {\r\n          var contents = new Anonymous(this.root, 0, {\r\n              filename: this.importedFilename,\r\n              reference: this.path._fileInfo && this.path._fileInfo.reference\r\n          }, true, true);\r\n          return this.features ? new Media([contents], this.features.value) : [contents];\r\n      }\r\n      else if (this.css) {\r\n          var newImport = new Import(this.evalPath(context), features, this.options, this._index);\r\n          if (!newImport.css && this.error) {\r\n              throw this.error;\r\n          }\r\n          return newImport;\r\n      }\r\n      else if (this.root) {\r\n          ruleset = new Ruleset(null, copyArray(this.root.rules));\r\n          ruleset.evalImports(context);\r\n          return this.features ? new Media(ruleset.rules, this.features.value) : ruleset.rules;\r\n      }\r\n      else {\r\n          return [];\r\n      }\r\n  };\r\n  Import.prototype.type = 'Import';\n\n  var JsEvalNode = function () { };\r\n  JsEvalNode.prototype = new Node();\r\n  JsEvalNode.prototype.evaluateJavaScript = function (expression, context) {\r\n      var result;\r\n      var that = this;\r\n      var evalContext = {};\r\n      if (!context.javascriptEnabled) {\r\n          throw { message: 'Inline JavaScript is not enabled. Is it set in your options?',\r\n              filename: this.fileInfo().filename,\r\n              index: this.getIndex() };\r\n      }\r\n      expression = expression.replace(/@\\{([\\w-]+)\\}/g, function (_, name) { return that.jsify(new Variable(\"@\" + name, that.getIndex(), that.fileInfo()).eval(context)); });\r\n      try {\r\n          expression = new Function(\"return (\" + expression + \")\");\r\n      }\r\n      catch (e) {\r\n          throw { message: \"JavaScript evaluation error: \" + e.message + \" from `\" + expression + \"`\", filename: this.fileInfo().filename,\r\n              index: this.getIndex() };\r\n      }\r\n      var variables = context.frames[0].variables();\r\n      for (var k in variables) {\r\n          if (variables.hasOwnProperty(k)) {\r\n              /* jshint loopfunc:true */\r\n              evalContext[k.slice(1)] = {\r\n                  value: variables[k].value,\r\n                  toJS: function () {\r\n                      return this.value.eval(context).toCSS();\r\n                  }\r\n              };\r\n          }\r\n      }\r\n      try {\r\n          result = expression.call(evalContext);\r\n      }\r\n      catch (e) {\r\n          throw { message: \"JavaScript evaluation error: '\" + e.name + \": \" + e.message.replace(/[\"]/g, '\\'') + \"'\", filename: this.fileInfo().filename,\r\n              index: this.getIndex() };\r\n      }\r\n      return result;\r\n  };\r\n  JsEvalNode.prototype.jsify = function (obj) {\r\n      if (Array.isArray(obj.value) && (obj.value.length > 1)) {\r\n          return \"[\" + obj.value.map(function (v) { return v.toCSS(); }).join(', ') + \"]\";\r\n      }\r\n      else {\r\n          return obj.toCSS();\r\n      }\r\n  };\n\n  var JavaScript = function (string, escaped, index, currentFileInfo) {\r\n      this.escaped = escaped;\r\n      this.expression = string;\r\n      this._index = index;\r\n      this._fileInfo = currentFileInfo;\r\n  };\r\n  JavaScript.prototype = new JsEvalNode();\r\n  JavaScript.prototype.eval = function (context) {\r\n      var result = this.evaluateJavaScript(this.expression, context);\r\n      var type = typeof result;\r\n      if (type === 'number' && !isNaN(result)) {\r\n          return new Dimension(result);\r\n      }\r\n      else if (type === 'string') {\r\n          return new Quoted(\"\\\"\" + result + \"\\\"\", result, this.escaped, this._index);\r\n      }\r\n      else if (Array.isArray(result)) {\r\n          return new Anonymous(result.join(', '));\r\n      }\r\n      else {\r\n          return new Anonymous(result);\r\n      }\r\n  };\r\n  JavaScript.prototype.type = 'JavaScript';\n\n  var Assignment = function (key, val) {\r\n      this.key = key;\r\n      this.value = val;\r\n  };\r\n  Assignment.prototype = new Node();\r\n  Assignment.prototype.accept = function (visitor) {\r\n      this.value = visitor.visit(this.value);\r\n  };\r\n  Assignment.prototype.eval = function (context) {\r\n      if (this.value.eval) {\r\n          return new Assignment(this.key, this.value.eval(context));\r\n      }\r\n      return this;\r\n  };\r\n  Assignment.prototype.genCSS = function (context, output) {\r\n      output.add(this.key + \"=\");\r\n      if (this.value.genCSS) {\r\n          this.value.genCSS(context, output);\r\n      }\r\n      else {\r\n          output.add(this.value);\r\n      }\r\n  };\r\n  Assignment.prototype.type = 'Assignment';\n\n  var Condition = function (op, l, r, i, negate) {\r\n      this.op = op.trim();\r\n      this.lvalue = l;\r\n      this.rvalue = r;\r\n      this._index = i;\r\n      this.negate = negate;\r\n  };\r\n  Condition.prototype = new Node();\r\n  Condition.prototype.accept = function (visitor) {\r\n      this.lvalue = visitor.visit(this.lvalue);\r\n      this.rvalue = visitor.visit(this.rvalue);\r\n  };\r\n  Condition.prototype.eval = function (context) {\r\n      var result = (function (op, a, b) {\r\n          switch (op) {\r\n              case 'and': return a && b;\r\n              case 'or': return a || b;\r\n              default:\r\n                  switch (Node.compare(a, b)) {\r\n                      case -1:\r\n                          return op === '<' || op === '=<' || op === '<=';\r\n                      case 0:\r\n                          return op === '=' || op === '>=' || op === '=<' || op === '<=';\r\n                      case 1:\r\n                          return op === '>' || op === '>=';\r\n                      default:\r\n                          return false;\r\n                  }\r\n          }\r\n      })(this.op, this.lvalue.eval(context), this.rvalue.eval(context));\r\n      return this.negate ? !result : result;\r\n  };\r\n  Condition.prototype.type = 'Condition';\n\n  var UnicodeDescriptor = function (value) {\r\n      this.value = value;\r\n  };\r\n  UnicodeDescriptor.prototype = new Node();\r\n  UnicodeDescriptor.prototype.type = 'UnicodeDescriptor';\n\n  var Negative = function (node) {\r\n      this.value = node;\r\n  };\r\n  Negative.prototype = new Node();\r\n  Negative.prototype.genCSS = function (context, output) {\r\n      output.add('-');\r\n      this.value.genCSS(context, output);\r\n  };\r\n  Negative.prototype.eval = function (context) {\r\n      if (context.isMathOn()) {\r\n          return (new Operation('*', [new Dimension(-1), this.value])).eval(context);\r\n      }\r\n      return new Negative(this.value.eval(context));\r\n  };\r\n  Negative.prototype.type = 'Negative';\n\n  var Extend = function (selector, option, index, currentFileInfo, visibilityInfo) {\r\n      this.selector = selector;\r\n      this.option = option;\r\n      this.object_id = Extend.next_id++;\r\n      this.parent_ids = [this.object_id];\r\n      this._index = index;\r\n      this._fileInfo = currentFileInfo;\r\n      this.copyVisibilityInfo(visibilityInfo);\r\n      this.allowRoot = true;\r\n      switch (option) {\r\n          case 'all':\r\n              this.allowBefore = true;\r\n              this.allowAfter = true;\r\n              break;\r\n          default:\r\n              this.allowBefore = false;\r\n              this.allowAfter = false;\r\n              break;\r\n      }\r\n      this.setParent(this.selector, this);\r\n  };\r\n  Extend.prototype = new Node();\r\n  Extend.prototype.accept = function (visitor) {\r\n      this.selector = visitor.visit(this.selector);\r\n  };\r\n  Extend.prototype.eval = function (context) {\r\n      return new Extend(this.selector.eval(context), this.option, this.getIndex(), this.fileInfo(), this.visibilityInfo());\r\n  };\r\n  Extend.prototype.clone = function (context) {\r\n      return new Extend(this.selector, this.option, this.getIndex(), this.fileInfo(), this.visibilityInfo());\r\n  };\r\n  // it concatenates (joins) all selectors in selector array\r\n  Extend.prototype.findSelfSelectors = function (selectors) {\r\n      var selfElements = [];\r\n      var i;\r\n      var selectorElements;\r\n      for (i = 0; i < selectors.length; i++) {\r\n          selectorElements = selectors[i].elements;\r\n          // duplicate the logic in genCSS function inside the selector node.\r\n          // future TODO - move both logics into the selector joiner visitor\r\n          if (i > 0 && selectorElements.length && selectorElements[0].combinator.value === '') {\r\n              selectorElements[0].combinator.value = ' ';\r\n          }\r\n          selfElements = selfElements.concat(selectors[i].elements);\r\n      }\r\n      this.selfSelectors = [new Selector(selfElements)];\r\n      this.selfSelectors[0].copyVisibilityInfo(this.visibilityInfo());\r\n  };\r\n  /**\r\n   * Used with the extend visitor\r\n   */\r\n  Extend.next_id = 0;\r\n  Extend.prototype.type = 'Extend';\n\n  var VariableCall = function (variable, index, currentFileInfo) {\r\n      this.variable = variable;\r\n      this._index = index;\r\n      this._fileInfo = currentFileInfo;\r\n      this.allowRoot = true;\r\n  };\r\n  VariableCall.prototype = new Node();\r\n  VariableCall.prototype.eval = function (context) {\r\n      var rules;\r\n      var detachedRuleset = new Variable(this.variable, this.getIndex(), this.fileInfo()).eval(context);\r\n      var error = new LessError({ message: \"Could not evaluate variable call \" + this.variable });\r\n      if (!detachedRuleset.ruleset) {\r\n          if (detachedRuleset.rules) {\r\n              rules = detachedRuleset;\r\n          }\r\n          else if (Array.isArray(detachedRuleset)) {\r\n              rules = new Ruleset('', detachedRuleset);\r\n          }\r\n          else if (Array.isArray(detachedRuleset.value)) {\r\n              rules = new Ruleset('', detachedRuleset.value);\r\n          }\r\n          else {\r\n              throw error;\r\n          }\r\n          detachedRuleset = new DetachedRuleset(rules);\r\n      }\r\n      if (detachedRuleset.ruleset) {\r\n          return detachedRuleset.callEval(context);\r\n      }\r\n      throw error;\r\n  };\r\n  VariableCall.prototype.type = 'VariableCall';\n\n  var NamespaceValue = function (ruleCall, lookups, index, fileInfo) {\r\n      this.value = ruleCall;\r\n      this.lookups = lookups;\r\n      this._index = index;\r\n      this._fileInfo = fileInfo;\r\n  };\r\n  NamespaceValue.prototype = new Node();\r\n  NamespaceValue.prototype.eval = function (context) {\r\n      var i;\r\n      var name;\r\n      var rules = this.value.eval(context);\r\n      for (i = 0; i < this.lookups.length; i++) {\r\n          name = this.lookups[i];\r\n          /**\r\n           * Eval'd DRs return rulesets.\r\n           * Eval'd mixins return rules, so let's make a ruleset if we need it.\r\n           * We need to do this because of late parsing of values\r\n           */\r\n          if (Array.isArray(rules)) {\r\n              rules = new Ruleset([new Selector()], rules);\r\n          }\r\n          if (name === '') {\r\n              rules = rules.lastDeclaration();\r\n          }\r\n          else if (name.charAt(0) === '@') {\r\n              if (name.charAt(1) === '@') {\r\n                  name = \"@\" + new Variable(name.substr(1)).eval(context).value;\r\n              }\r\n              if (rules.variables) {\r\n                  rules = rules.variable(name);\r\n              }\r\n              if (!rules) {\r\n                  throw { type: 'Name', message: \"variable \" + name + \" not found\", filename: this.fileInfo().filename,\r\n                      index: this.getIndex() };\r\n              }\r\n          }\r\n          else {\r\n              if (name.substring(0, 2) === '$@') {\r\n                  name = \"$\" + new Variable(name.substr(1)).eval(context).value;\r\n              }\r\n              else {\r\n                  name = name.charAt(0) === '$' ? name : \"$\" + name;\r\n              }\r\n              if (rules.properties) {\r\n                  rules = rules.property(name);\r\n              }\r\n              if (!rules) {\r\n                  throw { type: 'Name', message: \"property \\\"\" + name.substr(1) + \"\\\" not found\", filename: this.fileInfo().filename,\r\n                      index: this.getIndex() };\r\n              }\r\n              // Properties are an array of values, since a ruleset can have multiple props.\r\n              // We pick the last one (the \"cascaded\" value)\r\n              rules = rules[rules.length - 1];\r\n          }\r\n          if (rules.value) {\r\n              rules = rules.eval(context).value;\r\n          }\r\n          if (rules.ruleset) {\r\n              rules = rules.ruleset.eval(context);\r\n          }\r\n      }\r\n      return rules;\r\n  };\r\n  NamespaceValue.prototype.type = 'NamespaceValue';\n\n  var Definition = function (name, params, rules, condition, variadic, frames, visibilityInfo) {\r\n      this.name = name || 'anonymous mixin';\r\n      this.selectors = [new Selector([new Element(null, name, false, this._index, this._fileInfo)])];\r\n      this.params = params;\r\n      this.condition = condition;\r\n      this.variadic = variadic;\r\n      this.arity = params.length;\r\n      this.rules = rules;\r\n      this._lookups = {};\r\n      var optionalParameters = [];\r\n      this.required = params.reduce(function (count, p) {\r\n          if (!p.name || (p.name && !p.value)) {\r\n              return count + 1;\r\n          }\r\n          else {\r\n              optionalParameters.push(p.name);\r\n              return count;\r\n          }\r\n      }, 0);\r\n      this.optionalParameters = optionalParameters;\r\n      this.frames = frames;\r\n      this.copyVisibilityInfo(visibilityInfo);\r\n      this.allowRoot = true;\r\n  };\r\n  Definition.prototype = new Ruleset();\r\n  Definition.prototype.accept = function (visitor) {\r\n      if (this.params && this.params.length) {\r\n          this.params = visitor.visitArray(this.params);\r\n      }\r\n      this.rules = visitor.visitArray(this.rules);\r\n      if (this.condition) {\r\n          this.condition = visitor.visit(this.condition);\r\n      }\r\n  };\r\n  Definition.prototype.evalParams = function (context, mixinEnv, args, evaldArguments) {\r\n      /* jshint boss:true */\r\n      var frame = new Ruleset(null, null);\r\n      var varargs;\r\n      var arg;\r\n      var params = copyArray(this.params);\r\n      var i;\r\n      var j;\r\n      var val;\r\n      var name;\r\n      var isNamedFound;\r\n      var argIndex;\r\n      var argsLength = 0;\r\n      if (mixinEnv.frames && mixinEnv.frames[0] && mixinEnv.frames[0].functionRegistry) {\r\n          frame.functionRegistry = mixinEnv.frames[0].functionRegistry.inherit();\r\n      }\r\n      mixinEnv = new contexts.Eval(mixinEnv, [frame].concat(mixinEnv.frames));\r\n      if (args) {\r\n          args = copyArray(args);\r\n          argsLength = args.length;\r\n          for (i = 0; i < argsLength; i++) {\r\n              arg = args[i];\r\n              if (name = (arg && arg.name)) {\r\n                  isNamedFound = false;\r\n                  for (j = 0; j < params.length; j++) {\r\n                      if (!evaldArguments[j] && name === params[j].name) {\r\n                          evaldArguments[j] = arg.value.eval(context);\r\n                          frame.prependRule(new Declaration(name, arg.value.eval(context)));\r\n                          isNamedFound = true;\r\n                          break;\r\n                      }\r\n                  }\r\n                  if (isNamedFound) {\r\n                      args.splice(i, 1);\r\n                      i--;\r\n                      continue;\r\n                  }\r\n                  else {\r\n                      throw { type: 'Runtime', message: \"Named argument for \" + this.name + \" \" + args[i].name + \" not found\" };\r\n                  }\r\n              }\r\n          }\r\n      }\r\n      argIndex = 0;\r\n      for (i = 0; i < params.length; i++) {\r\n          if (evaldArguments[i]) {\r\n              continue;\r\n          }\r\n          arg = args && args[argIndex];\r\n          if (name = params[i].name) {\r\n              if (params[i].variadic) {\r\n                  varargs = [];\r\n                  for (j = argIndex; j < argsLength; j++) {\r\n                      varargs.push(args[j].value.eval(context));\r\n                  }\r\n                  frame.prependRule(new Declaration(name, new Expression(varargs).eval(context)));\r\n              }\r\n              else {\r\n                  val = arg && arg.value;\r\n                  if (val) {\r\n                      // This was a mixin call, pass in a detached ruleset of it's eval'd rules\r\n                      if (Array.isArray(val)) {\r\n                          val = new DetachedRuleset(new Ruleset('', val));\r\n                      }\r\n                      else {\r\n                          val = val.eval(context);\r\n                      }\r\n                  }\r\n                  else if (params[i].value) {\r\n                      val = params[i].value.eval(mixinEnv);\r\n                      frame.resetCache();\r\n                  }\r\n                  else {\r\n                      throw { type: 'Runtime', message: \"wrong number of arguments for \" + this.name + \" (\" + argsLength + \" for \" + this.arity + \")\" };\r\n                  }\r\n                  frame.prependRule(new Declaration(name, val));\r\n                  evaldArguments[i] = val;\r\n              }\r\n          }\r\n          if (params[i].variadic && args) {\r\n              for (j = argIndex; j < argsLength; j++) {\r\n                  evaldArguments[j] = args[j].value.eval(context);\r\n              }\r\n          }\r\n          argIndex++;\r\n      }\r\n      return frame;\r\n  };\r\n  Definition.prototype.makeImportant = function () {\r\n      var rules = !this.rules ? this.rules : this.rules.map(function (r) {\r\n          if (r.makeImportant) {\r\n              return r.makeImportant(true);\r\n          }\r\n          else {\r\n              return r;\r\n          }\r\n      });\r\n      var result = new Definition(this.name, this.params, rules, this.condition, this.variadic, this.frames);\r\n      return result;\r\n  };\r\n  Definition.prototype.eval = function (context) {\r\n      return new Definition(this.name, this.params, this.rules, this.condition, this.variadic, this.frames || copyArray(context.frames));\r\n  };\r\n  Definition.prototype.evalCall = function (context, args, important) {\r\n      var _arguments = [];\r\n      var mixinFrames = this.frames ? this.frames.concat(context.frames) : context.frames;\r\n      var frame = this.evalParams(context, new contexts.Eval(context, mixinFrames), args, _arguments);\r\n      var rules;\r\n      var ruleset;\r\n      frame.prependRule(new Declaration('@arguments', new Expression(_arguments).eval(context)));\r\n      rules = copyArray(this.rules);\r\n      ruleset = new Ruleset(null, rules);\r\n      ruleset.originalRuleset = this;\r\n      ruleset = ruleset.eval(new contexts.Eval(context, [this, frame].concat(mixinFrames)));\r\n      if (important) {\r\n          ruleset = ruleset.makeImportant();\r\n      }\r\n      return ruleset;\r\n  };\r\n  Definition.prototype.matchCondition = function (args, context) {\r\n      if (this.condition && !this.condition.eval(new contexts.Eval(context, [this.evalParams(context, /* the parameter variables */ new contexts.Eval(context, this.frames ? this.frames.concat(context.frames) : context.frames), args, [])]\r\n          .concat(this.frames || []) // the parent namespace/mixin frames\r\n          .concat(context.frames)))) { // the current environment frames\r\n          return false;\r\n      }\r\n      return true;\r\n  };\r\n  Definition.prototype.matchArgs = function (args, context) {\r\n      var allArgsCnt = (args && args.length) || 0;\r\n      var len;\r\n      var optionalParameters = this.optionalParameters;\r\n      var requiredArgsCnt = !args ? 0 : args.reduce(function (count, p) {\r\n          if (optionalParameters.indexOf(p.name) < 0) {\r\n              return count + 1;\r\n          }\r\n          else {\r\n              return count;\r\n          }\r\n      }, 0);\r\n      if (!this.variadic) {\r\n          if (requiredArgsCnt < this.required) {\r\n              return false;\r\n          }\r\n          if (allArgsCnt > this.params.length) {\r\n              return false;\r\n          }\r\n      }\r\n      else {\r\n          if (requiredArgsCnt < (this.required - 1)) {\r\n              return false;\r\n          }\r\n      }\r\n      // check patterns\r\n      len = Math.min(requiredArgsCnt, this.arity);\r\n      for (var i = 0; i < len; i++) {\r\n          if (!this.params[i].name && !this.params[i].variadic) {\r\n              if (args[i].value.eval(context).toCSS() != this.params[i].value.eval(context).toCSS()) {\r\n                  return false;\r\n              }\r\n          }\r\n      }\r\n      return true;\r\n  };\r\n  Definition.prototype.type = 'MixinDefinition';\r\n  Definition.prototype.evalFirst = true;\n\n  var MixinCall = function (elements, args, index, currentFileInfo, important) {\r\n      this.selector = new Selector(elements);\r\n      this.arguments = args || [];\r\n      this._index = index;\r\n      this._fileInfo = currentFileInfo;\r\n      this.important = important;\r\n      this.allowRoot = true;\r\n      this.setParent(this.selector, this);\r\n  };\r\n  MixinCall.prototype = new Node();\r\n  MixinCall.prototype.accept = function (visitor) {\r\n      if (this.selector) {\r\n          this.selector = visitor.visit(this.selector);\r\n      }\r\n      if (this.arguments.length) {\r\n          this.arguments = visitor.visitArray(this.arguments);\r\n      }\r\n  };\r\n  MixinCall.prototype.eval = function (context) {\r\n      var mixins;\r\n      var mixin;\r\n      var mixinPath;\r\n      var args = [];\r\n      var arg;\r\n      var argValue;\r\n      var rules = [];\r\n      var match = false;\r\n      var i;\r\n      var m;\r\n      var f;\r\n      var isRecursive;\r\n      var isOneFound;\r\n      var candidates = [];\r\n      var candidate;\r\n      var conditionResult = [];\r\n      var defaultResult;\r\n      var defFalseEitherCase = -1;\r\n      var defNone = 0;\r\n      var defTrue = 1;\r\n      var defFalse = 2;\r\n      var count;\r\n      var originalRuleset;\r\n      var noArgumentsFilter;\r\n      this.selector = this.selector.eval(context);\r\n      function calcDefGroup(mixin, mixinPath) {\r\n          var f;\r\n          var p;\r\n          var namespace;\r\n          for (f = 0; f < 2; f++) {\r\n              conditionResult[f] = true;\r\n              defaultFunc.value(f);\r\n              for (p = 0; p < mixinPath.length && conditionResult[f]; p++) {\r\n                  namespace = mixinPath[p];\r\n                  if (namespace.matchCondition) {\r\n                      conditionResult[f] = conditionResult[f] && namespace.matchCondition(null, context);\r\n                  }\r\n              }\r\n              if (mixin.matchCondition) {\r\n                  conditionResult[f] = conditionResult[f] && mixin.matchCondition(args, context);\r\n              }\r\n          }\r\n          if (conditionResult[0] || conditionResult[1]) {\r\n              if (conditionResult[0] != conditionResult[1]) {\r\n                  return conditionResult[1] ?\r\n                      defTrue : defFalse;\r\n              }\r\n              return defNone;\r\n          }\r\n          return defFalseEitherCase;\r\n      }\r\n      for (i = 0; i < this.arguments.length; i++) {\r\n          arg = this.arguments[i];\r\n          argValue = arg.value.eval(context);\r\n          if (arg.expand && Array.isArray(argValue.value)) {\r\n              argValue = argValue.value;\r\n              for (m = 0; m < argValue.length; m++) {\r\n                  args.push({ value: argValue[m] });\r\n              }\r\n          }\r\n          else {\r\n              args.push({ name: arg.name, value: argValue });\r\n          }\r\n      }\r\n      noArgumentsFilter = function (rule) { return rule.matchArgs(null, context); };\r\n      for (i = 0; i < context.frames.length; i++) {\r\n          if ((mixins = context.frames[i].find(this.selector, null, noArgumentsFilter)).length > 0) {\r\n              isOneFound = true;\r\n              // To make `default()` function independent of definition order we have two \"subpasses\" here.\r\n              // At first we evaluate each guard *twice* (with `default() == true` and `default() == false`),\r\n              // and build candidate list with corresponding flags. Then, when we know all possible matches,\r\n              // we make a final decision.\r\n              for (m = 0; m < mixins.length; m++) {\r\n                  mixin = mixins[m].rule;\r\n                  mixinPath = mixins[m].path;\r\n                  isRecursive = false;\r\n                  for (f = 0; f < context.frames.length; f++) {\r\n                      if ((!(mixin instanceof Definition)) && mixin === (context.frames[f].originalRuleset || context.frames[f])) {\r\n                          isRecursive = true;\r\n                          break;\r\n                      }\r\n                  }\r\n                  if (isRecursive) {\r\n                      continue;\r\n                  }\r\n                  if (mixin.matchArgs(args, context)) {\r\n                      candidate = { mixin: mixin, group: calcDefGroup(mixin, mixinPath) };\r\n                      if (candidate.group !== defFalseEitherCase) {\r\n                          candidates.push(candidate);\r\n                      }\r\n                      match = true;\r\n                  }\r\n              }\r\n              defaultFunc.reset();\r\n              count = [0, 0, 0];\r\n              for (m = 0; m < candidates.length; m++) {\r\n                  count[candidates[m].group]++;\r\n              }\r\n              if (count[defNone] > 0) {\r\n                  defaultResult = defFalse;\r\n              }\r\n              else {\r\n                  defaultResult = defTrue;\r\n                  if ((count[defTrue] + count[defFalse]) > 1) {\r\n                      throw { type: 'Runtime', message: \"Ambiguous use of `default()` found when matching for `\" + this.format(args) + \"`\", index: this.getIndex(), filename: this.fileInfo().filename };\r\n                  }\r\n              }\r\n              for (m = 0; m < candidates.length; m++) {\r\n                  candidate = candidates[m].group;\r\n                  if ((candidate === defNone) || (candidate === defaultResult)) {\r\n                      try {\r\n                          mixin = candidates[m].mixin;\r\n                          if (!(mixin instanceof Definition)) {\r\n                              originalRuleset = mixin.originalRuleset || mixin;\r\n                              mixin = new Definition('', [], mixin.rules, null, false, null, originalRuleset.visibilityInfo());\r\n                              mixin.originalRuleset = originalRuleset;\r\n                          }\r\n                          var newRules = mixin.evalCall(context, args, this.important).rules;\r\n                          this._setVisibilityToReplacement(newRules);\r\n                          Array.prototype.push.apply(rules, newRules);\r\n                      }\r\n                      catch (e) {\r\n                          throw { message: e.message, index: this.getIndex(), filename: this.fileInfo().filename, stack: e.stack };\r\n                      }\r\n                  }\r\n              }\r\n              if (match) {\r\n                  return rules;\r\n              }\r\n          }\r\n      }\r\n      if (isOneFound) {\r\n          throw { type: 'Runtime', message: \"No matching definition was found for `\" + this.format(args) + \"`\", index: this.getIndex(), filename: this.fileInfo().filename };\r\n      }\r\n      else {\r\n          throw { type: 'Name', message: this.selector.toCSS().trim() + \" is undefined\", index: this.getIndex(), filename: this.fileInfo().filename };\r\n      }\r\n  };\r\n  MixinCall.prototype._setVisibilityToReplacement = function (replacement) {\r\n      var i;\r\n      var rule;\r\n      if (this.blocksVisibility()) {\r\n          for (i = 0; i < replacement.length; i++) {\r\n              rule = replacement[i];\r\n              rule.addVisibilityBlock();\r\n          }\r\n      }\r\n  };\r\n  MixinCall.prototype.format = function (args) {\r\n      return this.selector.toCSS().trim() + \"(\" + (args ? args.map(function (a) {\r\n          var argValue = '';\r\n          if (a.name) {\r\n              argValue += a.name + \":\";\r\n          }\r\n          if (a.value.toCSS) {\r\n              argValue += a.value.toCSS();\r\n          }\r\n          else {\r\n              argValue += '???';\r\n          }\r\n          return argValue;\r\n      }).join(', ') : '') + \")\";\r\n  };\r\n  MixinCall.prototype.type = 'MixinCall';\n\n  var tree = {\r\n      Node: Node, Color: Color, AtRule: AtRule, DetachedRuleset: DetachedRuleset, Operation: Operation,\r\n      Dimension: Dimension, Unit: Unit, Keyword: Keyword, Variable: Variable, Property: Property,\r\n      Ruleset: Ruleset, Element: Element, Attribute: Attribute, Combinator: Combinator, Selector: Selector,\r\n      Quoted: Quoted, Expression: Expression, Declaration: Declaration, Call: Call, URL: URL, Import: Import,\r\n      Comment: Comment, Anonymous: Anonymous, Value: Value, JavaScript: JavaScript, Assignment: Assignment,\r\n      Condition: Condition, Paren: Paren, Media: Media, UnicodeDescriptor: UnicodeDescriptor, Negative: Negative,\r\n      Extend: Extend, VariableCall: VariableCall, NamespaceValue: NamespaceValue,\r\n      mixin: {\r\n          Call: MixinCall,\r\n          Definition: Definition\r\n      }\r\n  };\n\n  var logger = {\r\n      error: function (msg) {\r\n          this._fireEvent('error', msg);\r\n      },\r\n      warn: function (msg) {\r\n          this._fireEvent('warn', msg);\r\n      },\r\n      info: function (msg) {\r\n          this._fireEvent('info', msg);\r\n      },\r\n      debug: function (msg) {\r\n          this._fireEvent('debug', msg);\r\n      },\r\n      addListener: function (listener) {\r\n          this._listeners.push(listener);\r\n      },\r\n      removeListener: function (listener) {\r\n          for (var i = 0; i < this._listeners.length; i++) {\r\n              if (this._listeners[i] === listener) {\r\n                  this._listeners.splice(i, 1);\r\n                  return;\r\n              }\r\n          }\r\n      },\r\n      _fireEvent: function (type, msg) {\r\n          for (var i = 0; i < this._listeners.length; i++) {\r\n              var logFunction = this._listeners[i][type];\r\n              if (logFunction) {\r\n                  logFunction(msg);\r\n              }\r\n          }\r\n      },\r\n      _listeners: []\r\n  };\n\n  /**\r\n   * @todo Document why this abstraction exists, and the relationship between\r\n   *       environment, file managers, and plugin manager\r\n   */\r\n  var environment = /** @class */ (function () {\r\n      function environment(externalEnvironment, fileManagers) {\r\n          this.fileManagers = fileManagers || [];\r\n          externalEnvironment = externalEnvironment || {};\r\n          var optionalFunctions = ['encodeBase64', 'mimeLookup', 'charsetLookup', 'getSourceMapGenerator'];\r\n          var requiredFunctions = [];\r\n          var functions = requiredFunctions.concat(optionalFunctions);\r\n          for (var i = 0; i < functions.length; i++) {\r\n              var propName = functions[i];\r\n              var environmentFunc = externalEnvironment[propName];\r\n              if (environmentFunc) {\r\n                  this[propName] = environmentFunc.bind(externalEnvironment);\r\n              }\r\n              else if (i < requiredFunctions.length) {\r\n                  this.warn(\"missing required function in environment - \" + propName);\r\n              }\r\n          }\r\n      }\r\n      environment.prototype.getFileManager = function (filename, currentDirectory, options, environment, isSync) {\r\n          if (!filename) {\r\n              logger.warn('getFileManager called with no filename.. Please report this issue. continuing.');\r\n          }\r\n          if (currentDirectory == null) {\r\n              logger.warn('getFileManager called with null directory.. Please report this issue. continuing.');\r\n          }\r\n          var fileManagers = this.fileManagers;\r\n          if (options.pluginManager) {\r\n              fileManagers = [].concat(fileManagers).concat(options.pluginManager.getFileManagers());\r\n          }\r\n          for (var i = fileManagers.length - 1; i >= 0; i--) {\r\n              var fileManager = fileManagers[i];\r\n              if (fileManager[isSync ? 'supportsSync' : 'supports'](filename, currentDirectory, options, environment)) {\r\n                  return fileManager;\r\n              }\r\n          }\r\n          return null;\r\n      };\r\n      environment.prototype.addFileManager = function (fileManager) {\r\n          this.fileManagers.push(fileManager);\r\n      };\r\n      environment.prototype.clearFileManagers = function () {\r\n          this.fileManagers = [];\r\n      };\r\n      return environment;\r\n  }());\n\n  var AbstractFileManager = /** @class */ (function () {\r\n      function AbstractFileManager() {\r\n      }\r\n      AbstractFileManager.prototype.getPath = function (filename) {\r\n          var j = filename.lastIndexOf('?');\r\n          if (j > 0) {\r\n              filename = filename.slice(0, j);\r\n          }\r\n          j = filename.lastIndexOf('/');\r\n          if (j < 0) {\r\n              j = filename.lastIndexOf('\\\\');\r\n          }\r\n          if (j < 0) {\r\n              return '';\r\n          }\r\n          return filename.slice(0, j + 1);\r\n      };\r\n      AbstractFileManager.prototype.tryAppendExtension = function (path, ext) {\r\n          return /(\\.[a-z]*$)|([\\?;].*)$/.test(path) ? path : path + ext;\r\n      };\r\n      AbstractFileManager.prototype.tryAppendLessExtension = function (path) {\r\n          return this.tryAppendExtension(path, '.less');\r\n      };\r\n      AbstractFileManager.prototype.supportsSync = function () { return false; };\r\n      AbstractFileManager.prototype.alwaysMakePathsAbsolute = function () { return false; };\r\n      AbstractFileManager.prototype.isPathAbsolute = function (filename) {\r\n          return (/^(?:[a-z-]+:|\\/|\\\\|#)/i).test(filename);\r\n      };\r\n      // TODO: pull out / replace?\r\n      AbstractFileManager.prototype.join = function (basePath, laterPath) {\r\n          if (!basePath) {\r\n              return laterPath;\r\n          }\r\n          return basePath + laterPath;\r\n      };\r\n      AbstractFileManager.prototype.pathDiff = function (url, baseUrl) {\r\n          // diff between two paths to create a relative path\r\n          var urlParts = this.extractUrlParts(url);\r\n          var baseUrlParts = this.extractUrlParts(baseUrl);\r\n          var i;\r\n          var max;\r\n          var urlDirectories;\r\n          var baseUrlDirectories;\r\n          var diff = '';\r\n          if (urlParts.hostPart !== baseUrlParts.hostPart) {\r\n              return '';\r\n          }\r\n          max = Math.max(baseUrlParts.directories.length, urlParts.directories.length);\r\n          for (i = 0; i < max; i++) {\r\n              if (baseUrlParts.directories[i] !== urlParts.directories[i]) {\r\n                  break;\r\n              }\r\n          }\r\n          baseUrlDirectories = baseUrlParts.directories.slice(i);\r\n          urlDirectories = urlParts.directories.slice(i);\r\n          for (i = 0; i < baseUrlDirectories.length - 1; i++) {\r\n              diff += '../';\r\n          }\r\n          for (i = 0; i < urlDirectories.length - 1; i++) {\r\n              diff += urlDirectories[i] + \"/\";\r\n          }\r\n          return diff;\r\n      };\r\n      // helper function, not part of API\r\n      AbstractFileManager.prototype.extractUrlParts = function (url, baseUrl) {\r\n          // urlParts[1] = protocol://hostname/ OR /\r\n          // urlParts[2] = / if path relative to host base\r\n          // urlParts[3] = directories\r\n          // urlParts[4] = filename\r\n          // urlParts[5] = parameters\r\n          var urlPartsRegex = /^((?:[a-z-]+:)?\\/{2}(?:[^\\/\\?#]*\\/)|([\\/\\\\]))?((?:[^\\/\\\\\\?#]*[\\/\\\\])*)([^\\/\\\\\\?#]*)([#\\?].*)?$/i;\r\n          var urlParts = url.match(urlPartsRegex);\r\n          var returner = {};\r\n          var rawDirectories = [];\r\n          var directories = [];\r\n          var i;\r\n          var baseUrlParts;\r\n          if (!urlParts) {\r\n              throw new Error(\"Could not parse sheet href - '\" + url + \"'\");\r\n          }\r\n          // Stylesheets in IE don't always return the full path\r\n          if (baseUrl && (!urlParts[1] || urlParts[2])) {\r\n              baseUrlParts = baseUrl.match(urlPartsRegex);\r\n              if (!baseUrlParts) {\r\n                  throw new Error(\"Could not parse page url - '\" + baseUrl + \"'\");\r\n              }\r\n              urlParts[1] = urlParts[1] || baseUrlParts[1] || '';\r\n              if (!urlParts[2]) {\r\n                  urlParts[3] = baseUrlParts[3] + urlParts[3];\r\n              }\r\n          }\r\n          if (urlParts[3]) {\r\n              rawDirectories = urlParts[3].replace(/\\\\/g, '/').split('/');\r\n              // collapse '..' and skip '.'\r\n              for (i = 0; i < rawDirectories.length; i++) {\r\n                  if (rawDirectories[i] === '..') {\r\n                      directories.pop();\r\n                  }\r\n                  else if (rawDirectories[i] !== '.') {\r\n                      directories.push(rawDirectories[i]);\r\n                  }\r\n              }\r\n          }\r\n          returner.hostPart = urlParts[1];\r\n          returner.directories = directories;\r\n          returner.rawPath = (urlParts[1] || '') + rawDirectories.join('/');\r\n          returner.path = (urlParts[1] || '') + directories.join('/');\r\n          returner.filename = urlParts[4];\r\n          returner.fileUrl = returner.path + (urlParts[4] || '');\r\n          returner.url = returner.fileUrl + (urlParts[5] || '');\r\n          return returner;\r\n      };\r\n      return AbstractFileManager;\r\n  }());\n\n  var AbstractPluginLoader = /** @class */ (function () {\r\n      function AbstractPluginLoader() {\r\n          // Implemented by Node.js plugin loader\r\n          this.require = function () { return null; };\r\n      }\r\n      AbstractPluginLoader.prototype.evalPlugin = function (contents, context, imports, pluginOptions, fileInfo) {\r\n          var loader;\r\n          var registry;\r\n          var pluginObj;\r\n          var localModule;\r\n          var pluginManager;\r\n          var filename;\r\n          var result;\r\n          pluginManager = context.pluginManager;\r\n          if (fileInfo) {\r\n              if (typeof fileInfo === 'string') {\r\n                  filename = fileInfo;\r\n              }\r\n              else {\r\n                  filename = fileInfo.filename;\r\n              }\r\n          }\r\n          var shortname = (new this.less.FileManager()).extractUrlParts(filename).filename;\r\n          if (filename) {\r\n              pluginObj = pluginManager.get(filename);\r\n              if (pluginObj) {\r\n                  result = this.trySetOptions(pluginObj, filename, shortname, pluginOptions);\r\n                  if (result) {\r\n                      return result;\r\n                  }\r\n                  try {\r\n                      if (pluginObj.use) {\r\n                          pluginObj.use.call(this.context, pluginObj);\r\n                      }\r\n                  }\r\n                  catch (e) {\r\n                      e.message = e.message || 'Error during @plugin call';\r\n                      return new LessError(e, imports, filename);\r\n                  }\r\n                  return pluginObj;\r\n              }\r\n          }\r\n          localModule = {\r\n              exports: {},\r\n              pluginManager: pluginManager,\r\n              fileInfo: fileInfo\r\n          };\r\n          registry = functionRegistry.create();\r\n          var registerPlugin = function (obj) {\r\n              pluginObj = obj;\r\n          };\r\n          try {\r\n              loader = new Function('module', 'require', 'registerPlugin', 'functions', 'tree', 'less', 'fileInfo', contents);\r\n              loader(localModule, this.require(filename), registerPlugin, registry, this.less.tree, this.less, fileInfo);\r\n          }\r\n          catch (e) {\r\n              return new LessError(e, imports, filename);\r\n          }\r\n          if (!pluginObj) {\r\n              pluginObj = localModule.exports;\r\n          }\r\n          pluginObj = this.validatePlugin(pluginObj, filename, shortname);\r\n          if (pluginObj instanceof LessError) {\r\n              return pluginObj;\r\n          }\r\n          if (pluginObj) {\r\n              pluginObj.imports = imports;\r\n              pluginObj.filename = filename;\r\n              // For < 3.x (or unspecified minVersion) - setOptions() before install()\r\n              if (!pluginObj.minVersion || this.compareVersion('3.0.0', pluginObj.minVersion) < 0) {\r\n                  result = this.trySetOptions(pluginObj, filename, shortname, pluginOptions);\r\n                  if (result) {\r\n                      return result;\r\n                  }\r\n              }\r\n              // Run on first load\r\n              pluginManager.addPlugin(pluginObj, fileInfo.filename, registry);\r\n              pluginObj.functions = registry.getLocalFunctions();\r\n              // Need to call setOptions again because the pluginObj might have functions\r\n              result = this.trySetOptions(pluginObj, filename, shortname, pluginOptions);\r\n              if (result) {\r\n                  return result;\r\n              }\r\n              // Run every @plugin call\r\n              try {\r\n                  if (pluginObj.use) {\r\n                      pluginObj.use.call(this.context, pluginObj);\r\n                  }\r\n              }\r\n              catch (e) {\r\n                  e.message = e.message || 'Error during @plugin call';\r\n                  return new LessError(e, imports, filename);\r\n              }\r\n          }\r\n          else {\r\n              return new LessError({ message: 'Not a valid plugin' }, imports, filename);\r\n          }\r\n          return pluginObj;\r\n      };\r\n      AbstractPluginLoader.prototype.trySetOptions = function (plugin, filename, name, options) {\r\n          if (options && !plugin.setOptions) {\r\n              return new LessError({\r\n                  message: \"Options have been provided but the plugin \" + name + \" does not support any options.\"\r\n              });\r\n          }\r\n          try {\r\n              plugin.setOptions && plugin.setOptions(options);\r\n          }\r\n          catch (e) {\r\n              return new LessError(e);\r\n          }\r\n      };\r\n      AbstractPluginLoader.prototype.validatePlugin = function (plugin, filename, name) {\r\n          if (plugin) {\r\n              // support plugins being a function\r\n              // so that the plugin can be more usable programmatically\r\n              if (typeof plugin === 'function') {\r\n                  plugin = new plugin();\r\n              }\r\n              if (plugin.minVersion) {\r\n                  if (this.compareVersion(plugin.minVersion, this.less.version) < 0) {\r\n                      return new LessError({\r\n                          message: \"Plugin \" + name + \" requires version \" + this.versionToString(plugin.minVersion)\r\n                      });\r\n                  }\r\n              }\r\n              return plugin;\r\n          }\r\n          return null;\r\n      };\r\n      AbstractPluginLoader.prototype.compareVersion = function (aVersion, bVersion) {\r\n          if (typeof aVersion === 'string') {\r\n              aVersion = aVersion.match(/^(\\d+)\\.?(\\d+)?\\.?(\\d+)?/);\r\n              aVersion.shift();\r\n          }\r\n          for (var i = 0; i < aVersion.length; i++) {\r\n              if (aVersion[i] !== bVersion[i]) {\r\n                  return parseInt(aVersion[i]) > parseInt(bVersion[i]) ? -1 : 1;\r\n              }\r\n          }\r\n          return 0;\r\n      };\r\n      AbstractPluginLoader.prototype.versionToString = function (version) {\r\n          var versionString = '';\r\n          for (var i = 0; i < version.length; i++) {\r\n              versionString += (versionString ? '.' : '') + version[i];\r\n          }\r\n          return versionString;\r\n      };\r\n      AbstractPluginLoader.prototype.printUsage = function (plugins) {\r\n          for (var i = 0; i < plugins.length; i++) {\r\n              var plugin = plugins[i];\r\n              if (plugin.printUsage) {\r\n                  plugin.printUsage();\r\n              }\r\n          }\r\n      };\r\n      return AbstractPluginLoader;\r\n  }());\n\n  var _visitArgs = { visitDeeper: true };\r\n  var _hasIndexed = false;\r\n  function _noop(node) {\r\n      return node;\r\n  }\r\n  function indexNodeTypes(parent, ticker) {\r\n      // add .typeIndex to tree node types for lookup table\r\n      var key;\r\n      var child;\r\n      for (key in parent) {\r\n          /* eslint guard-for-in: 0 */\r\n          child = parent[key];\r\n          switch (typeof child) {\r\n              case 'function':\r\n                  // ignore bound functions directly on tree which do not have a prototype\r\n                  // or aren't nodes\r\n                  if (child.prototype && child.prototype.type) {\r\n                      child.prototype.typeIndex = ticker++;\r\n                  }\r\n                  break;\r\n              case 'object':\r\n                  ticker = indexNodeTypes(child, ticker);\r\n                  break;\r\n          }\r\n      }\r\n      return ticker;\r\n  }\r\n  var Visitor = /** @class */ (function () {\r\n      function Visitor(implementation) {\r\n          this._implementation = implementation;\r\n          this._visitInCache = {};\r\n          this._visitOutCache = {};\r\n          if (!_hasIndexed) {\r\n              indexNodeTypes(tree, 1);\r\n              _hasIndexed = true;\r\n          }\r\n      }\r\n      Visitor.prototype.visit = function (node) {\r\n          if (!node) {\r\n              return node;\r\n          }\r\n          var nodeTypeIndex = node.typeIndex;\r\n          if (!nodeTypeIndex) {\r\n              // MixinCall args aren't a node type?\r\n              if (node.value && node.value.typeIndex) {\r\n                  this.visit(node.value);\r\n              }\r\n              return node;\r\n          }\r\n          var impl = this._implementation;\r\n          var func = this._visitInCache[nodeTypeIndex];\r\n          var funcOut = this._visitOutCache[nodeTypeIndex];\r\n          var visitArgs = _visitArgs;\r\n          var fnName;\r\n          visitArgs.visitDeeper = true;\r\n          if (!func) {\r\n              fnName = \"visit\" + node.type;\r\n              func = impl[fnName] || _noop;\r\n              funcOut = impl[fnName + \"Out\"] || _noop;\r\n              this._visitInCache[nodeTypeIndex] = func;\r\n              this._visitOutCache[nodeTypeIndex] = funcOut;\r\n          }\r\n          if (func !== _noop) {\r\n              var newNode = func.call(impl, node, visitArgs);\r\n              if (node && impl.isReplacing) {\r\n                  node = newNode;\r\n              }\r\n          }\r\n          if (visitArgs.visitDeeper && node) {\r\n              if (node.length) {\r\n                  for (var i = 0, cnt = node.length; i < cnt; i++) {\r\n                      if (node[i].accept) {\r\n                          node[i].accept(this);\r\n                      }\r\n                  }\r\n              }\r\n              else if (node.accept) {\r\n                  node.accept(this);\r\n              }\r\n          }\r\n          if (funcOut != _noop) {\r\n              funcOut.call(impl, node);\r\n          }\r\n          return node;\r\n      };\r\n      Visitor.prototype.visitArray = function (nodes, nonReplacing) {\r\n          if (!nodes) {\r\n              return nodes;\r\n          }\r\n          var cnt = nodes.length;\r\n          var i;\r\n          // Non-replacing\r\n          if (nonReplacing || !this._implementation.isReplacing) {\r\n              for (i = 0; i < cnt; i++) {\r\n                  this.visit(nodes[i]);\r\n              }\r\n              return nodes;\r\n          }\r\n          // Replacing\r\n          var out = [];\r\n          for (i = 0; i < cnt; i++) {\r\n              var evald = this.visit(nodes[i]);\r\n              if (evald === undefined) {\r\n                  continue;\r\n              }\r\n              if (!evald.splice) {\r\n                  out.push(evald);\r\n              }\r\n              else if (evald.length) {\r\n                  this.flatten(evald, out);\r\n              }\r\n          }\r\n          return out;\r\n      };\r\n      Visitor.prototype.flatten = function (arr, out) {\r\n          if (!out) {\r\n              out = [];\r\n          }\r\n          var cnt;\r\n          var i;\r\n          var item;\r\n          var nestedCnt;\r\n          var j;\r\n          var nestedItem;\r\n          for (i = 0, cnt = arr.length; i < cnt; i++) {\r\n              item = arr[i];\r\n              if (item === undefined) {\r\n                  continue;\r\n              }\r\n              if (!item.splice) {\r\n                  out.push(item);\r\n                  continue;\r\n              }\r\n              for (j = 0, nestedCnt = item.length; j < nestedCnt; j++) {\r\n                  nestedItem = item[j];\r\n                  if (nestedItem === undefined) {\r\n                      continue;\r\n                  }\r\n                  if (!nestedItem.splice) {\r\n                      out.push(nestedItem);\r\n                  }\r\n                  else if (nestedItem.length) {\r\n                      this.flatten(nestedItem, out);\r\n                  }\r\n              }\r\n          }\r\n          return out;\r\n      };\r\n      return Visitor;\r\n  }());\n\n  var ImportSequencer = /** @class */ (function () {\r\n      function ImportSequencer(onSequencerEmpty) {\r\n          this.imports = [];\r\n          this.variableImports = [];\r\n          this._onSequencerEmpty = onSequencerEmpty;\r\n          this._currentDepth = 0;\r\n      }\r\n      ImportSequencer.prototype.addImport = function (callback) {\r\n          var importSequencer = this;\r\n          var importItem = {\r\n              callback: callback,\r\n              args: null,\r\n              isReady: false\r\n          };\r\n          this.imports.push(importItem);\r\n          return function () {\r\n              var args = [];\r\n              for (var _i = 0; _i < arguments.length; _i++) {\r\n                  args[_i] = arguments[_i];\r\n              }\r\n              importItem.args = Array.prototype.slice.call(args, 0);\r\n              importItem.isReady = true;\r\n              importSequencer.tryRun();\r\n          };\r\n      };\r\n      ImportSequencer.prototype.addVariableImport = function (callback) {\r\n          this.variableImports.push(callback);\r\n      };\r\n      ImportSequencer.prototype.tryRun = function () {\r\n          this._currentDepth++;\r\n          try {\r\n              while (true) {\r\n                  while (this.imports.length > 0) {\r\n                      var importItem = this.imports[0];\r\n                      if (!importItem.isReady) {\r\n                          return;\r\n                      }\r\n                      this.imports = this.imports.slice(1);\r\n                      importItem.callback.apply(null, importItem.args);\r\n                  }\r\n                  if (this.variableImports.length === 0) {\r\n                      break;\r\n                  }\r\n                  var variableImport = this.variableImports[0];\r\n                  this.variableImports = this.variableImports.slice(1);\r\n                  variableImport();\r\n              }\r\n          }\r\n          finally {\r\n              this._currentDepth--;\r\n          }\r\n          if (this._currentDepth === 0 && this._onSequencerEmpty) {\r\n              this._onSequencerEmpty();\r\n          }\r\n      };\r\n      return ImportSequencer;\r\n  }());\n\n  var ImportVisitor = function (importer, finish) {\r\n      this._visitor = new Visitor(this);\r\n      this._importer = importer;\r\n      this._finish = finish;\r\n      this.context = new contexts.Eval();\r\n      this.importCount = 0;\r\n      this.onceFileDetectionMap = {};\r\n      this.recursionDetector = {};\r\n      this._sequencer = new ImportSequencer(this._onSequencerEmpty.bind(this));\r\n  };\r\n  ImportVisitor.prototype = {\r\n      isReplacing: false,\r\n      run: function (root) {\r\n          try {\r\n              // process the contents\r\n              this._visitor.visit(root);\r\n          }\r\n          catch (e) {\r\n              this.error = e;\r\n          }\r\n          this.isFinished = true;\r\n          this._sequencer.tryRun();\r\n      },\r\n      _onSequencerEmpty: function () {\r\n          if (!this.isFinished) {\r\n              return;\r\n          }\r\n          this._finish(this.error);\r\n      },\r\n      visitImport: function (importNode, visitArgs) {\r\n          var inlineCSS = importNode.options.inline;\r\n          if (!importNode.css || inlineCSS) {\r\n              var context = new contexts.Eval(this.context, copyArray(this.context.frames));\r\n              var importParent = context.frames[0];\r\n              this.importCount++;\r\n              if (importNode.isVariableImport()) {\r\n                  this._sequencer.addVariableImport(this.processImportNode.bind(this, importNode, context, importParent));\r\n              }\r\n              else {\r\n                  this.processImportNode(importNode, context, importParent);\r\n              }\r\n          }\r\n          visitArgs.visitDeeper = false;\r\n      },\r\n      processImportNode: function (importNode, context, importParent) {\r\n          var evaldImportNode;\r\n          var inlineCSS = importNode.options.inline;\r\n          try {\r\n              evaldImportNode = importNode.evalForImport(context);\r\n          }\r\n          catch (e) {\r\n              if (!e.filename) {\r\n                  e.index = importNode.getIndex();\r\n                  e.filename = importNode.fileInfo().filename;\r\n              }\r\n              // attempt to eval properly and treat as css\r\n              importNode.css = true;\r\n              // if that fails, this error will be thrown\r\n              importNode.error = e;\r\n          }\r\n          if (evaldImportNode && (!evaldImportNode.css || inlineCSS)) {\r\n              if (evaldImportNode.options.multiple) {\r\n                  context.importMultiple = true;\r\n              }\r\n              // try appending if we haven't determined if it is css or not\r\n              var tryAppendLessExtension = evaldImportNode.css === undefined;\r\n              for (var i = 0; i < importParent.rules.length; i++) {\r\n                  if (importParent.rules[i] === importNode) {\r\n                      importParent.rules[i] = evaldImportNode;\r\n                      break;\r\n                  }\r\n              }\r\n              var onImported = this.onImported.bind(this, evaldImportNode, context);\r\n              var sequencedOnImported = this._sequencer.addImport(onImported);\r\n              this._importer.push(evaldImportNode.getPath(), tryAppendLessExtension, evaldImportNode.fileInfo(), evaldImportNode.options, sequencedOnImported);\r\n          }\r\n          else {\r\n              this.importCount--;\r\n              if (this.isFinished) {\r\n                  this._sequencer.tryRun();\r\n              }\r\n          }\r\n      },\r\n      onImported: function (importNode, context, e, root, importedAtRoot, fullPath) {\r\n          if (e) {\r\n              if (!e.filename) {\r\n                  e.index = importNode.getIndex();\r\n                  e.filename = importNode.fileInfo().filename;\r\n              }\r\n              this.error = e;\r\n          }\r\n          var importVisitor = this;\r\n          var inlineCSS = importNode.options.inline;\r\n          var isPlugin = importNode.options.isPlugin;\r\n          var isOptional = importNode.options.optional;\r\n          var duplicateImport = importedAtRoot || fullPath in importVisitor.recursionDetector;\r\n          if (!context.importMultiple) {\r\n              if (duplicateImport) {\r\n                  importNode.skip = true;\r\n              }\r\n              else {\r\n                  importNode.skip = function () {\r\n                      if (fullPath in importVisitor.onceFileDetectionMap) {\r\n                          return true;\r\n                      }\r\n                      importVisitor.onceFileDetectionMap[fullPath] = true;\r\n                      return false;\r\n                  };\r\n              }\r\n          }\r\n          if (!fullPath && isOptional) {\r\n              importNode.skip = true;\r\n          }\r\n          if (root) {\r\n              importNode.root = root;\r\n              importNode.importedFilename = fullPath;\r\n              if (!inlineCSS && !isPlugin && (context.importMultiple || !duplicateImport)) {\r\n                  importVisitor.recursionDetector[fullPath] = true;\r\n                  var oldContext = this.context;\r\n                  this.context = context;\r\n                  try {\r\n                      this._visitor.visit(root);\r\n                  }\r\n                  catch (e) {\r\n                      this.error = e;\r\n                  }\r\n                  this.context = oldContext;\r\n              }\r\n          }\r\n          importVisitor.importCount--;\r\n          if (importVisitor.isFinished) {\r\n              importVisitor._sequencer.tryRun();\r\n          }\r\n      },\r\n      visitDeclaration: function (declNode, visitArgs) {\r\n          if (declNode.value.type === 'DetachedRuleset') {\r\n              this.context.frames.unshift(declNode);\r\n          }\r\n          else {\r\n              visitArgs.visitDeeper = false;\r\n          }\r\n      },\r\n      visitDeclarationOut: function (declNode) {\r\n          if (declNode.value.type === 'DetachedRuleset') {\r\n              this.context.frames.shift();\r\n          }\r\n      },\r\n      visitAtRule: function (atRuleNode, visitArgs) {\r\n          this.context.frames.unshift(atRuleNode);\r\n      },\r\n      visitAtRuleOut: function (atRuleNode) {\r\n          this.context.frames.shift();\r\n      },\r\n      visitMixinDefinition: function (mixinDefinitionNode, visitArgs) {\r\n          this.context.frames.unshift(mixinDefinitionNode);\r\n      },\r\n      visitMixinDefinitionOut: function (mixinDefinitionNode) {\r\n          this.context.frames.shift();\r\n      },\r\n      visitRuleset: function (rulesetNode, visitArgs) {\r\n          this.context.frames.unshift(rulesetNode);\r\n      },\r\n      visitRulesetOut: function (rulesetNode) {\r\n          this.context.frames.shift();\r\n      },\r\n      visitMedia: function (mediaNode, visitArgs) {\r\n          this.context.frames.unshift(mediaNode.rules[0]);\r\n      },\r\n      visitMediaOut: function (mediaNode) {\r\n          this.context.frames.shift();\r\n      }\r\n  };\n\n  var SetTreeVisibilityVisitor = /** @class */ (function () {\r\n      function SetTreeVisibilityVisitor(visible) {\r\n          this.visible = visible;\r\n      }\r\n      SetTreeVisibilityVisitor.prototype.run = function (root) {\r\n          this.visit(root);\r\n      };\r\n      SetTreeVisibilityVisitor.prototype.visitArray = function (nodes) {\r\n          if (!nodes) {\r\n              return nodes;\r\n          }\r\n          var cnt = nodes.length;\r\n          var i;\r\n          for (i = 0; i < cnt; i++) {\r\n              this.visit(nodes[i]);\r\n          }\r\n          return nodes;\r\n      };\r\n      SetTreeVisibilityVisitor.prototype.visit = function (node) {\r\n          if (!node) {\r\n              return node;\r\n          }\r\n          if (node.constructor === Array) {\r\n              return this.visitArray(node);\r\n          }\r\n          if (!node.blocksVisibility || node.blocksVisibility()) {\r\n              return node;\r\n          }\r\n          if (this.visible) {\r\n              node.ensureVisibility();\r\n          }\r\n          else {\r\n              node.ensureInvisibility();\r\n          }\r\n          node.accept(this);\r\n          return node;\r\n      };\r\n      return SetTreeVisibilityVisitor;\r\n  }());\n\n  /* jshint loopfunc:true */\r\n  var ExtendFinderVisitor = /** @class */ (function () {\r\n      function ExtendFinderVisitor() {\r\n          this._visitor = new Visitor(this);\r\n          this.contexts = [];\r\n          this.allExtendsStack = [[]];\r\n      }\r\n      ExtendFinderVisitor.prototype.run = function (root) {\r\n          root = this._visitor.visit(root);\r\n          root.allExtends = this.allExtendsStack[0];\r\n          return root;\r\n      };\r\n      ExtendFinderVisitor.prototype.visitDeclaration = function (declNode, visitArgs) {\r\n          visitArgs.visitDeeper = false;\r\n      };\r\n      ExtendFinderVisitor.prototype.visitMixinDefinition = function (mixinDefinitionNode, visitArgs) {\r\n          visitArgs.visitDeeper = false;\r\n      };\r\n      ExtendFinderVisitor.prototype.visitRuleset = function (rulesetNode, visitArgs) {\r\n          if (rulesetNode.root) {\r\n              return;\r\n          }\r\n          var i;\r\n          var j;\r\n          var extend;\r\n          var allSelectorsExtendList = [];\r\n          var extendList;\r\n          // get &:extend(.a); rules which apply to all selectors in this ruleset\r\n          var rules = rulesetNode.rules;\r\n          var ruleCnt = rules ? rules.length : 0;\r\n          for (i = 0; i < ruleCnt; i++) {\r\n              if (rulesetNode.rules[i] instanceof tree.Extend) {\r\n                  allSelectorsExtendList.push(rules[i]);\r\n                  rulesetNode.extendOnEveryPath = true;\r\n              }\r\n          }\r\n          // now find every selector and apply the extends that apply to all extends\r\n          // and the ones which apply to an individual extend\r\n          var paths = rulesetNode.paths;\r\n          for (i = 0; i < paths.length; i++) {\r\n              var selectorPath = paths[i];\r\n              var selector = selectorPath[selectorPath.length - 1];\r\n              var selExtendList = selector.extendList;\r\n              extendList = selExtendList ? copyArray(selExtendList).concat(allSelectorsExtendList)\r\n                  : allSelectorsExtendList;\r\n              if (extendList) {\r\n                  extendList = extendList.map(function (allSelectorsExtend) { return allSelectorsExtend.clone(); });\r\n              }\r\n              for (j = 0; j < extendList.length; j++) {\r\n                  this.foundExtends = true;\r\n                  extend = extendList[j];\r\n                  extend.findSelfSelectors(selectorPath);\r\n                  extend.ruleset = rulesetNode;\r\n                  if (j === 0) {\r\n                      extend.firstExtendOnThisSelectorPath = true;\r\n                  }\r\n                  this.allExtendsStack[this.allExtendsStack.length - 1].push(extend);\r\n              }\r\n          }\r\n          this.contexts.push(rulesetNode.selectors);\r\n      };\r\n      ExtendFinderVisitor.prototype.visitRulesetOut = function (rulesetNode) {\r\n          if (!rulesetNode.root) {\r\n              this.contexts.length = this.contexts.length - 1;\r\n          }\r\n      };\r\n      ExtendFinderVisitor.prototype.visitMedia = function (mediaNode, visitArgs) {\r\n          mediaNode.allExtends = [];\r\n          this.allExtendsStack.push(mediaNode.allExtends);\r\n      };\r\n      ExtendFinderVisitor.prototype.visitMediaOut = function (mediaNode) {\r\n          this.allExtendsStack.length = this.allExtendsStack.length - 1;\r\n      };\r\n      ExtendFinderVisitor.prototype.visitAtRule = function (atRuleNode, visitArgs) {\r\n          atRuleNode.allExtends = [];\r\n          this.allExtendsStack.push(atRuleNode.allExtends);\r\n      };\r\n      ExtendFinderVisitor.prototype.visitAtRuleOut = function (atRuleNode) {\r\n          this.allExtendsStack.length = this.allExtendsStack.length - 1;\r\n      };\r\n      return ExtendFinderVisitor;\r\n  }());\r\n  var ProcessExtendsVisitor = /** @class */ (function () {\r\n      function ProcessExtendsVisitor() {\r\n          this._visitor = new Visitor(this);\r\n      }\r\n      ProcessExtendsVisitor.prototype.run = function (root) {\r\n          var extendFinder = new ExtendFinderVisitor();\r\n          this.extendIndices = {};\r\n          extendFinder.run(root);\r\n          if (!extendFinder.foundExtends) {\r\n              return root;\r\n          }\r\n          root.allExtends = root.allExtends.concat(this.doExtendChaining(root.allExtends, root.allExtends));\r\n          this.allExtendsStack = [root.allExtends];\r\n          var newRoot = this._visitor.visit(root);\r\n          this.checkExtendsForNonMatched(root.allExtends);\r\n          return newRoot;\r\n      };\r\n      ProcessExtendsVisitor.prototype.checkExtendsForNonMatched = function (extendList) {\r\n          var indices = this.extendIndices;\r\n          extendList.filter(function (extend) { return !extend.hasFoundMatches && extend.parent_ids.length == 1; }).forEach(function (extend) {\r\n              var selector = '_unknown_';\r\n              try {\r\n                  selector = extend.selector.toCSS({});\r\n              }\r\n              catch (_) { }\r\n              if (!indices[extend.index + \" \" + selector]) {\r\n                  indices[extend.index + \" \" + selector] = true;\r\n                  logger.warn(\"extend '\" + selector + \"' has no matches\");\r\n              }\r\n          });\r\n      };\r\n      ProcessExtendsVisitor.prototype.doExtendChaining = function (extendsList, extendsListTarget, iterationCount) {\r\n          //\r\n          // chaining is different from normal extension.. if we extend an extend then we are not just copying, altering\r\n          // and pasting the selector we would do normally, but we are also adding an extend with the same target selector\r\n          // this means this new extend can then go and alter other extends\r\n          //\r\n          // this method deals with all the chaining work - without it, extend is flat and doesn't work on other extend selectors\r\n          // this is also the most expensive.. and a match on one selector can cause an extension of a selector we had already\r\n          // processed if we look at each selector at a time, as is done in visitRuleset\r\n          var extendIndex;\r\n          var targetExtendIndex;\r\n          var matches;\r\n          var extendsToAdd = [];\r\n          var newSelector;\r\n          var extendVisitor = this;\r\n          var selectorPath;\r\n          var extend;\r\n          var targetExtend;\r\n          var newExtend;\r\n          iterationCount = iterationCount || 0;\r\n          // loop through comparing every extend with every target extend.\r\n          // a target extend is the one on the ruleset we are looking at copy/edit/pasting in place\r\n          // e.g.  .a:extend(.b) {}  and .b:extend(.c) {} then the first extend extends the second one\r\n          // and the second is the target.\r\n          // the separation into two lists allows us to process a subset of chains with a bigger set, as is the\r\n          // case when processing media queries\r\n          for (extendIndex = 0; extendIndex < extendsList.length; extendIndex++) {\r\n              for (targetExtendIndex = 0; targetExtendIndex < extendsListTarget.length; targetExtendIndex++) {\r\n                  extend = extendsList[extendIndex];\r\n                  targetExtend = extendsListTarget[targetExtendIndex];\r\n                  // look for circular references\r\n                  if (extend.parent_ids.indexOf(targetExtend.object_id) >= 0) {\r\n                      continue;\r\n                  }\r\n                  // find a match in the target extends self selector (the bit before :extend)\r\n                  selectorPath = [targetExtend.selfSelectors[0]];\r\n                  matches = extendVisitor.findMatch(extend, selectorPath);\r\n                  if (matches.length) {\r\n                      extend.hasFoundMatches = true;\r\n                      // we found a match, so for each self selector..\r\n                      extend.selfSelectors.forEach(function (selfSelector) {\r\n                          var info = targetExtend.visibilityInfo();\r\n                          // process the extend as usual\r\n                          newSelector = extendVisitor.extendSelector(matches, selectorPath, selfSelector, extend.isVisible());\r\n                          // but now we create a new extend from it\r\n                          newExtend = new (tree.Extend)(targetExtend.selector, targetExtend.option, 0, targetExtend.fileInfo(), info);\r\n                          newExtend.selfSelectors = newSelector;\r\n                          // add the extend onto the list of extends for that selector\r\n                          newSelector[newSelector.length - 1].extendList = [newExtend];\r\n                          // record that we need to add it.\r\n                          extendsToAdd.push(newExtend);\r\n                          newExtend.ruleset = targetExtend.ruleset;\r\n                          // remember its parents for circular references\r\n                          newExtend.parent_ids = newExtend.parent_ids.concat(targetExtend.parent_ids, extend.parent_ids);\r\n                          // only process the selector once.. if we have :extend(.a,.b) then multiple\r\n                          // extends will look at the same selector path, so when extending\r\n                          // we know that any others will be duplicates in terms of what is added to the css\r\n                          if (targetExtend.firstExtendOnThisSelectorPath) {\r\n                              newExtend.firstExtendOnThisSelectorPath = true;\r\n                              targetExtend.ruleset.paths.push(newSelector);\r\n                          }\r\n                      });\r\n                  }\r\n              }\r\n          }\r\n          if (extendsToAdd.length) {\r\n              // try to detect circular references to stop a stack overflow.\r\n              // may no longer be needed.\r\n              this.extendChainCount++;\r\n              if (iterationCount > 100) {\r\n                  var selectorOne = '{unable to calculate}';\r\n                  var selectorTwo = '{unable to calculate}';\r\n                  try {\r\n                      selectorOne = extendsToAdd[0].selfSelectors[0].toCSS();\r\n                      selectorTwo = extendsToAdd[0].selector.toCSS();\r\n                  }\r\n                  catch (e) { }\r\n                  throw { message: \"extend circular reference detected. One of the circular extends is currently:\" + selectorOne + \":extend(\" + selectorTwo + \")\" };\r\n              }\r\n              // now process the new extends on the existing rules so that we can handle a extending b extending c extending\r\n              // d extending e...\r\n              return extendsToAdd.concat(extendVisitor.doExtendChaining(extendsToAdd, extendsListTarget, iterationCount + 1));\r\n          }\r\n          else {\r\n              return extendsToAdd;\r\n          }\r\n      };\r\n      ProcessExtendsVisitor.prototype.visitDeclaration = function (ruleNode, visitArgs) {\r\n          visitArgs.visitDeeper = false;\r\n      };\r\n      ProcessExtendsVisitor.prototype.visitMixinDefinition = function (mixinDefinitionNode, visitArgs) {\r\n          visitArgs.visitDeeper = false;\r\n      };\r\n      ProcessExtendsVisitor.prototype.visitSelector = function (selectorNode, visitArgs) {\r\n          visitArgs.visitDeeper = false;\r\n      };\r\n      ProcessExtendsVisitor.prototype.visitRuleset = function (rulesetNode, visitArgs) {\r\n          if (rulesetNode.root) {\r\n              return;\r\n          }\r\n          var matches;\r\n          var pathIndex;\r\n          var extendIndex;\r\n          var allExtends = this.allExtendsStack[this.allExtendsStack.length - 1];\r\n          var selectorsToAdd = [];\r\n          var extendVisitor = this;\r\n          var selectorPath;\r\n          // look at each selector path in the ruleset, find any extend matches and then copy, find and replace\r\n          for (extendIndex = 0; extendIndex < allExtends.length; extendIndex++) {\r\n              for (pathIndex = 0; pathIndex < rulesetNode.paths.length; pathIndex++) {\r\n                  selectorPath = rulesetNode.paths[pathIndex];\r\n                  // extending extends happens initially, before the main pass\r\n                  if (rulesetNode.extendOnEveryPath) {\r\n                      continue;\r\n                  }\r\n                  var extendList = selectorPath[selectorPath.length - 1].extendList;\r\n                  if (extendList && extendList.length) {\r\n                      continue;\r\n                  }\r\n                  matches = this.findMatch(allExtends[extendIndex], selectorPath);\r\n                  if (matches.length) {\r\n                      allExtends[extendIndex].hasFoundMatches = true;\r\n                      allExtends[extendIndex].selfSelectors.forEach(function (selfSelector) {\r\n                          var extendedSelectors;\r\n                          extendedSelectors = extendVisitor.extendSelector(matches, selectorPath, selfSelector, allExtends[extendIndex].isVisible());\r\n                          selectorsToAdd.push(extendedSelectors);\r\n                      });\r\n                  }\r\n              }\r\n          }\r\n          rulesetNode.paths = rulesetNode.paths.concat(selectorsToAdd);\r\n      };\r\n      ProcessExtendsVisitor.prototype.findMatch = function (extend, haystackSelectorPath) {\r\n          //\r\n          // look through the haystack selector path to try and find the needle - extend.selector\r\n          // returns an array of selector matches that can then be replaced\r\n          //\r\n          var haystackSelectorIndex;\r\n          var hackstackSelector;\r\n          var hackstackElementIndex;\r\n          var haystackElement;\r\n          var targetCombinator;\r\n          var i;\r\n          var extendVisitor = this;\r\n          var needleElements = extend.selector.elements;\r\n          var potentialMatches = [];\r\n          var potentialMatch;\r\n          var matches = [];\r\n          // loop through the haystack elements\r\n          for (haystackSelectorIndex = 0; haystackSelectorIndex < haystackSelectorPath.length; haystackSelectorIndex++) {\r\n              hackstackSelector = haystackSelectorPath[haystackSelectorIndex];\r\n              for (hackstackElementIndex = 0; hackstackElementIndex < hackstackSelector.elements.length; hackstackElementIndex++) {\r\n                  haystackElement = hackstackSelector.elements[hackstackElementIndex];\r\n                  // if we allow elements before our match we can add a potential match every time. otherwise only at the first element.\r\n                  if (extend.allowBefore || (haystackSelectorIndex === 0 && hackstackElementIndex === 0)) {\r\n                      potentialMatches.push({ pathIndex: haystackSelectorIndex, index: hackstackElementIndex, matched: 0,\r\n                          initialCombinator: haystackElement.combinator });\r\n                  }\r\n                  for (i = 0; i < potentialMatches.length; i++) {\r\n                      potentialMatch = potentialMatches[i];\r\n                      // selectors add \" \" onto the first element. When we use & it joins the selectors together, but if we don't\r\n                      // then each selector in haystackSelectorPath has a space before it added in the toCSS phase. so we need to\r\n                      // work out what the resulting combinator will be\r\n                      targetCombinator = haystackElement.combinator.value;\r\n                      if (targetCombinator === '' && hackstackElementIndex === 0) {\r\n                          targetCombinator = ' ';\r\n                      }\r\n                      // if we don't match, null our match to indicate failure\r\n                      if (!extendVisitor.isElementValuesEqual(needleElements[potentialMatch.matched].value, haystackElement.value) ||\r\n                          (potentialMatch.matched > 0 && needleElements[potentialMatch.matched].combinator.value !== targetCombinator)) {\r\n                          potentialMatch = null;\r\n                      }\r\n                      else {\r\n                          potentialMatch.matched++;\r\n                      }\r\n                      // if we are still valid and have finished, test whether we have elements after and whether these are allowed\r\n                      if (potentialMatch) {\r\n                          potentialMatch.finished = potentialMatch.matched === needleElements.length;\r\n                          if (potentialMatch.finished &&\r\n                              (!extend.allowAfter &&\r\n                                  (hackstackElementIndex + 1 < hackstackSelector.elements.length || haystackSelectorIndex + 1 < haystackSelectorPath.length))) {\r\n                              potentialMatch = null;\r\n                          }\r\n                      }\r\n                      // if null we remove, if not, we are still valid, so either push as a valid match or continue\r\n                      if (potentialMatch) {\r\n                          if (potentialMatch.finished) {\r\n                              potentialMatch.length = needleElements.length;\r\n                              potentialMatch.endPathIndex = haystackSelectorIndex;\r\n                              potentialMatch.endPathElementIndex = hackstackElementIndex + 1; // index after end of match\r\n                              potentialMatches.length = 0; // we don't allow matches to overlap, so start matching again\r\n                              matches.push(potentialMatch);\r\n                          }\r\n                      }\r\n                      else {\r\n                          potentialMatches.splice(i, 1);\r\n                          i--;\r\n                      }\r\n                  }\r\n              }\r\n          }\r\n          return matches;\r\n      };\r\n      ProcessExtendsVisitor.prototype.isElementValuesEqual = function (elementValue1, elementValue2) {\r\n          if (typeof elementValue1 === 'string' || typeof elementValue2 === 'string') {\r\n              return elementValue1 === elementValue2;\r\n          }\r\n          if (elementValue1 instanceof tree.Attribute) {\r\n              if (elementValue1.op !== elementValue2.op || elementValue1.key !== elementValue2.key) {\r\n                  return false;\r\n              }\r\n              if (!elementValue1.value || !elementValue2.value) {\r\n                  if (elementValue1.value || elementValue2.value) {\r\n                      return false;\r\n                  }\r\n                  return true;\r\n              }\r\n              elementValue1 = elementValue1.value.value || elementValue1.value;\r\n              elementValue2 = elementValue2.value.value || elementValue2.value;\r\n              return elementValue1 === elementValue2;\r\n          }\r\n          elementValue1 = elementValue1.value;\r\n          elementValue2 = elementValue2.value;\r\n          if (elementValue1 instanceof tree.Selector) {\r\n              if (!(elementValue2 instanceof tree.Selector) || elementValue1.elements.length !== elementValue2.elements.length) {\r\n                  return false;\r\n              }\r\n              for (var i = 0; i < elementValue1.elements.length; i++) {\r\n                  if (elementValue1.elements[i].combinator.value !== elementValue2.elements[i].combinator.value) {\r\n                      if (i !== 0 || (elementValue1.elements[i].combinator.value || ' ') !== (elementValue2.elements[i].combinator.value || ' ')) {\r\n                          return false;\r\n                      }\r\n                  }\r\n                  if (!this.isElementValuesEqual(elementValue1.elements[i].value, elementValue2.elements[i].value)) {\r\n                      return false;\r\n                  }\r\n              }\r\n              return true;\r\n          }\r\n          return false;\r\n      };\r\n      ProcessExtendsVisitor.prototype.extendSelector = function (matches, selectorPath, replacementSelector, isVisible) {\r\n          // for a set of matches, replace each match with the replacement selector\r\n          var currentSelectorPathIndex = 0;\r\n          var currentSelectorPathElementIndex = 0;\r\n          var path = [];\r\n          var matchIndex;\r\n          var selector;\r\n          var firstElement;\r\n          var match;\r\n          var newElements;\r\n          for (matchIndex = 0; matchIndex < matches.length; matchIndex++) {\r\n              match = matches[matchIndex];\r\n              selector = selectorPath[match.pathIndex];\r\n              firstElement = new tree.Element(match.initialCombinator, replacementSelector.elements[0].value, replacementSelector.elements[0].isVariable, replacementSelector.elements[0].getIndex(), replacementSelector.elements[0].fileInfo());\r\n              if (match.pathIndex > currentSelectorPathIndex && currentSelectorPathElementIndex > 0) {\r\n                  path[path.length - 1].elements = path[path.length - 1]\r\n                      .elements.concat(selectorPath[currentSelectorPathIndex].elements.slice(currentSelectorPathElementIndex));\r\n                  currentSelectorPathElementIndex = 0;\r\n                  currentSelectorPathIndex++;\r\n              }\r\n              newElements = selector.elements\r\n                  .slice(currentSelectorPathElementIndex, match.index)\r\n                  .concat([firstElement])\r\n                  .concat(replacementSelector.elements.slice(1));\r\n              if (currentSelectorPathIndex === match.pathIndex && matchIndex > 0) {\r\n                  path[path.length - 1].elements =\r\n                      path[path.length - 1].elements.concat(newElements);\r\n              }\r\n              else {\r\n                  path = path.concat(selectorPath.slice(currentSelectorPathIndex, match.pathIndex));\r\n                  path.push(new tree.Selector(newElements));\r\n              }\r\n              currentSelectorPathIndex = match.endPathIndex;\r\n              currentSelectorPathElementIndex = match.endPathElementIndex;\r\n              if (currentSelectorPathElementIndex >= selectorPath[currentSelectorPathIndex].elements.length) {\r\n                  currentSelectorPathElementIndex = 0;\r\n                  currentSelectorPathIndex++;\r\n              }\r\n          }\r\n          if (currentSelectorPathIndex < selectorPath.length && currentSelectorPathElementIndex > 0) {\r\n              path[path.length - 1].elements = path[path.length - 1]\r\n                  .elements.concat(selectorPath[currentSelectorPathIndex].elements.slice(currentSelectorPathElementIndex));\r\n              currentSelectorPathIndex++;\r\n          }\r\n          path = path.concat(selectorPath.slice(currentSelectorPathIndex, selectorPath.length));\r\n          path = path.map(function (currentValue) {\r\n              // we can re-use elements here, because the visibility property matters only for selectors\r\n              var derived = currentValue.createDerived(currentValue.elements);\r\n              if (isVisible) {\r\n                  derived.ensureVisibility();\r\n              }\r\n              else {\r\n                  derived.ensureInvisibility();\r\n              }\r\n              return derived;\r\n          });\r\n          return path;\r\n      };\r\n      ProcessExtendsVisitor.prototype.visitMedia = function (mediaNode, visitArgs) {\r\n          var newAllExtends = mediaNode.allExtends.concat(this.allExtendsStack[this.allExtendsStack.length - 1]);\r\n          newAllExtends = newAllExtends.concat(this.doExtendChaining(newAllExtends, mediaNode.allExtends));\r\n          this.allExtendsStack.push(newAllExtends);\r\n      };\r\n      ProcessExtendsVisitor.prototype.visitMediaOut = function (mediaNode) {\r\n          var lastIndex = this.allExtendsStack.length - 1;\r\n          this.allExtendsStack.length = lastIndex;\r\n      };\r\n      ProcessExtendsVisitor.prototype.visitAtRule = function (atRuleNode, visitArgs) {\r\n          var newAllExtends = atRuleNode.allExtends.concat(this.allExtendsStack[this.allExtendsStack.length - 1]);\r\n          newAllExtends = newAllExtends.concat(this.doExtendChaining(newAllExtends, atRuleNode.allExtends));\r\n          this.allExtendsStack.push(newAllExtends);\r\n      };\r\n      ProcessExtendsVisitor.prototype.visitAtRuleOut = function (atRuleNode) {\r\n          var lastIndex = this.allExtendsStack.length - 1;\r\n          this.allExtendsStack.length = lastIndex;\r\n      };\r\n      return ProcessExtendsVisitor;\r\n  }());\n\n  var JoinSelectorVisitor = /** @class */ (function () {\r\n      function JoinSelectorVisitor() {\r\n          this.contexts = [[]];\r\n          this._visitor = new Visitor(this);\r\n      }\r\n      JoinSelectorVisitor.prototype.run = function (root) {\r\n          return this._visitor.visit(root);\r\n      };\r\n      JoinSelectorVisitor.prototype.visitDeclaration = function (declNode, visitArgs) {\r\n          visitArgs.visitDeeper = false;\r\n      };\r\n      JoinSelectorVisitor.prototype.visitMixinDefinition = function (mixinDefinitionNode, visitArgs) {\r\n          visitArgs.visitDeeper = false;\r\n      };\r\n      JoinSelectorVisitor.prototype.visitRuleset = function (rulesetNode, visitArgs) {\r\n          var context = this.contexts[this.contexts.length - 1];\r\n          var paths = [];\r\n          var selectors;\r\n          this.contexts.push(paths);\r\n          if (!rulesetNode.root) {\r\n              selectors = rulesetNode.selectors;\r\n              if (selectors) {\r\n                  selectors = selectors.filter(function (selector) { return selector.getIsOutput(); });\r\n                  rulesetNode.selectors = selectors.length ? selectors : (selectors = null);\r\n                  if (selectors) {\r\n                      rulesetNode.joinSelectors(paths, context, selectors);\r\n                  }\r\n              }\r\n              if (!selectors) {\r\n                  rulesetNode.rules = null;\r\n              }\r\n              rulesetNode.paths = paths;\r\n          }\r\n      };\r\n      JoinSelectorVisitor.prototype.visitRulesetOut = function (rulesetNode) {\r\n          this.contexts.length = this.contexts.length - 1;\r\n      };\r\n      JoinSelectorVisitor.prototype.visitMedia = function (mediaNode, visitArgs) {\r\n          var context = this.contexts[this.contexts.length - 1];\r\n          mediaNode.rules[0].root = (context.length === 0 || context[0].multiMedia);\r\n      };\r\n      JoinSelectorVisitor.prototype.visitAtRule = function (atRuleNode, visitArgs) {\r\n          var context = this.contexts[this.contexts.length - 1];\r\n          if (atRuleNode.rules && atRuleNode.rules.length) {\r\n              atRuleNode.rules[0].root = (atRuleNode.isRooted || context.length === 0 || null);\r\n          }\r\n      };\r\n      return JoinSelectorVisitor;\r\n  }());\n\n  var CSSVisitorUtils = /** @class */ (function () {\r\n      function CSSVisitorUtils(context) {\r\n          this._visitor = new Visitor(this);\r\n          this._context = context;\r\n      }\r\n      CSSVisitorUtils.prototype.containsSilentNonBlockedChild = function (bodyRules) {\r\n          var rule;\r\n          if (!bodyRules) {\r\n              return false;\r\n          }\r\n          for (var r = 0; r < bodyRules.length; r++) {\r\n              rule = bodyRules[r];\r\n              if (rule.isSilent && rule.isSilent(this._context) && !rule.blocksVisibility()) {\r\n                  // the atrule contains something that was referenced (likely by extend)\r\n                  // therefore it needs to be shown in output too\r\n                  return true;\r\n              }\r\n          }\r\n          return false;\r\n      };\r\n      CSSVisitorUtils.prototype.keepOnlyVisibleChilds = function (owner) {\r\n          if (owner && owner.rules) {\r\n              owner.rules = owner.rules.filter(function (thing) { return thing.isVisible(); });\r\n          }\r\n      };\r\n      CSSVisitorUtils.prototype.isEmpty = function (owner) {\r\n          return (owner && owner.rules)\r\n              ? (owner.rules.length === 0) : true;\r\n      };\r\n      CSSVisitorUtils.prototype.hasVisibleSelector = function (rulesetNode) {\r\n          return (rulesetNode && rulesetNode.paths)\r\n              ? (rulesetNode.paths.length > 0) : false;\r\n      };\r\n      CSSVisitorUtils.prototype.resolveVisibility = function (node, originalRules) {\r\n          if (!node.blocksVisibility()) {\r\n              if (this.isEmpty(node) && !this.containsSilentNonBlockedChild(originalRules)) {\r\n                  return;\r\n              }\r\n              return node;\r\n          }\r\n          var compiledRulesBody = node.rules[0];\r\n          this.keepOnlyVisibleChilds(compiledRulesBody);\r\n          if (this.isEmpty(compiledRulesBody)) {\r\n              return;\r\n          }\r\n          node.ensureVisibility();\r\n          node.removeVisibilityBlock();\r\n          return node;\r\n      };\r\n      CSSVisitorUtils.prototype.isVisibleRuleset = function (rulesetNode) {\r\n          if (rulesetNode.firstRoot) {\r\n              return true;\r\n          }\r\n          if (this.isEmpty(rulesetNode)) {\r\n              return false;\r\n          }\r\n          if (!rulesetNode.root && !this.hasVisibleSelector(rulesetNode)) {\r\n              return false;\r\n          }\r\n          return true;\r\n      };\r\n      return CSSVisitorUtils;\r\n  }());\r\n  var ToCSSVisitor = function (context) {\r\n      this._visitor = new Visitor(this);\r\n      this._context = context;\r\n      this.utils = new CSSVisitorUtils(context);\r\n  };\r\n  ToCSSVisitor.prototype = {\r\n      isReplacing: true,\r\n      run: function (root) {\r\n          return this._visitor.visit(root);\r\n      },\r\n      visitDeclaration: function (declNode, visitArgs) {\r\n          if (declNode.blocksVisibility() || declNode.variable) {\r\n              return;\r\n          }\r\n          return declNode;\r\n      },\r\n      visitMixinDefinition: function (mixinNode, visitArgs) {\r\n          // mixin definitions do not get eval'd - this means they keep state\r\n          // so we have to clear that state here so it isn't used if toCSS is called twice\r\n          mixinNode.frames = [];\r\n      },\r\n      visitExtend: function (extendNode, visitArgs) {\r\n      },\r\n      visitComment: function (commentNode, visitArgs) {\r\n          if (commentNode.blocksVisibility() || commentNode.isSilent(this._context)) {\r\n              return;\r\n          }\r\n          return commentNode;\r\n      },\r\n      visitMedia: function (mediaNode, visitArgs) {\r\n          var originalRules = mediaNode.rules[0].rules;\r\n          mediaNode.accept(this._visitor);\r\n          visitArgs.visitDeeper = false;\r\n          return this.utils.resolveVisibility(mediaNode, originalRules);\r\n      },\r\n      visitImport: function (importNode, visitArgs) {\r\n          if (importNode.blocksVisibility()) {\r\n              return;\r\n          }\r\n          return importNode;\r\n      },\r\n      visitAtRule: function (atRuleNode, visitArgs) {\r\n          if (atRuleNode.rules && atRuleNode.rules.length) {\r\n              return this.visitAtRuleWithBody(atRuleNode, visitArgs);\r\n          }\r\n          else {\r\n              return this.visitAtRuleWithoutBody(atRuleNode, visitArgs);\r\n          }\r\n      },\r\n      visitAnonymous: function (anonymousNode, visitArgs) {\r\n          if (!anonymousNode.blocksVisibility()) {\r\n              anonymousNode.accept(this._visitor);\r\n              return anonymousNode;\r\n          }\r\n      },\r\n      visitAtRuleWithBody: function (atRuleNode, visitArgs) {\r\n          // if there is only one nested ruleset and that one has no path, then it is\r\n          // just fake ruleset\r\n          function hasFakeRuleset(atRuleNode) {\r\n              var bodyRules = atRuleNode.rules;\r\n              return bodyRules.length === 1 && (!bodyRules[0].paths || bodyRules[0].paths.length === 0);\r\n          }\r\n          function getBodyRules(atRuleNode) {\r\n              var nodeRules = atRuleNode.rules;\r\n              if (hasFakeRuleset(atRuleNode)) {\r\n                  return nodeRules[0].rules;\r\n              }\r\n              return nodeRules;\r\n          }\r\n          // it is still true that it is only one ruleset in array\r\n          // this is last such moment\r\n          // process childs\r\n          var originalRules = getBodyRules(atRuleNode);\r\n          atRuleNode.accept(this._visitor);\r\n          visitArgs.visitDeeper = false;\r\n          if (!this.utils.isEmpty(atRuleNode)) {\r\n              this._mergeRules(atRuleNode.rules[0].rules);\r\n          }\r\n          return this.utils.resolveVisibility(atRuleNode, originalRules);\r\n      },\r\n      visitAtRuleWithoutBody: function (atRuleNode, visitArgs) {\r\n          if (atRuleNode.blocksVisibility()) {\r\n              return;\r\n          }\r\n          if (atRuleNode.name === '@charset') {\r\n              // Only output the debug info together with subsequent @charset definitions\r\n              // a comment (or @media statement) before the actual @charset atrule would\r\n              // be considered illegal css as it has to be on the first line\r\n              if (this.charset) {\r\n                  if (atRuleNode.debugInfo) {\r\n                      var comment = new tree.Comment(\"/* \" + atRuleNode.toCSS(this._context).replace(/\\n/g, '') + \" */\\n\");\r\n                      comment.debugInfo = atRuleNode.debugInfo;\r\n                      return this._visitor.visit(comment);\r\n                  }\r\n                  return;\r\n              }\r\n              this.charset = true;\r\n          }\r\n          return atRuleNode;\r\n      },\r\n      checkValidNodes: function (rules, isRoot) {\r\n          if (!rules) {\r\n              return;\r\n          }\r\n          for (var i = 0; i < rules.length; i++) {\r\n              var ruleNode = rules[i];\r\n              if (isRoot && ruleNode instanceof tree.Declaration && !ruleNode.variable) {\r\n                  throw { message: 'Properties must be inside selector blocks. They cannot be in the root',\r\n                      index: ruleNode.getIndex(), filename: ruleNode.fileInfo() && ruleNode.fileInfo().filename };\r\n              }\r\n              if (ruleNode instanceof tree.Call) {\r\n                  throw { message: \"Function '\" + ruleNode.name + \"' is undefined\", index: ruleNode.getIndex(), filename: ruleNode.fileInfo() && ruleNode.fileInfo().filename };\r\n              }\r\n              if (ruleNode.type && !ruleNode.allowRoot) {\r\n                  throw { message: ruleNode.type + \" node returned by a function is not valid here\", index: ruleNode.getIndex(), filename: ruleNode.fileInfo() && ruleNode.fileInfo().filename };\r\n              }\r\n          }\r\n      },\r\n      visitRuleset: function (rulesetNode, visitArgs) {\r\n          // at this point rulesets are nested into each other\r\n          var rule;\r\n          var rulesets = [];\r\n          this.checkValidNodes(rulesetNode.rules, rulesetNode.firstRoot);\r\n          if (!rulesetNode.root) {\r\n              // remove invisible paths\r\n              this._compileRulesetPaths(rulesetNode);\r\n              // remove rulesets from this ruleset body and compile them separately\r\n              var nodeRules = rulesetNode.rules;\r\n              var nodeRuleCnt = nodeRules ? nodeRules.length : 0;\r\n              for (var i = 0; i < nodeRuleCnt;) {\r\n                  rule = nodeRules[i];\r\n                  if (rule && rule.rules) {\r\n                      // visit because we are moving them out from being a child\r\n                      rulesets.push(this._visitor.visit(rule));\r\n                      nodeRules.splice(i, 1);\r\n                      nodeRuleCnt--;\r\n                      continue;\r\n                  }\r\n                  i++;\r\n              }\r\n              // accept the visitor to remove rules and refactor itself\r\n              // then we can decide nogw whether we want it or not\r\n              // compile body\r\n              if (nodeRuleCnt > 0) {\r\n                  rulesetNode.accept(this._visitor);\r\n              }\r\n              else {\r\n                  rulesetNode.rules = null;\r\n              }\r\n              visitArgs.visitDeeper = false;\r\n          }\r\n          else { // if (! rulesetNode.root) {\r\n              rulesetNode.accept(this._visitor);\r\n              visitArgs.visitDeeper = false;\r\n          }\r\n          if (rulesetNode.rules) {\r\n              this._mergeRules(rulesetNode.rules);\r\n              this._removeDuplicateRules(rulesetNode.rules);\r\n          }\r\n          // now decide whether we keep the ruleset\r\n          if (this.utils.isVisibleRuleset(rulesetNode)) {\r\n              rulesetNode.ensureVisibility();\r\n              rulesets.splice(0, 0, rulesetNode);\r\n          }\r\n          if (rulesets.length === 1) {\r\n              return rulesets[0];\r\n          }\r\n          return rulesets;\r\n      },\r\n      _compileRulesetPaths: function (rulesetNode) {\r\n          if (rulesetNode.paths) {\r\n              rulesetNode.paths = rulesetNode.paths\r\n                  .filter(function (p) {\r\n                  var i;\r\n                  if (p[0].elements[0].combinator.value === ' ') {\r\n                      p[0].elements[0].combinator = new (tree.Combinator)('');\r\n                  }\r\n                  for (i = 0; i < p.length; i++) {\r\n                      if (p[i].isVisible() && p[i].getIsOutput()) {\r\n                          return true;\r\n                      }\r\n                  }\r\n                  return false;\r\n              });\r\n          }\r\n      },\r\n      _removeDuplicateRules: function (rules) {\r\n          if (!rules) {\r\n              return;\r\n          }\r\n          // remove duplicates\r\n          var ruleCache = {};\r\n          var ruleList;\r\n          var rule;\r\n          var i;\r\n          for (i = rules.length - 1; i >= 0; i--) {\r\n              rule = rules[i];\r\n              if (rule instanceof tree.Declaration) {\r\n                  if (!ruleCache[rule.name]) {\r\n                      ruleCache[rule.name] = rule;\r\n                  }\r\n                  else {\r\n                      ruleList = ruleCache[rule.name];\r\n                      if (ruleList instanceof tree.Declaration) {\r\n                          ruleList = ruleCache[rule.name] = [ruleCache[rule.name].toCSS(this._context)];\r\n                      }\r\n                      var ruleCSS = rule.toCSS(this._context);\r\n                      if (ruleList.indexOf(ruleCSS) !== -1) {\r\n                          rules.splice(i, 1);\r\n                      }\r\n                      else {\r\n                          ruleList.push(ruleCSS);\r\n                      }\r\n                  }\r\n              }\r\n          }\r\n      },\r\n      _mergeRules: function (rules) {\r\n          if (!rules) {\r\n              return;\r\n          }\r\n          var groups = {};\r\n          var groupsArr = [];\r\n          for (var i = 0; i < rules.length; i++) {\r\n              var rule = rules[i];\r\n              if (rule.merge) {\r\n                  var key = rule.name;\r\n                  groups[key] ? rules.splice(i--, 1) :\r\n                      groupsArr.push(groups[key] = []);\r\n                  groups[key].push(rule);\r\n              }\r\n          }\r\n          groupsArr.forEach(function (group) {\r\n              if (group.length > 0) {\r\n                  var result_1 = group[0];\r\n                  var space_1 = [];\r\n                  var comma_1 = [new tree.Expression(space_1)];\r\n                  group.forEach(function (rule) {\r\n                      if ((rule.merge === '+') && (space_1.length > 0)) {\r\n                          comma_1.push(new tree.Expression(space_1 = []));\r\n                      }\r\n                      space_1.push(rule.value);\r\n                      result_1.important = result_1.important || rule.important;\r\n                  });\r\n                  result_1.value = new tree.Value(comma_1);\r\n              }\r\n          });\r\n      }\r\n  };\n\n  var visitors = {\r\n      Visitor: Visitor,\r\n      ImportVisitor: ImportVisitor,\r\n      MarkVisibleSelectorsVisitor: SetTreeVisibilityVisitor,\r\n      ExtendVisitor: ProcessExtendsVisitor,\r\n      JoinSelectorVisitor: JoinSelectorVisitor,\r\n      ToCSSVisitor: ToCSSVisitor\r\n  };\n\n  // Split the input into chunks.\r\n  var chunker = (function (input, fail) {\r\n      var len = input.length;\r\n      var level = 0;\r\n      var parenLevel = 0;\r\n      var lastOpening;\r\n      var lastOpeningParen;\r\n      var lastMultiComment;\r\n      var lastMultiCommentEndBrace;\r\n      var chunks = [];\r\n      var emitFrom = 0;\r\n      var chunkerCurrentIndex;\r\n      var currentChunkStartIndex;\r\n      var cc;\r\n      var cc2;\r\n      var matched;\r\n      function emitChunk(force) {\r\n          var len = chunkerCurrentIndex - emitFrom;\r\n          if (((len < 512) && !force) || !len) {\r\n              return;\r\n          }\r\n          chunks.push(input.slice(emitFrom, chunkerCurrentIndex + 1));\r\n          emitFrom = chunkerCurrentIndex + 1;\r\n      }\r\n      for (chunkerCurrentIndex = 0; chunkerCurrentIndex < len; chunkerCurrentIndex++) {\r\n          cc = input.charCodeAt(chunkerCurrentIndex);\r\n          if (((cc >= 97) && (cc <= 122)) || (cc < 34)) {\r\n              // a-z or whitespace\r\n              continue;\r\n          }\r\n          switch (cc) {\r\n              case 40: // (\r\n                  parenLevel++;\r\n                  lastOpeningParen = chunkerCurrentIndex;\r\n                  continue;\r\n              case 41: // )\r\n                  if (--parenLevel < 0) {\r\n                      return fail('missing opening `(`', chunkerCurrentIndex);\r\n                  }\r\n                  continue;\r\n              case 59: // ;\r\n                  if (!parenLevel) {\r\n                      emitChunk();\r\n                  }\r\n                  continue;\r\n              case 123: // {\r\n                  level++;\r\n                  lastOpening = chunkerCurrentIndex;\r\n                  continue;\r\n              case 125: // }\r\n                  if (--level < 0) {\r\n                      return fail('missing opening `{`', chunkerCurrentIndex);\r\n                  }\r\n                  if (!level && !parenLevel) {\r\n                      emitChunk();\r\n                  }\r\n                  continue;\r\n              case 92: // \\\r\n                  if (chunkerCurrentIndex < len - 1) {\r\n                      chunkerCurrentIndex++;\r\n                      continue;\r\n                  }\r\n                  return fail('unescaped `\\\\`', chunkerCurrentIndex);\r\n              case 34:\r\n              case 39:\r\n              case 96: // \", ' and `\r\n                  matched = 0;\r\n                  currentChunkStartIndex = chunkerCurrentIndex;\r\n                  for (chunkerCurrentIndex = chunkerCurrentIndex + 1; chunkerCurrentIndex < len; chunkerCurrentIndex++) {\r\n                      cc2 = input.charCodeAt(chunkerCurrentIndex);\r\n                      if (cc2 > 96) {\r\n                          continue;\r\n                      }\r\n                      if (cc2 == cc) {\r\n                          matched = 1;\r\n                          break;\r\n                      }\r\n                      if (cc2 == 92) { // \\\r\n                          if (chunkerCurrentIndex == len - 1) {\r\n                              return fail('unescaped `\\\\`', chunkerCurrentIndex);\r\n                          }\r\n                          chunkerCurrentIndex++;\r\n                      }\r\n                  }\r\n                  if (matched) {\r\n                      continue;\r\n                  }\r\n                  return fail(\"unmatched `\" + String.fromCharCode(cc) + \"`\", currentChunkStartIndex);\r\n              case 47: // /, check for comment\r\n                  if (parenLevel || (chunkerCurrentIndex == len - 1)) {\r\n                      continue;\r\n                  }\r\n                  cc2 = input.charCodeAt(chunkerCurrentIndex + 1);\r\n                  if (cc2 == 47) {\r\n                      // //, find lnfeed\r\n                      for (chunkerCurrentIndex = chunkerCurrentIndex + 2; chunkerCurrentIndex < len; chunkerCurrentIndex++) {\r\n                          cc2 = input.charCodeAt(chunkerCurrentIndex);\r\n                          if ((cc2 <= 13) && ((cc2 == 10) || (cc2 == 13))) {\r\n                              break;\r\n                          }\r\n                      }\r\n                  }\r\n                  else if (cc2 == 42) {\r\n                      // /*, find */\r\n                      lastMultiComment = currentChunkStartIndex = chunkerCurrentIndex;\r\n                      for (chunkerCurrentIndex = chunkerCurrentIndex + 2; chunkerCurrentIndex < len - 1; chunkerCurrentIndex++) {\r\n                          cc2 = input.charCodeAt(chunkerCurrentIndex);\r\n                          if (cc2 == 125) {\r\n                              lastMultiCommentEndBrace = chunkerCurrentIndex;\r\n                          }\r\n                          if (cc2 != 42) {\r\n                              continue;\r\n                          }\r\n                          if (input.charCodeAt(chunkerCurrentIndex + 1) == 47) {\r\n                              break;\r\n                          }\r\n                      }\r\n                      if (chunkerCurrentIndex == len - 1) {\r\n                          return fail('missing closing `*/`', currentChunkStartIndex);\r\n                      }\r\n                      chunkerCurrentIndex++;\r\n                  }\r\n                  continue;\r\n              case 42: // *, check for unmatched */\r\n                  if ((chunkerCurrentIndex < len - 1) && (input.charCodeAt(chunkerCurrentIndex + 1) == 47)) {\r\n                      return fail('unmatched `/*`', chunkerCurrentIndex);\r\n                  }\r\n                  continue;\r\n          }\r\n      }\r\n      if (level !== 0) {\r\n          if ((lastMultiComment > lastOpening) && (lastMultiCommentEndBrace > lastMultiComment)) {\r\n              return fail('missing closing `}` or `*/`', lastOpening);\r\n          }\r\n          else {\r\n              return fail('missing closing `}`', lastOpening);\r\n          }\r\n      }\r\n      else if (parenLevel !== 0) {\r\n          return fail('missing closing `)`', lastOpeningParen);\r\n      }\r\n      emitChunk(true);\r\n      return chunks;\r\n  });\n\n  var getParserInput = (function () {\r\n      var // Less input string\r\n      input;\r\n      var // current chunk\r\n      j;\r\n      var // holds state for backtracking\r\n      saveStack = [];\r\n      var // furthest index the parser has gone to\r\n      furthest;\r\n      var // if this is furthest we got to, this is the probably cause\r\n      furthestPossibleErrorMessage;\r\n      var // chunkified input\r\n      chunks;\r\n      var // current chunk\r\n      current;\r\n      var // index of current chunk, in `input`\r\n      currentPos;\r\n      var parserInput = {};\r\n      var CHARCODE_SPACE = 32;\r\n      var CHARCODE_TAB = 9;\r\n      var CHARCODE_LF = 10;\r\n      var CHARCODE_CR = 13;\r\n      var CHARCODE_PLUS = 43;\r\n      var CHARCODE_COMMA = 44;\r\n      var CHARCODE_FORWARD_SLASH = 47;\r\n      var CHARCODE_9 = 57;\r\n      function skipWhitespace(length) {\r\n          var oldi = parserInput.i;\r\n          var oldj = j;\r\n          var curr = parserInput.i - currentPos;\r\n          var endIndex = parserInput.i + current.length - curr;\r\n          var mem = (parserInput.i += length);\r\n          var inp = input;\r\n          var c;\r\n          var nextChar;\r\n          var comment;\r\n          for (; parserInput.i < endIndex; parserInput.i++) {\r\n              c = inp.charCodeAt(parserInput.i);\r\n              if (parserInput.autoCommentAbsorb && c === CHARCODE_FORWARD_SLASH) {\r\n                  nextChar = inp.charAt(parserInput.i + 1);\r\n                  if (nextChar === '/') {\r\n                      comment = { index: parserInput.i, isLineComment: true };\r\n                      var nextNewLine = inp.indexOf('\\n', parserInput.i + 2);\r\n                      if (nextNewLine < 0) {\r\n                          nextNewLine = endIndex;\r\n                      }\r\n                      parserInput.i = nextNewLine;\r\n                      comment.text = inp.substr(comment.index, parserInput.i - comment.index);\r\n                      parserInput.commentStore.push(comment);\r\n                      continue;\r\n                  }\r\n                  else if (nextChar === '*') {\r\n                      var nextStarSlash = inp.indexOf('*/', parserInput.i + 2);\r\n                      if (nextStarSlash >= 0) {\r\n                          comment = {\r\n                              index: parserInput.i,\r\n                              text: inp.substr(parserInput.i, nextStarSlash + 2 - parserInput.i),\r\n                              isLineComment: false\r\n                          };\r\n                          parserInput.i += comment.text.length - 1;\r\n                          parserInput.commentStore.push(comment);\r\n                          continue;\r\n                      }\r\n                  }\r\n                  break;\r\n              }\r\n              if ((c !== CHARCODE_SPACE) && (c !== CHARCODE_LF) && (c !== CHARCODE_TAB) && (c !== CHARCODE_CR)) {\r\n                  break;\r\n              }\r\n          }\r\n          current = current.slice(length + parserInput.i - mem + curr);\r\n          currentPos = parserInput.i;\r\n          if (!current.length) {\r\n              if (j < chunks.length - 1) {\r\n                  current = chunks[++j];\r\n                  skipWhitespace(0); // skip space at the beginning of a chunk\r\n                  return true; // things changed\r\n              }\r\n              parserInput.finished = true;\r\n          }\r\n          return oldi !== parserInput.i || oldj !== j;\r\n      }\r\n      parserInput.save = function () {\r\n          currentPos = parserInput.i;\r\n          saveStack.push({ current: current, i: parserInput.i, j: j });\r\n      };\r\n      parserInput.restore = function (possibleErrorMessage) {\r\n          if (parserInput.i > furthest || (parserInput.i === furthest && possibleErrorMessage && !furthestPossibleErrorMessage)) {\r\n              furthest = parserInput.i;\r\n              furthestPossibleErrorMessage = possibleErrorMessage;\r\n          }\r\n          var state = saveStack.pop();\r\n          current = state.current;\r\n          currentPos = parserInput.i = state.i;\r\n          j = state.j;\r\n      };\r\n      parserInput.forget = function () {\r\n          saveStack.pop();\r\n      };\r\n      parserInput.isWhitespace = function (offset) {\r\n          var pos = parserInput.i + (offset || 0);\r\n          var code = input.charCodeAt(pos);\r\n          return (code === CHARCODE_SPACE || code === CHARCODE_CR || code === CHARCODE_TAB || code === CHARCODE_LF);\r\n      };\r\n      // Specialization of $(tok)\r\n      parserInput.$re = function (tok) {\r\n          if (parserInput.i > currentPos) {\r\n              current = current.slice(parserInput.i - currentPos);\r\n              currentPos = parserInput.i;\r\n          }\r\n          var m = tok.exec(current);\r\n          if (!m) {\r\n              return null;\r\n          }\r\n          skipWhitespace(m[0].length);\r\n          if (typeof m === 'string') {\r\n              return m;\r\n          }\r\n          return m.length === 1 ? m[0] : m;\r\n      };\r\n      parserInput.$char = function (tok) {\r\n          if (input.charAt(parserInput.i) !== tok) {\r\n              return null;\r\n          }\r\n          skipWhitespace(1);\r\n          return tok;\r\n      };\r\n      parserInput.$str = function (tok) {\r\n          var tokLength = tok.length;\r\n          // https://jsperf.com/string-startswith/21\r\n          for (var i = 0; i < tokLength; i++) {\r\n              if (input.charAt(parserInput.i + i) !== tok.charAt(i)) {\r\n                  return null;\r\n              }\r\n          }\r\n          skipWhitespace(tokLength);\r\n          return tok;\r\n      };\r\n      parserInput.$quoted = function (loc) {\r\n          var pos = loc || parserInput.i;\r\n          var startChar = input.charAt(pos);\r\n          if (startChar !== '\\'' && startChar !== '\"') {\r\n              return;\r\n          }\r\n          var length = input.length;\r\n          var currentPosition = pos;\r\n          for (var i = 1; i + currentPosition < length; i++) {\r\n              var nextChar = input.charAt(i + currentPosition);\r\n              switch (nextChar) {\r\n                  case '\\\\':\r\n                      i++;\r\n                      continue;\r\n                  case '\\r':\r\n                  case '\\n':\r\n                      break;\r\n                  case startChar:\r\n                      var str = input.substr(currentPosition, i + 1);\r\n                      if (!loc && loc !== 0) {\r\n                          skipWhitespace(i + 1);\r\n                          return str;\r\n                      }\r\n                      return [startChar, str];\r\n              }\r\n          }\r\n          return null;\r\n      };\r\n      /**\r\n       * Permissive parsing. Ignores everything except matching {} [] () and quotes\r\n       * until matching token (outside of blocks)\r\n       */\r\n      parserInput.$parseUntil = function (tok) {\r\n          var quote = '';\r\n          var returnVal = null;\r\n          var inComment = false;\r\n          var blockDepth = 0;\r\n          var blockStack = [];\r\n          var parseGroups = [];\r\n          var length = input.length;\r\n          var startPos = parserInput.i;\r\n          var lastPos = parserInput.i;\r\n          var i = parserInput.i;\r\n          var loop = true;\r\n          var testChar;\r\n          if (typeof tok === 'string') {\r\n              testChar = function (char) { return char === tok; };\r\n          }\r\n          else {\r\n              testChar = function (char) { return tok.test(char); };\r\n          }\r\n          do {\r\n              var nextChar = input.charAt(i);\r\n              if (blockDepth === 0 && testChar(nextChar)) {\r\n                  returnVal = input.substr(lastPos, i - lastPos);\r\n                  if (returnVal) {\r\n                      parseGroups.push(returnVal);\r\n                  }\r\n                  else {\r\n                      parseGroups.push(' ');\r\n                  }\r\n                  returnVal = parseGroups;\r\n                  skipWhitespace(i - startPos);\r\n                  loop = false;\r\n              }\r\n              else {\r\n                  if (inComment) {\r\n                      if (nextChar === '*' &&\r\n                          input.charAt(i + 1) === '/') {\r\n                          i++;\r\n                          blockDepth--;\r\n                          inComment = false;\r\n                      }\r\n                      i++;\r\n                      continue;\r\n                  }\r\n                  switch (nextChar) {\r\n                      case '\\\\':\r\n                          i++;\r\n                          nextChar = input.charAt(i);\r\n                          parseGroups.push(input.substr(lastPos, i - lastPos + 1));\r\n                          lastPos = i + 1;\r\n                          break;\r\n                      case '/':\r\n                          if (input.charAt(i + 1) === '*') {\r\n                              i++;\r\n                              inComment = true;\r\n                              blockDepth++;\r\n                          }\r\n                          break;\r\n                      case '\\'':\r\n                      case '\"':\r\n                          quote = parserInput.$quoted(i);\r\n                          if (quote) {\r\n                              parseGroups.push(input.substr(lastPos, i - lastPos), quote);\r\n                              i += quote[1].length - 1;\r\n                              lastPos = i + 1;\r\n                          }\r\n                          else {\r\n                              skipWhitespace(i - startPos);\r\n                              returnVal = nextChar;\r\n                              loop = false;\r\n                          }\r\n                          break;\r\n                      case '{':\r\n                          blockStack.push('}');\r\n                          blockDepth++;\r\n                          break;\r\n                      case '(':\r\n                          blockStack.push(')');\r\n                          blockDepth++;\r\n                          break;\r\n                      case '[':\r\n                          blockStack.push(']');\r\n                          blockDepth++;\r\n                          break;\r\n                      case '}':\r\n                      case ')':\r\n                      case ']':\r\n                          var expected = blockStack.pop();\r\n                          if (nextChar === expected) {\r\n                              blockDepth--;\r\n                          }\r\n                          else {\r\n                              // move the parser to the error and return expected\r\n                              skipWhitespace(i - startPos);\r\n                              returnVal = expected;\r\n                              loop = false;\r\n                          }\r\n                  }\r\n                  i++;\r\n                  if (i > length) {\r\n                      loop = false;\r\n                  }\r\n              }\r\n          } while (loop);\r\n          return returnVal ? returnVal : null;\r\n      };\r\n      parserInput.autoCommentAbsorb = true;\r\n      parserInput.commentStore = [];\r\n      parserInput.finished = false;\r\n      // Same as $(), but don't change the state of the parser,\r\n      // just return the match.\r\n      parserInput.peek = function (tok) {\r\n          if (typeof tok === 'string') {\r\n              // https://jsperf.com/string-startswith/21\r\n              for (var i = 0; i < tok.length; i++) {\r\n                  if (input.charAt(parserInput.i + i) !== tok.charAt(i)) {\r\n                      return false;\r\n                  }\r\n              }\r\n              return true;\r\n          }\r\n          else {\r\n              return tok.test(current);\r\n          }\r\n      };\r\n      // Specialization of peek()\r\n      // TODO remove or change some currentChar calls to peekChar\r\n      parserInput.peekChar = function (tok) { return input.charAt(parserInput.i) === tok; };\r\n      parserInput.currentChar = function () { return input.charAt(parserInput.i); };\r\n      parserInput.prevChar = function () { return input.charAt(parserInput.i - 1); };\r\n      parserInput.getInput = function () { return input; };\r\n      parserInput.peekNotNumeric = function () {\r\n          var c = input.charCodeAt(parserInput.i);\r\n          // Is the first char of the dimension 0-9, '.', '+' or '-'\r\n          return (c > CHARCODE_9 || c < CHARCODE_PLUS) || c === CHARCODE_FORWARD_SLASH || c === CHARCODE_COMMA;\r\n      };\r\n      parserInput.start = function (str, chunkInput, failFunction) {\r\n          input = str;\r\n          parserInput.i = j = currentPos = furthest = 0;\r\n          // chunking apparently makes things quicker (but my tests indicate\r\n          // it might actually make things slower in node at least)\r\n          // and it is a non-perfect parse - it can't recognise\r\n          // unquoted urls, meaning it can't distinguish comments\r\n          // meaning comments with quotes or {}() in them get 'counted'\r\n          // and then lead to parse errors.\r\n          // In addition if the chunking chunks in the wrong place we might\r\n          // not be able to parse a parser statement in one go\r\n          // this is officially deprecated but can be switched on via an option\r\n          // in the case it causes too much performance issues.\r\n          if (chunkInput) {\r\n              chunks = chunker(str, failFunction);\r\n          }\r\n          else {\r\n              chunks = [str];\r\n          }\r\n          current = chunks[0];\r\n          skipWhitespace(0);\r\n      };\r\n      parserInput.end = function () {\r\n          var message;\r\n          var isFinished = parserInput.i >= input.length;\r\n          if (parserInput.i < furthest) {\r\n              message = furthestPossibleErrorMessage;\r\n              parserInput.i = furthest;\r\n          }\r\n          return {\r\n              isFinished: isFinished,\r\n              furthest: parserInput.i,\r\n              furthestPossibleErrorMessage: message,\r\n              furthestReachedEnd: parserInput.i >= input.length - 1,\r\n              furthestChar: input[parserInput.i]\r\n          };\r\n      };\r\n      return parserInput;\r\n  });\n\n  //\r\n  // less.js - parser\r\n  //\r\n  //    A relatively straight-forward predictive parser.\r\n  //    There is no tokenization/lexing stage, the input is parsed\r\n  //    in one sweep.\r\n  //\r\n  //    To make the parser fast enough to run in the browser, several\r\n  //    optimization had to be made:\r\n  //\r\n  //    - Matching and slicing on a huge input is often cause of slowdowns.\r\n  //      The solution is to chunkify the input into smaller strings.\r\n  //      The chunks are stored in the `chunks` var,\r\n  //      `j` holds the current chunk index, and `currentPos` holds\r\n  //      the index of the current chunk in relation to `input`.\r\n  //      This gives us an almost 4x speed-up.\r\n  //\r\n  //    - In many cases, we don't need to match individual tokens;\r\n  //      for example, if a value doesn't hold any variables, operations\r\n  //      or dynamic references, the parser can effectively 'skip' it,\r\n  //      treating it as a literal.\r\n  //      An example would be '1px solid #000' - which evaluates to itself,\r\n  //      we don't need to know what the individual components are.\r\n  //      The drawback, of course is that you don't get the benefits of\r\n  //      syntax-checking on the CSS. This gives us a 50% speed-up in the parser,\r\n  //      and a smaller speed-up in the code-gen.\r\n  //\r\n  //\r\n  //    Token matching is done with the `$` function, which either takes\r\n  //    a terminal string or regexp, or a non-terminal function to call.\r\n  //    It also takes care of moving all the indices forwards.\r\n  //\r\n  var Parser = function Parser(context, imports, fileInfo) {\r\n      var parsers;\r\n      var parserInput = getParserInput();\r\n      function error(msg, type) {\r\n          throw new LessError({\r\n              index: parserInput.i,\r\n              filename: fileInfo.filename,\r\n              type: type || 'Syntax',\r\n              message: msg\r\n          }, imports);\r\n      }\r\n      function expect(arg, msg) {\r\n          // some older browsers return typeof 'function' for RegExp\r\n          var result = (arg instanceof Function) ? arg.call(parsers) : parserInput.$re(arg);\r\n          if (result) {\r\n              return result;\r\n          }\r\n          error(msg || (typeof arg === 'string'\r\n              ? \"expected '\" + arg + \"' got '\" + parserInput.currentChar() + \"'\"\r\n              : 'unexpected token'));\r\n      }\r\n      // Specialization of expect()\r\n      function expectChar(arg, msg) {\r\n          if (parserInput.$char(arg)) {\r\n              return arg;\r\n          }\r\n          error(msg || \"expected '\" + arg + \"' got '\" + parserInput.currentChar() + \"'\");\r\n      }\r\n      function getDebugInfo(index) {\r\n          var filename = fileInfo.filename;\r\n          return {\r\n              lineNumber: getLocation(index, parserInput.getInput()).line + 1,\r\n              fileName: filename\r\n          };\r\n      }\r\n      /**\r\n       *  Used after initial parsing to create nodes on the fly\r\n       *\r\n       *  @param {String} str          - string to parse\r\n       *  @param {Array}  parseList    - array of parsers to run input through e.g. [\"value\", \"important\"]\r\n       *  @param {Number} currentIndex - start number to begin indexing\r\n       *  @param {Object} fileInfo     - fileInfo to attach to created nodes\r\n       */\r\n      function parseNode(str, parseList, currentIndex, fileInfo, callback) {\r\n          var result;\r\n          var returnNodes = [];\r\n          var parser = parserInput;\r\n          try {\r\n              parser.start(str, false, function fail(msg, index) {\r\n                  callback({\r\n                      message: msg,\r\n                      index: index + currentIndex\r\n                  });\r\n              });\r\n              for (var x = 0, p = void 0, i = void 0; (p = parseList[x]); x++) {\r\n                  i = parser.i;\r\n                  result = parsers[p]();\r\n                  if (result) {\r\n                      try {\r\n                          result._index = i + currentIndex;\r\n                          result._fileInfo = fileInfo;\r\n                      }\r\n                      catch (e) { }\r\n                      returnNodes.push(result);\r\n                  }\r\n                  else {\r\n                      returnNodes.push(null);\r\n                  }\r\n              }\r\n              var endInfo = parser.end();\r\n              if (endInfo.isFinished) {\r\n                  callback(null, returnNodes);\r\n              }\r\n              else {\r\n                  callback(true, null);\r\n              }\r\n          }\r\n          catch (e) {\r\n              throw new LessError({\r\n                  index: e.index + currentIndex,\r\n                  message: e.message\r\n              }, imports, fileInfo.filename);\r\n          }\r\n      }\r\n      //\r\n      // The Parser\r\n      //\r\n      return {\r\n          parserInput: parserInput,\r\n          imports: imports,\r\n          fileInfo: fileInfo,\r\n          parseNode: parseNode,\r\n          //\r\n          // Parse an input string into an abstract syntax tree,\r\n          // @param str A string containing 'less' markup\r\n          // @param callback call `callback` when done.\r\n          // @param [additionalData] An optional map which can contains vars - a map (key, value) of variables to apply\r\n          //\r\n          parse: function (str, callback, additionalData) {\r\n              var root;\r\n              var error = null;\r\n              var globalVars;\r\n              var modifyVars;\r\n              var ignored;\r\n              var preText = '';\r\n              globalVars = (additionalData && additionalData.globalVars) ? Parser.serializeVars(additionalData.globalVars) + \"\\n\" : '';\r\n              modifyVars = (additionalData && additionalData.modifyVars) ? \"\\n\" + Parser.serializeVars(additionalData.modifyVars) : '';\r\n              if (context.pluginManager) {\r\n                  var preProcessors = context.pluginManager.getPreProcessors();\r\n                  for (var i = 0; i < preProcessors.length; i++) {\r\n                      str = preProcessors[i].process(str, { context: context, imports: imports, fileInfo: fileInfo });\r\n                  }\r\n              }\r\n              if (globalVars || (additionalData && additionalData.banner)) {\r\n                  preText = ((additionalData && additionalData.banner) ? additionalData.banner : '') + globalVars;\r\n                  ignored = imports.contentsIgnoredChars;\r\n                  ignored[fileInfo.filename] = ignored[fileInfo.filename] || 0;\r\n                  ignored[fileInfo.filename] += preText.length;\r\n              }\r\n              str = str.replace(/\\r\\n?/g, '\\n');\r\n              // Remove potential UTF Byte Order Mark\r\n              str = preText + str.replace(/^\\uFEFF/, '') + modifyVars;\r\n              imports.contents[fileInfo.filename] = str;\r\n              // Start with the primary rule.\r\n              // The whole syntax tree is held under a Ruleset node,\r\n              // with the `root` property set to true, so no `{}` are\r\n              // output. The callback is called when the input is parsed.\r\n              try {\r\n                  parserInput.start(str, context.chunkInput, function fail(msg, index) {\r\n                      throw new LessError({\r\n                          index: index,\r\n                          type: 'Parse',\r\n                          message: msg,\r\n                          filename: fileInfo.filename\r\n                      }, imports);\r\n                  });\r\n                  tree.Node.prototype.parse = this;\r\n                  root = new tree.Ruleset(null, this.parsers.primary());\r\n                  tree.Node.prototype.rootNode = root;\r\n                  root.root = true;\r\n                  root.firstRoot = true;\r\n                  root.functionRegistry = functionRegistry.inherit();\r\n              }\r\n              catch (e) {\r\n                  return callback(new LessError(e, imports, fileInfo.filename));\r\n              }\r\n              // If `i` is smaller than the `input.length - 1`,\r\n              // it means the parser wasn't able to parse the whole\r\n              // string, so we've got a parsing error.\r\n              //\r\n              // We try to extract a \\n delimited string,\r\n              // showing the line where the parse error occurred.\r\n              // We split it up into two parts (the part which parsed,\r\n              // and the part which didn't), so we can color them differently.\r\n              var endInfo = parserInput.end();\r\n              if (!endInfo.isFinished) {\r\n                  var message = endInfo.furthestPossibleErrorMessage;\r\n                  if (!message) {\r\n                      message = 'Unrecognised input';\r\n                      if (endInfo.furthestChar === '}') {\r\n                          message += '. Possibly missing opening \\'{\\'';\r\n                      }\r\n                      else if (endInfo.furthestChar === ')') {\r\n                          message += '. Possibly missing opening \\'(\\'';\r\n                      }\r\n                      else if (endInfo.furthestReachedEnd) {\r\n                          message += '. Possibly missing something';\r\n                      }\r\n                  }\r\n                  error = new LessError({\r\n                      type: 'Parse',\r\n                      message: message,\r\n                      index: endInfo.furthest,\r\n                      filename: fileInfo.filename\r\n                  }, imports);\r\n              }\r\n              var finish = function (e) {\r\n                  e = error || e || imports.error;\r\n                  if (e) {\r\n                      if (!(e instanceof LessError)) {\r\n                          e = new LessError(e, imports, fileInfo.filename);\r\n                      }\r\n                      return callback(e);\r\n                  }\r\n                  else {\r\n                      return callback(null, root);\r\n                  }\r\n              };\r\n              if (context.processImports !== false) {\r\n                  new visitors.ImportVisitor(imports, finish)\r\n                      .run(root);\r\n              }\r\n              else {\r\n                  return finish();\r\n              }\r\n          },\r\n          //\r\n          // Here in, the parsing rules/functions\r\n          //\r\n          // The basic structure of the syntax tree generated is as follows:\r\n          //\r\n          //   Ruleset ->  Declaration -> Value -> Expression -> Entity\r\n          //\r\n          // Here's some Less code:\r\n          //\r\n          //    .class {\r\n          //      color: #fff;\r\n          //      border: 1px solid #000;\r\n          //      width: @w + 4px;\r\n          //      > .child {...}\r\n          //    }\r\n          //\r\n          // And here's what the parse tree might look like:\r\n          //\r\n          //     Ruleset (Selector '.class', [\r\n          //         Declaration (\"color\",  Value ([Expression [Color #fff]]))\r\n          //         Declaration (\"border\", Value ([Expression [Dimension 1px][Keyword \"solid\"][Color #000]]))\r\n          //         Declaration (\"width\",  Value ([Expression [Operation \" + \" [Variable \"@w\"][Dimension 4px]]]))\r\n          //         Ruleset (Selector [Element '>', '.child'], [...])\r\n          //     ])\r\n          //\r\n          //  In general, most rules will try to parse a token with the `$re()` function, and if the return\r\n          //  value is truly, will return a new node, of the relevant type. Sometimes, we need to check\r\n          //  first, before parsing, that's when we use `peek()`.\r\n          //\r\n          parsers: parsers = {\r\n              //\r\n              // The `primary` rule is the *entry* and *exit* point of the parser.\r\n              // The rules here can appear at any level of the parse tree.\r\n              //\r\n              // The recursive nature of the grammar is an interplay between the `block`\r\n              // rule, which represents `{ ... }`, the `ruleset` rule, and this `primary` rule,\r\n              // as represented by this simplified grammar:\r\n              //\r\n              //     primary  →  (ruleset | declaration)+\r\n              //     ruleset  →  selector+ block\r\n              //     block    →  '{' primary '}'\r\n              //\r\n              // Only at one point is the primary rule not called from the\r\n              // block rule: at the root level.\r\n              //\r\n              primary: function () {\r\n                  var mixin = this.mixin;\r\n                  var root = [];\r\n                  var node;\r\n                  while (true) {\r\n                      while (true) {\r\n                          node = this.comment();\r\n                          if (!node) {\r\n                              break;\r\n                          }\r\n                          root.push(node);\r\n                      }\r\n                      // always process comments before deciding if finished\r\n                      if (parserInput.finished) {\r\n                          break;\r\n                      }\r\n                      if (parserInput.peek('}')) {\r\n                          break;\r\n                      }\r\n                      node = this.extendRule();\r\n                      if (node) {\r\n                          root = root.concat(node);\r\n                          continue;\r\n                      }\r\n                      node = mixin.definition() || this.declaration() || mixin.call(false, false) ||\r\n                          this.ruleset() || this.variableCall() || this.entities.call() || this.atrule();\r\n                      if (node) {\r\n                          root.push(node);\r\n                      }\r\n                      else {\r\n                          var foundSemiColon = false;\r\n                          while (parserInput.$char(';')) {\r\n                              foundSemiColon = true;\r\n                          }\r\n                          if (!foundSemiColon) {\r\n                              break;\r\n                          }\r\n                      }\r\n                  }\r\n                  return root;\r\n              },\r\n              // comments are collected by the main parsing mechanism and then assigned to nodes\r\n              // where the current structure allows it\r\n              comment: function () {\r\n                  if (parserInput.commentStore.length) {\r\n                      var comment = parserInput.commentStore.shift();\r\n                      return new (tree.Comment)(comment.text, comment.isLineComment, comment.index, fileInfo);\r\n                  }\r\n              },\r\n              //\r\n              // Entities are tokens which can be found inside an Expression\r\n              //\r\n              entities: {\r\n                  mixinLookup: function () {\r\n                      return parsers.mixin.call(true, true);\r\n                  },\r\n                  //\r\n                  // A string, which supports escaping \" and '\r\n                  //\r\n                  //     \"milky way\" 'he\\'s the one!'\r\n                  //\r\n                  quoted: function (forceEscaped) {\r\n                      var str;\r\n                      var index = parserInput.i;\r\n                      var isEscaped = false;\r\n                      parserInput.save();\r\n                      if (parserInput.$char('~')) {\r\n                          isEscaped = true;\r\n                      }\r\n                      else if (forceEscaped) {\r\n                          parserInput.restore();\r\n                          return;\r\n                      }\r\n                      str = parserInput.$quoted();\r\n                      if (!str) {\r\n                          parserInput.restore();\r\n                          return;\r\n                      }\r\n                      parserInput.forget();\r\n                      return new (tree.Quoted)(str.charAt(0), str.substr(1, str.length - 2), isEscaped, index, fileInfo);\r\n                  },\r\n                  //\r\n                  // A catch-all word, such as:\r\n                  //\r\n                  //     black border-collapse\r\n                  //\r\n                  keyword: function () {\r\n                      var k = parserInput.$char('%') || parserInput.$re(/^\\[?(?:[\\w-]|\\\\(?:[A-Fa-f0-9]{1,6} ?|[^A-Fa-f0-9]))+\\]?/);\r\n                      if (k) {\r\n                          return tree.Color.fromKeyword(k) || new (tree.Keyword)(k);\r\n                      }\r\n                  },\r\n                  //\r\n                  // A function call\r\n                  //\r\n                  //     rgb(255, 0, 255)\r\n                  //\r\n                  // The arguments are parsed with the `entities.arguments` parser.\r\n                  //\r\n                  call: function () {\r\n                      var name;\r\n                      var args;\r\n                      var func;\r\n                      var index = parserInput.i;\r\n                      // http://jsperf.com/case-insensitive-regex-vs-strtolower-then-regex/18\r\n                      if (parserInput.peek(/^url\\(/i)) {\r\n                          return;\r\n                      }\r\n                      parserInput.save();\r\n                      name = parserInput.$re(/^([\\w-]+|%|progid:[\\w\\.]+)\\(/);\r\n                      if (!name) {\r\n                          parserInput.forget();\r\n                          return;\r\n                      }\r\n                      name = name[1];\r\n                      func = this.customFuncCall(name);\r\n                      if (func) {\r\n                          args = func.parse();\r\n                          if (args && func.stop) {\r\n                              parserInput.forget();\r\n                              return args;\r\n                          }\r\n                      }\r\n                      args = this.arguments(args);\r\n                      if (!parserInput.$char(')')) {\r\n                          parserInput.restore('Could not parse call arguments or missing \\')\\'');\r\n                          return;\r\n                      }\r\n                      parserInput.forget();\r\n                      return new (tree.Call)(name, args, index, fileInfo);\r\n                  },\r\n                  //\r\n                  // Parsing rules for functions with non-standard args, e.g.:\r\n                  //\r\n                  //     boolean(not(2 > 1))\r\n                  //\r\n                  //     This is a quick prototype, to be modified/improved when\r\n                  //     more custom-parsed funcs come (e.g. `selector(...)`)\r\n                  //\r\n                  customFuncCall: function (name) {\r\n                      /* Ideally the table is to be moved out of here for faster perf.,\r\n                         but it's quite tricky since it relies on all these `parsers`\r\n                         and `expect` available only here */\r\n                      return {\r\n                          alpha: f(parsers.ieAlpha, true),\r\n                          boolean: f(condition),\r\n                          'if': f(condition)\r\n                      }[name.toLowerCase()];\r\n                      function f(parse, stop) {\r\n                          return {\r\n                              parse: parse,\r\n                              stop: stop // when true - stop after parse() and return its result, \r\n                              // otherwise continue for plain args\r\n                          };\r\n                      }\r\n                      function condition() {\r\n                          return [expect(parsers.condition, 'expected condition')];\r\n                      }\r\n                  },\r\n                  arguments: function (prevArgs) {\r\n                      var argsComma = prevArgs || [];\r\n                      var argsSemiColon = [];\r\n                      var isSemiColonSeparated;\r\n                      var value;\r\n                      parserInput.save();\r\n                      while (true) {\r\n                          if (prevArgs) {\r\n                              prevArgs = false;\r\n                          }\r\n                          else {\r\n                              value = parsers.detachedRuleset() || this.assignment() || parsers.expression();\r\n                              if (!value) {\r\n                                  break;\r\n                              }\r\n                              if (value.value && value.value.length == 1) {\r\n                                  value = value.value[0];\r\n                              }\r\n                              argsComma.push(value);\r\n                          }\r\n                          if (parserInput.$char(',')) {\r\n                              continue;\r\n                          }\r\n                          if (parserInput.$char(';') || isSemiColonSeparated) {\r\n                              isSemiColonSeparated = true;\r\n                              value = (argsComma.length < 1) ? argsComma[0]\r\n                                  : new tree.Value(argsComma);\r\n                              argsSemiColon.push(value);\r\n                              argsComma = [];\r\n                          }\r\n                      }\r\n                      parserInput.forget();\r\n                      return isSemiColonSeparated ? argsSemiColon : argsComma;\r\n                  },\r\n                  literal: function () {\r\n                      return this.dimension() ||\r\n                          this.color() ||\r\n                          this.quoted() ||\r\n                          this.unicodeDescriptor();\r\n                  },\r\n                  // Assignments are argument entities for calls.\r\n                  // They are present in ie filter properties as shown below.\r\n                  //\r\n                  //     filter: progid:DXImageTransform.Microsoft.Alpha( *opacity=50* )\r\n                  //\r\n                  assignment: function () {\r\n                      var key;\r\n                      var value;\r\n                      parserInput.save();\r\n                      key = parserInput.$re(/^\\w+(?=\\s?=)/i);\r\n                      if (!key) {\r\n                          parserInput.restore();\r\n                          return;\r\n                      }\r\n                      if (!parserInput.$char('=')) {\r\n                          parserInput.restore();\r\n                          return;\r\n                      }\r\n                      value = parsers.entity();\r\n                      if (value) {\r\n                          parserInput.forget();\r\n                          return new (tree.Assignment)(key, value);\r\n                      }\r\n                      else {\r\n                          parserInput.restore();\r\n                      }\r\n                  },\r\n                  //\r\n                  // Parse url() tokens\r\n                  //\r\n                  // We use a specific rule for urls, because they don't really behave like\r\n                  // standard function calls. The difference is that the argument doesn't have\r\n                  // to be enclosed within a string, so it can't be parsed as an Expression.\r\n                  //\r\n                  url: function () {\r\n                      var value;\r\n                      var index = parserInput.i;\r\n                      parserInput.autoCommentAbsorb = false;\r\n                      if (!parserInput.$str('url(')) {\r\n                          parserInput.autoCommentAbsorb = true;\r\n                          return;\r\n                      }\r\n                      value = this.quoted() || this.variable() || this.property() ||\r\n                          parserInput.$re(/^(?:(?:\\\\[\\(\\)'\"])|[^\\(\\)'\"])+/) || '';\r\n                      parserInput.autoCommentAbsorb = true;\r\n                      expectChar(')');\r\n                      return new (tree.URL)((value.value != null ||\r\n                          value instanceof tree.Variable ||\r\n                          value instanceof tree.Property) ?\r\n                          value : new (tree.Anonymous)(value, index), index, fileInfo);\r\n                  },\r\n                  //\r\n                  // A Variable entity, such as `@fink`, in\r\n                  //\r\n                  //     width: @fink + 2px\r\n                  //\r\n                  // We use a different parser for variable definitions,\r\n                  // see `parsers.variable`.\r\n                  //\r\n                  variable: function () {\r\n                      var ch;\r\n                      var name;\r\n                      var index = parserInput.i;\r\n                      parserInput.save();\r\n                      if (parserInput.currentChar() === '@' && (name = parserInput.$re(/^@@?[\\w-]+/))) {\r\n                          ch = parserInput.currentChar();\r\n                          if (ch === '(' || ch === '[' && !parserInput.prevChar().match(/^\\s/)) {\r\n                              // this may be a VariableCall lookup\r\n                              var result = parsers.variableCall(name);\r\n                              if (result) {\r\n                                  parserInput.forget();\r\n                                  return result;\r\n                              }\r\n                          }\r\n                          parserInput.forget();\r\n                          return new (tree.Variable)(name, index, fileInfo);\r\n                      }\r\n                      parserInput.restore();\r\n                  },\r\n                  // A variable entity using the protective {} e.g. @{var}\r\n                  variableCurly: function () {\r\n                      var curly;\r\n                      var index = parserInput.i;\r\n                      if (parserInput.currentChar() === '@' && (curly = parserInput.$re(/^@\\{([\\w-]+)\\}/))) {\r\n                          return new (tree.Variable)(\"@\" + curly[1], index, fileInfo);\r\n                      }\r\n                  },\r\n                  //\r\n                  // A Property accessor, such as `$color`, in\r\n                  //\r\n                  //     background-color: $color\r\n                  //\r\n                  property: function () {\r\n                      var name;\r\n                      var index = parserInput.i;\r\n                      if (parserInput.currentChar() === '$' && (name = parserInput.$re(/^\\$[\\w-]+/))) {\r\n                          return new (tree.Property)(name, index, fileInfo);\r\n                      }\r\n                  },\r\n                  // A property entity useing the protective {} e.g. ${prop}\r\n                  propertyCurly: function () {\r\n                      var curly;\r\n                      var index = parserInput.i;\r\n                      if (parserInput.currentChar() === '$' && (curly = parserInput.$re(/^\\$\\{([\\w-]+)\\}/))) {\r\n                          return new (tree.Property)(\"$\" + curly[1], index, fileInfo);\r\n                      }\r\n                  },\r\n                  //\r\n                  // A Hexadecimal color\r\n                  //\r\n                  //     #4F3C2F\r\n                  //\r\n                  // `rgb` and `hsl` colors are parsed through the `entities.call` parser.\r\n                  //\r\n                  color: function () {\r\n                      var rgb;\r\n                      parserInput.save();\r\n                      if (parserInput.currentChar() === '#' && (rgb = parserInput.$re(/^#([A-Fa-f0-9]{8}|[A-Fa-f0-9]{6}|[A-Fa-f0-9]{3,4})([\\w.#\\[])?/))) {\r\n                          if (!rgb[2]) {\r\n                              parserInput.forget();\r\n                              return new (tree.Color)(rgb[1], undefined, rgb[0]);\r\n                          }\r\n                      }\r\n                      parserInput.restore();\r\n                  },\r\n                  colorKeyword: function () {\r\n                      parserInput.save();\r\n                      var autoCommentAbsorb = parserInput.autoCommentAbsorb;\r\n                      parserInput.autoCommentAbsorb = false;\r\n                      var k = parserInput.$re(/^[_A-Za-z-][_A-Za-z0-9-]+/);\r\n                      parserInput.autoCommentAbsorb = autoCommentAbsorb;\r\n                      if (!k) {\r\n                          parserInput.forget();\r\n                          return;\r\n                      }\r\n                      parserInput.restore();\r\n                      var color = tree.Color.fromKeyword(k);\r\n                      if (color) {\r\n                          parserInput.$str(k);\r\n                          return color;\r\n                      }\r\n                  },\r\n                  //\r\n                  // A Dimension, that is, a number and a unit\r\n                  //\r\n                  //     0.5em 95%\r\n                  //\r\n                  dimension: function () {\r\n                      if (parserInput.peekNotNumeric()) {\r\n                          return;\r\n                      }\r\n                      var value = parserInput.$re(/^([+-]?\\d*\\.?\\d+)(%|[a-z_]+)?/i);\r\n                      if (value) {\r\n                          return new (tree.Dimension)(value[1], value[2]);\r\n                      }\r\n                  },\r\n                  //\r\n                  // A unicode descriptor, as is used in unicode-range\r\n                  //\r\n                  // U+0??  or U+00A1-00A9\r\n                  //\r\n                  unicodeDescriptor: function () {\r\n                      var ud;\r\n                      ud = parserInput.$re(/^U\\+[0-9a-fA-F?]+(\\-[0-9a-fA-F?]+)?/);\r\n                      if (ud) {\r\n                          return new (tree.UnicodeDescriptor)(ud[0]);\r\n                      }\r\n                  },\r\n                  //\r\n                  // JavaScript code to be evaluated\r\n                  //\r\n                  //     `window.location.href`\r\n                  //\r\n                  javascript: function () {\r\n                      var js;\r\n                      var index = parserInput.i;\r\n                      parserInput.save();\r\n                      var escape = parserInput.$char('~');\r\n                      var jsQuote = parserInput.$char('`');\r\n                      if (!jsQuote) {\r\n                          parserInput.restore();\r\n                          return;\r\n                      }\r\n                      js = parserInput.$re(/^[^`]*`/);\r\n                      if (js) {\r\n                          parserInput.forget();\r\n                          return new (tree.JavaScript)(js.substr(0, js.length - 1), Boolean(escape), index, fileInfo);\r\n                      }\r\n                      parserInput.restore('invalid javascript definition');\r\n                  }\r\n              },\r\n              //\r\n              // The variable part of a variable definition. Used in the `rule` parser\r\n              //\r\n              //     @fink:\r\n              //\r\n              variable: function () {\r\n                  var name;\r\n                  if (parserInput.currentChar() === '@' && (name = parserInput.$re(/^(@[\\w-]+)\\s*:/))) {\r\n                      return name[1];\r\n                  }\r\n              },\r\n              //\r\n              // Call a variable value to retrieve a detached ruleset\r\n              // or a value from a detached ruleset's rules.\r\n              //\r\n              //     @fink();\r\n              //     @fink;\r\n              //     color: @fink[@color];\r\n              //\r\n              variableCall: function (parsedName) {\r\n                  var lookups;\r\n                  var i = parserInput.i;\r\n                  var inValue = !!parsedName;\r\n                  var name = parsedName;\r\n                  parserInput.save();\r\n                  if (name || (parserInput.currentChar() === '@'\r\n                      && (name = parserInput.$re(/^(@[\\w-]+)(\\(\\s*\\))?/)))) {\r\n                      lookups = this.mixin.ruleLookups();\r\n                      if (!lookups && ((inValue && parserInput.$str('()') !== '()') || (name[2] !== '()'))) {\r\n                          parserInput.restore('Missing \\'[...]\\' lookup in variable call');\r\n                          return;\r\n                      }\r\n                      if (!inValue) {\r\n                          name = name[1];\r\n                      }\r\n                      var call = new tree.VariableCall(name, i, fileInfo);\r\n                      if (!inValue && parsers.end()) {\r\n                          parserInput.forget();\r\n                          return call;\r\n                      }\r\n                      else {\r\n                          parserInput.forget();\r\n                          return new tree.NamespaceValue(call, lookups, i, fileInfo);\r\n                      }\r\n                  }\r\n                  parserInput.restore();\r\n              },\r\n              //\r\n              // extend syntax - used to extend selectors\r\n              //\r\n              extend: function (isRule) {\r\n                  var elements;\r\n                  var e;\r\n                  var index = parserInput.i;\r\n                  var option;\r\n                  var extendList;\r\n                  var extend;\r\n                  if (!parserInput.$str(isRule ? '&:extend(' : ':extend(')) {\r\n                      return;\r\n                  }\r\n                  do {\r\n                      option = null;\r\n                      elements = null;\r\n                      while (!(option = parserInput.$re(/^(all)(?=\\s*(\\)|,))/))) {\r\n                          e = this.element();\r\n                          if (!e) {\r\n                              break;\r\n                          }\r\n                          if (elements) {\r\n                              elements.push(e);\r\n                          }\r\n                          else {\r\n                              elements = [e];\r\n                          }\r\n                      }\r\n                      option = option && option[1];\r\n                      if (!elements) {\r\n                          error('Missing target selector for :extend().');\r\n                      }\r\n                      extend = new (tree.Extend)(new (tree.Selector)(elements), option, index, fileInfo);\r\n                      if (extendList) {\r\n                          extendList.push(extend);\r\n                      }\r\n                      else {\r\n                          extendList = [extend];\r\n                      }\r\n                  } while (parserInput.$char(','));\r\n                  expect(/^\\)/);\r\n                  if (isRule) {\r\n                      expect(/^;/);\r\n                  }\r\n                  return extendList;\r\n              },\r\n              //\r\n              // extendRule - used in a rule to extend all the parent selectors\r\n              //\r\n              extendRule: function () {\r\n                  return this.extend(true);\r\n              },\r\n              //\r\n              // Mixins\r\n              //\r\n              mixin: {\r\n                  //\r\n                  // A Mixin call, with an optional argument list\r\n                  //\r\n                  //     #mixins > .square(#fff);\r\n                  //     #mixins.square(#fff);\r\n                  //     .rounded(4px, black);\r\n                  //     .button;\r\n                  //\r\n                  // We can lookup / return a value using the lookup syntax:\r\n                  //\r\n                  //     color: #mixin.square(#fff)[@color];\r\n                  //\r\n                  // The `while` loop is there because mixins can be\r\n                  // namespaced, but we only support the child and descendant\r\n                  // selector for now.\r\n                  //\r\n                  call: function (inValue, getLookup) {\r\n                      var s = parserInput.currentChar();\r\n                      var important = false;\r\n                      var lookups;\r\n                      var index = parserInput.i;\r\n                      var elements;\r\n                      var args;\r\n                      var hasParens;\r\n                      if (s !== '.' && s !== '#') {\r\n                          return;\r\n                      }\r\n                      parserInput.save(); // stop us absorbing part of an invalid selector\r\n                      elements = this.elements();\r\n                      if (elements) {\r\n                          if (parserInput.$char('(')) {\r\n                              args = this.args(true).args;\r\n                              expectChar(')');\r\n                              hasParens = true;\r\n                          }\r\n                          if (getLookup !== false) {\r\n                              lookups = this.ruleLookups();\r\n                          }\r\n                          if (getLookup === true && !lookups) {\r\n                              parserInput.restore();\r\n                              return;\r\n                          }\r\n                          if (inValue && !lookups && !hasParens) {\r\n                              // This isn't a valid in-value mixin call\r\n                              parserInput.restore();\r\n                              return;\r\n                          }\r\n                          if (!inValue && parsers.important()) {\r\n                              important = true;\r\n                          }\r\n                          if (inValue || parsers.end()) {\r\n                              parserInput.forget();\r\n                              var mixin = new (tree.mixin.Call)(elements, args, index, fileInfo, !lookups && important);\r\n                              if (lookups) {\r\n                                  return new tree.NamespaceValue(mixin, lookups);\r\n                              }\r\n                              else {\r\n                                  return mixin;\r\n                              }\r\n                          }\r\n                      }\r\n                      parserInput.restore();\r\n                  },\r\n                  /**\r\n                   * Matching elements for mixins\r\n                   * (Start with . or # and can have > )\r\n                   */\r\n                  elements: function () {\r\n                      var elements;\r\n                      var e;\r\n                      var c;\r\n                      var elem;\r\n                      var elemIndex;\r\n                      var re = /^[#.](?:[\\w-]|\\\\(?:[A-Fa-f0-9]{1,6} ?|[^A-Fa-f0-9]))+/;\r\n                      while (true) {\r\n                          elemIndex = parserInput.i;\r\n                          e = parserInput.$re(re);\r\n                          if (!e) {\r\n                              break;\r\n                          }\r\n                          elem = new (tree.Element)(c, e, false, elemIndex, fileInfo);\r\n                          if (elements) {\r\n                              elements.push(elem);\r\n                          }\r\n                          else {\r\n                              elements = [elem];\r\n                          }\r\n                          c = parserInput.$char('>');\r\n                      }\r\n                      return elements;\r\n                  },\r\n                  args: function (isCall) {\r\n                      var entities = parsers.entities;\r\n                      var returner = { args: null, variadic: false };\r\n                      var expressions = [];\r\n                      var argsSemiColon = [];\r\n                      var argsComma = [];\r\n                      var isSemiColonSeparated;\r\n                      var expressionContainsNamed;\r\n                      var name;\r\n                      var nameLoop;\r\n                      var value;\r\n                      var arg;\r\n                      var expand;\r\n                      var hasSep = true;\r\n                      parserInput.save();\r\n                      while (true) {\r\n                          if (isCall) {\r\n                              arg = parsers.detachedRuleset() || parsers.expression();\r\n                          }\r\n                          else {\r\n                              parserInput.commentStore.length = 0;\r\n                              if (parserInput.$str('...')) {\r\n                                  returner.variadic = true;\r\n                                  if (parserInput.$char(';') && !isSemiColonSeparated) {\r\n                                      isSemiColonSeparated = true;\r\n                                  }\r\n                                  (isSemiColonSeparated ? argsSemiColon : argsComma)\r\n                                      .push({ variadic: true });\r\n                                  break;\r\n                              }\r\n                              arg = entities.variable() || entities.property() || entities.literal() || entities.keyword() || this.call(true);\r\n                          }\r\n                          if (!arg || !hasSep) {\r\n                              break;\r\n                          }\r\n                          nameLoop = null;\r\n                          if (arg.throwAwayComments) {\r\n                              arg.throwAwayComments();\r\n                          }\r\n                          value = arg;\r\n                          var val = null;\r\n                          if (isCall) {\r\n                              // Variable\r\n                              if (arg.value && arg.value.length == 1) {\r\n                                  val = arg.value[0];\r\n                              }\r\n                          }\r\n                          else {\r\n                              val = arg;\r\n                          }\r\n                          if (val && (val instanceof tree.Variable || val instanceof tree.Property)) {\r\n                              if (parserInput.$char(':')) {\r\n                                  if (expressions.length > 0) {\r\n                                      if (isSemiColonSeparated) {\r\n                                          error('Cannot mix ; and , as delimiter types');\r\n                                      }\r\n                                      expressionContainsNamed = true;\r\n                                  }\r\n                                  value = parsers.detachedRuleset() || parsers.expression();\r\n                                  if (!value) {\r\n                                      if (isCall) {\r\n                                          error('could not understand value for named argument');\r\n                                      }\r\n                                      else {\r\n                                          parserInput.restore();\r\n                                          returner.args = [];\r\n                                          return returner;\r\n                                      }\r\n                                  }\r\n                                  nameLoop = (name = val.name);\r\n                              }\r\n                              else if (parserInput.$str('...')) {\r\n                                  if (!isCall) {\r\n                                      returner.variadic = true;\r\n                                      if (parserInput.$char(';') && !isSemiColonSeparated) {\r\n                                          isSemiColonSeparated = true;\r\n                                      }\r\n                                      (isSemiColonSeparated ? argsSemiColon : argsComma)\r\n                                          .push({ name: arg.name, variadic: true });\r\n                                      break;\r\n                                  }\r\n                                  else {\r\n                                      expand = true;\r\n                                  }\r\n                              }\r\n                              else if (!isCall) {\r\n                                  name = nameLoop = val.name;\r\n                                  value = null;\r\n                              }\r\n                          }\r\n                          if (value) {\r\n                              expressions.push(value);\r\n                          }\r\n                          argsComma.push({ name: nameLoop, value: value, expand: expand });\r\n                          if (parserInput.$char(',')) {\r\n                              hasSep = true;\r\n                              continue;\r\n                          }\r\n                          hasSep = parserInput.$char(';') === ';';\r\n                          if (hasSep || isSemiColonSeparated) {\r\n                              if (expressionContainsNamed) {\r\n                                  error('Cannot mix ; and , as delimiter types');\r\n                              }\r\n                              isSemiColonSeparated = true;\r\n                              if (expressions.length > 1) {\r\n                                  value = new (tree.Value)(expressions);\r\n                              }\r\n                              argsSemiColon.push({ name: name, value: value, expand: expand });\r\n                              name = null;\r\n                              expressions = [];\r\n                              expressionContainsNamed = false;\r\n                          }\r\n                      }\r\n                      parserInput.forget();\r\n                      returner.args = isSemiColonSeparated ? argsSemiColon : argsComma;\r\n                      return returner;\r\n                  },\r\n                  //\r\n                  // A Mixin definition, with a list of parameters\r\n                  //\r\n                  //     .rounded (@radius: 2px, @color) {\r\n                  //        ...\r\n                  //     }\r\n                  //\r\n                  // Until we have a finer grained state-machine, we have to\r\n                  // do a look-ahead, to make sure we don't have a mixin call.\r\n                  // See the `rule` function for more information.\r\n                  //\r\n                  // We start by matching `.rounded (`, and then proceed on to\r\n                  // the argument list, which has optional default values.\r\n                  // We store the parameters in `params`, with a `value` key,\r\n                  // if there is a value, such as in the case of `@radius`.\r\n                  //\r\n                  // Once we've got our params list, and a closing `)`, we parse\r\n                  // the `{...}` block.\r\n                  //\r\n                  definition: function () {\r\n                      var name;\r\n                      var params = [];\r\n                      var match;\r\n                      var ruleset;\r\n                      var cond;\r\n                      var variadic = false;\r\n                      if ((parserInput.currentChar() !== '.' && parserInput.currentChar() !== '#') ||\r\n                          parserInput.peek(/^[^{]*\\}/)) {\r\n                          return;\r\n                      }\r\n                      parserInput.save();\r\n                      match = parserInput.$re(/^([#.](?:[\\w-]|\\\\(?:[A-Fa-f0-9]{1,6} ?|[^A-Fa-f0-9]))+)\\s*\\(/);\r\n                      if (match) {\r\n                          name = match[1];\r\n                          var argInfo = this.args(false);\r\n                          params = argInfo.args;\r\n                          variadic = argInfo.variadic;\r\n                          // .mixincall(\"@{a}\");\r\n                          // looks a bit like a mixin definition..\r\n                          // also\r\n                          // .mixincall(@a: {rule: set;});\r\n                          // so we have to be nice and restore\r\n                          if (!parserInput.$char(')')) {\r\n                              parserInput.restore('Missing closing \\')\\'');\r\n                              return;\r\n                          }\r\n                          parserInput.commentStore.length = 0;\r\n                          if (parserInput.$str('when')) { // Guard\r\n                              cond = expect(parsers.conditions, 'expected condition');\r\n                          }\r\n                          ruleset = parsers.block();\r\n                          if (ruleset) {\r\n                              parserInput.forget();\r\n                              return new (tree.mixin.Definition)(name, params, ruleset, cond, variadic);\r\n                          }\r\n                          else {\r\n                              parserInput.restore();\r\n                          }\r\n                      }\r\n                      else {\r\n                          parserInput.restore();\r\n                      }\r\n                  },\r\n                  ruleLookups: function () {\r\n                      var rule;\r\n                      var lookups = [];\r\n                      if (parserInput.currentChar() !== '[') {\r\n                          return;\r\n                      }\r\n                      while (true) {\r\n                          parserInput.save();\r\n                          rule = this.lookupValue();\r\n                          if (!rule && rule !== '') {\r\n                              parserInput.restore();\r\n                              break;\r\n                          }\r\n                          lookups.push(rule);\r\n                          parserInput.forget();\r\n                      }\r\n                      if (lookups.length > 0) {\r\n                          return lookups;\r\n                      }\r\n                  },\r\n                  lookupValue: function () {\r\n                      parserInput.save();\r\n                      if (!parserInput.$char('[')) {\r\n                          parserInput.restore();\r\n                          return;\r\n                      }\r\n                      var name = parserInput.$re(/^(?:[@$]{0,2})[_a-zA-Z0-9-]*/);\r\n                      if (!parserInput.$char(']')) {\r\n                          parserInput.restore();\r\n                          return;\r\n                      }\r\n                      if (name || name === '') {\r\n                          parserInput.forget();\r\n                          return name;\r\n                      }\r\n                      parserInput.restore();\r\n                  }\r\n              },\r\n              //\r\n              // Entities are the smallest recognized token,\r\n              // and can be found inside a rule's value.\r\n              //\r\n              entity: function () {\r\n                  var entities = this.entities;\r\n                  return this.comment() || entities.literal() || entities.variable() || entities.url() ||\r\n                      entities.property() || entities.call() || entities.keyword() || this.mixin.call(true) ||\r\n                      entities.javascript();\r\n              },\r\n              //\r\n              // A Declaration terminator. Note that we use `peek()` to check for '}',\r\n              // because the `block` rule will be expecting it, but we still need to make sure\r\n              // it's there, if ';' was omitted.\r\n              //\r\n              end: function () {\r\n                  return parserInput.$char(';') || parserInput.peek('}');\r\n              },\r\n              //\r\n              // IE's alpha function\r\n              //\r\n              //     alpha(opacity=88)\r\n              //\r\n              ieAlpha: function () {\r\n                  var value;\r\n                  // http://jsperf.com/case-insensitive-regex-vs-strtolower-then-regex/18\r\n                  if (!parserInput.$re(/^opacity=/i)) {\r\n                      return;\r\n                  }\r\n                  value = parserInput.$re(/^\\d+/);\r\n                  if (!value) {\r\n                      value = expect(parsers.entities.variable, 'Could not parse alpha');\r\n                      value = \"@{\" + value.name.slice(1) + \"}\";\r\n                  }\r\n                  expectChar(')');\r\n                  return new tree.Quoted('', \"alpha(opacity=\" + value + \")\");\r\n              },\r\n              //\r\n              // A Selector Element\r\n              //\r\n              //     div\r\n              //     + h1\r\n              //     #socks\r\n              //     input[type=\"text\"]\r\n              //\r\n              // Elements are the building blocks for Selectors,\r\n              // they are made out of a `Combinator` (see combinator rule),\r\n              // and an element name, such as a tag a class, or `*`.\r\n              //\r\n              element: function () {\r\n                  var e;\r\n                  var c;\r\n                  var v;\r\n                  var index = parserInput.i;\r\n                  c = this.combinator();\r\n                  e = parserInput.$re(/^(?:\\d+\\.\\d+|\\d+)%/) ||\r\n                      parserInput.$re(/^(?:[.#]?|:*)(?:[\\w-]|[^\\x00-\\x9f]|\\\\(?:[A-Fa-f0-9]{1,6} ?|[^A-Fa-f0-9]))+/) ||\r\n                      parserInput.$char('*') || parserInput.$char('&') || this.attribute() ||\r\n                      parserInput.$re(/^\\([^&()@]+\\)/) || parserInput.$re(/^[\\.#:](?=@)/) ||\r\n                      this.entities.variableCurly();\r\n                  if (!e) {\r\n                      parserInput.save();\r\n                      if (parserInput.$char('(')) {\r\n                          if ((v = this.selector(false)) && parserInput.$char(')')) {\r\n                              e = new (tree.Paren)(v);\r\n                              parserInput.forget();\r\n                          }\r\n                          else {\r\n                              parserInput.restore('Missing closing \\')\\'');\r\n                          }\r\n                      }\r\n                      else {\r\n                          parserInput.forget();\r\n                      }\r\n                  }\r\n                  if (e) {\r\n                      return new (tree.Element)(c, e, e instanceof tree.Variable, index, fileInfo);\r\n                  }\r\n              },\r\n              //\r\n              // Combinators combine elements together, in a Selector.\r\n              //\r\n              // Because our parser isn't white-space sensitive, special care\r\n              // has to be taken, when parsing the descendant combinator, ` `,\r\n              // as it's an empty space. We have to check the previous character\r\n              // in the input, to see if it's a ` ` character. More info on how\r\n              // we deal with this in *combinator.js*.\r\n              //\r\n              combinator: function () {\r\n                  var c = parserInput.currentChar();\r\n                  if (c === '/') {\r\n                      parserInput.save();\r\n                      var slashedCombinator = parserInput.$re(/^\\/[a-z]+\\//i);\r\n                      if (slashedCombinator) {\r\n                          parserInput.forget();\r\n                          return new (tree.Combinator)(slashedCombinator);\r\n                      }\r\n                      parserInput.restore();\r\n                  }\r\n                  if (c === '>' || c === '+' || c === '~' || c === '|' || c === '^') {\r\n                      parserInput.i++;\r\n                      if (c === '^' && parserInput.currentChar() === '^') {\r\n                          c = '^^';\r\n                          parserInput.i++;\r\n                      }\r\n                      while (parserInput.isWhitespace()) {\r\n                          parserInput.i++;\r\n                      }\r\n                      return new (tree.Combinator)(c);\r\n                  }\r\n                  else if (parserInput.isWhitespace(-1)) {\r\n                      return new (tree.Combinator)(' ');\r\n                  }\r\n                  else {\r\n                      return new (tree.Combinator)(null);\r\n                  }\r\n              },\r\n              //\r\n              // A CSS Selector\r\n              // with less extensions e.g. the ability to extend and guard\r\n              //\r\n              //     .class > div + h1\r\n              //     li a:hover\r\n              //\r\n              // Selectors are made out of one or more Elements, see above.\r\n              //\r\n              selector: function (isLess) {\r\n                  var index = parserInput.i;\r\n                  var elements;\r\n                  var extendList;\r\n                  var c;\r\n                  var e;\r\n                  var allExtends;\r\n                  var when;\r\n                  var condition;\r\n                  isLess = isLess !== false;\r\n                  while ((isLess && (extendList = this.extend())) || (isLess && (when = parserInput.$str('when'))) || (e = this.element())) {\r\n                      if (when) {\r\n                          condition = expect(this.conditions, 'expected condition');\r\n                      }\r\n                      else if (condition) {\r\n                          error('CSS guard can only be used at the end of selector');\r\n                      }\r\n                      else if (extendList) {\r\n                          if (allExtends) {\r\n                              allExtends = allExtends.concat(extendList);\r\n                          }\r\n                          else {\r\n                              allExtends = extendList;\r\n                          }\r\n                      }\r\n                      else {\r\n                          if (allExtends) {\r\n                              error('Extend can only be used at the end of selector');\r\n                          }\r\n                          c = parserInput.currentChar();\r\n                          if (elements) {\r\n                              elements.push(e);\r\n                          }\r\n                          else {\r\n                              elements = [e];\r\n                          }\r\n                          e = null;\r\n                      }\r\n                      if (c === '{' || c === '}' || c === ';' || c === ',' || c === ')') {\r\n                          break;\r\n                      }\r\n                  }\r\n                  if (elements) {\r\n                      return new (tree.Selector)(elements, allExtends, condition, index, fileInfo);\r\n                  }\r\n                  if (allExtends) {\r\n                      error('Extend must be used to extend a selector, it cannot be used on its own');\r\n                  }\r\n              },\r\n              selectors: function () {\r\n                  var s;\r\n                  var selectors;\r\n                  while (true) {\r\n                      s = this.selector();\r\n                      if (!s) {\r\n                          break;\r\n                      }\r\n                      if (selectors) {\r\n                          selectors.push(s);\r\n                      }\r\n                      else {\r\n                          selectors = [s];\r\n                      }\r\n                      parserInput.commentStore.length = 0;\r\n                      if (s.condition && selectors.length > 1) {\r\n                          error(\"Guards are only currently allowed on a single selector.\");\r\n                      }\r\n                      if (!parserInput.$char(',')) {\r\n                          break;\r\n                      }\r\n                      if (s.condition) {\r\n                          error(\"Guards are only currently allowed on a single selector.\");\r\n                      }\r\n                      parserInput.commentStore.length = 0;\r\n                  }\r\n                  return selectors;\r\n              },\r\n              attribute: function () {\r\n                  if (!parserInput.$char('[')) {\r\n                      return;\r\n                  }\r\n                  var entities = this.entities;\r\n                  var key;\r\n                  var val;\r\n                  var op;\r\n                  if (!(key = entities.variableCurly())) {\r\n                      key = expect(/^(?:[_A-Za-z0-9-\\*]*\\|)?(?:[_A-Za-z0-9-]|\\\\.)+/);\r\n                  }\r\n                  op = parserInput.$re(/^[|~*$^]?=/);\r\n                  if (op) {\r\n                      val = entities.quoted() || parserInput.$re(/^[0-9]+%/) || parserInput.$re(/^[\\w-]+/) || entities.variableCurly();\r\n                  }\r\n                  expectChar(']');\r\n                  return new (tree.Attribute)(key, op, val);\r\n              },\r\n              //\r\n              // The `block` rule is used by `ruleset` and `mixin.definition`.\r\n              // It's a wrapper around the `primary` rule, with added `{}`.\r\n              //\r\n              block: function () {\r\n                  var content;\r\n                  if (parserInput.$char('{') && (content = this.primary()) && parserInput.$char('}')) {\r\n                      return content;\r\n                  }\r\n              },\r\n              blockRuleset: function () {\r\n                  var block = this.block();\r\n                  if (block) {\r\n                      block = new tree.Ruleset(null, block);\r\n                  }\r\n                  return block;\r\n              },\r\n              detachedRuleset: function () {\r\n                  var argInfo;\r\n                  var params;\r\n                  var variadic;\r\n                  parserInput.save();\r\n                  if (parserInput.$re(/^[.#]\\(/)) {\r\n                      /**\r\n                       * DR args currently only implemented for each() function, and not\r\n                       * yet settable as `@dr: #(@arg) {}`\r\n                       * This should be done when DRs are merged with mixins.\r\n                       * See: https://github.com/less/less-meta/issues/16\r\n                       */\r\n                      argInfo = this.mixin.args(false);\r\n                      params = argInfo.args;\r\n                      variadic = argInfo.variadic;\r\n                      if (!parserInput.$char(')')) {\r\n                          parserInput.restore();\r\n                          return;\r\n                      }\r\n                  }\r\n                  var blockRuleset = this.blockRuleset();\r\n                  if (blockRuleset) {\r\n                      parserInput.forget();\r\n                      if (params) {\r\n                          return new tree.mixin.Definition(null, params, blockRuleset, null, variadic);\r\n                      }\r\n                      return new tree.DetachedRuleset(blockRuleset);\r\n                  }\r\n                  parserInput.restore();\r\n              },\r\n              //\r\n              // div, .class, body > p {...}\r\n              //\r\n              ruleset: function () {\r\n                  var selectors;\r\n                  var rules;\r\n                  var debugInfo;\r\n                  parserInput.save();\r\n                  if (context.dumpLineNumbers) {\r\n                      debugInfo = getDebugInfo(parserInput.i);\r\n                  }\r\n                  selectors = this.selectors();\r\n                  if (selectors && (rules = this.block())) {\r\n                      parserInput.forget();\r\n                      var ruleset = new (tree.Ruleset)(selectors, rules, context.strictImports);\r\n                      if (context.dumpLineNumbers) {\r\n                          ruleset.debugInfo = debugInfo;\r\n                      }\r\n                      return ruleset;\r\n                  }\r\n                  else {\r\n                      parserInput.restore();\r\n                  }\r\n              },\r\n              declaration: function () {\r\n                  var name;\r\n                  var value;\r\n                  var index = parserInput.i;\r\n                  var hasDR;\r\n                  var c = parserInput.currentChar();\r\n                  var important;\r\n                  var merge;\r\n                  var isVariable;\r\n                  if (c === '.' || c === '#' || c === '&' || c === ':') {\r\n                      return;\r\n                  }\r\n                  parserInput.save();\r\n                  name = this.variable() || this.ruleProperty();\r\n                  if (name) {\r\n                      isVariable = typeof name === 'string';\r\n                      if (isVariable) {\r\n                          value = this.detachedRuleset();\r\n                          if (value) {\r\n                              hasDR = true;\r\n                          }\r\n                      }\r\n                      parserInput.commentStore.length = 0;\r\n                      if (!value) {\r\n                          // a name returned by this.ruleProperty() is always an array of the form:\r\n                          // [string-1, ..., string-n, \"\"] or [string-1, ..., string-n, \"+\"]\r\n                          // where each item is a tree.Keyword or tree.Variable\r\n                          merge = !isVariable && name.length > 1 && name.pop().value;\r\n                          // Custom property values get permissive parsing\r\n                          if (name[0].value && name[0].value.slice(0, 2) === '--') {\r\n                              value = this.permissiveValue();\r\n                          }\r\n                          // Try to store values as anonymous\r\n                          // If we need the value later we'll re-parse it in ruleset.parseValue\r\n                          else {\r\n                              value = this.anonymousValue();\r\n                          }\r\n                          if (value) {\r\n                              parserInput.forget();\r\n                              // anonymous values absorb the end ';' which is required for them to work\r\n                              return new (tree.Declaration)(name, value, false, merge, index, fileInfo);\r\n                          }\r\n                          if (!value) {\r\n                              value = this.value();\r\n                          }\r\n                          if (value) {\r\n                              important = this.important();\r\n                          }\r\n                          else if (isVariable) {\r\n                              // As a last resort, try permissiveValue\r\n                              value = this.permissiveValue();\r\n                          }\r\n                      }\r\n                      if (value && (this.end() || hasDR)) {\r\n                          parserInput.forget();\r\n                          return new (tree.Declaration)(name, value, important, merge, index, fileInfo);\r\n                      }\r\n                      else {\r\n                          parserInput.restore();\r\n                      }\r\n                  }\r\n                  else {\r\n                      parserInput.restore();\r\n                  }\r\n              },\r\n              anonymousValue: function () {\r\n                  var index = parserInput.i;\r\n                  var match = parserInput.$re(/^([^.#@\\$+\\/'\"*`(;{}-]*);/);\r\n                  if (match) {\r\n                      return new (tree.Anonymous)(match[1], index);\r\n                  }\r\n              },\r\n              /**\r\n               * Used for custom properties, at-rules, and variables (as fallback)\r\n               * Parses almost anything inside of {} [] () \"\" blocks\r\n               * until it reaches outer-most tokens.\r\n               *\r\n               * First, it will try to parse comments and entities to reach\r\n               * the end. This is mostly like the Expression parser except no\r\n               * math is allowed.\r\n               */\r\n              permissiveValue: function (untilTokens) {\r\n                  var i;\r\n                  var e;\r\n                  var done;\r\n                  var value;\r\n                  var tok = untilTokens || ';';\r\n                  var index = parserInput.i;\r\n                  var result = [];\r\n                  function testCurrentChar() {\r\n                      var char = parserInput.currentChar();\r\n                      if (typeof tok === 'string') {\r\n                          return char === tok;\r\n                      }\r\n                      else {\r\n                          return tok.test(char);\r\n                      }\r\n                  }\r\n                  if (testCurrentChar()) {\r\n                      return;\r\n                  }\r\n                  value = [];\r\n                  do {\r\n                      e = this.comment();\r\n                      if (e) {\r\n                          value.push(e);\r\n                          continue;\r\n                      }\r\n                      e = this.entity();\r\n                      if (e) {\r\n                          value.push(e);\r\n                      }\r\n                  } while (e);\r\n                  done = testCurrentChar();\r\n                  if (value.length > 0) {\r\n                      value = new (tree.Expression)(value);\r\n                      if (done) {\r\n                          return value;\r\n                      }\r\n                      else {\r\n                          result.push(value);\r\n                      }\r\n                      // Preserve space before $parseUntil as it will not\r\n                      if (parserInput.prevChar() === ' ') {\r\n                          result.push(new tree.Anonymous(' ', index));\r\n                      }\r\n                  }\r\n                  parserInput.save();\r\n                  value = parserInput.$parseUntil(tok);\r\n                  if (value) {\r\n                      if (typeof value === 'string') {\r\n                          error(\"Expected '\" + value + \"'\", 'Parse');\r\n                      }\r\n                      if (value.length === 1 && value[0] === ' ') {\r\n                          parserInput.forget();\r\n                          return new tree.Anonymous('', index);\r\n                      }\r\n                      var item = void 0;\r\n                      for (i = 0; i < value.length; i++) {\r\n                          item = value[i];\r\n                          if (Array.isArray(item)) {\r\n                              // Treat actual quotes as normal quoted values\r\n                              result.push(new tree.Quoted(item[0], item[1], true, index, fileInfo));\r\n                          }\r\n                          else {\r\n                              if (i === value.length - 1) {\r\n                                  item = item.trim();\r\n                              }\r\n                              // Treat like quoted values, but replace vars like unquoted expressions\r\n                              var quote = new tree.Quoted('\\'', item, true, index, fileInfo);\r\n                              quote.variableRegex = /@([\\w-]+)/g;\r\n                              quote.propRegex = /\\$([\\w-]+)/g;\r\n                              result.push(quote);\r\n                          }\r\n                      }\r\n                      parserInput.forget();\r\n                      return new tree.Expression(result, true);\r\n                  }\r\n                  parserInput.restore();\r\n              },\r\n              //\r\n              // An @import atrule\r\n              //\r\n              //     @import \"lib\";\r\n              //\r\n              // Depending on our environment, importing is done differently:\r\n              // In the browser, it's an XHR request, in Node, it would be a\r\n              // file-system operation. The function used for importing is\r\n              // stored in `import`, which we pass to the Import constructor.\r\n              //\r\n              'import': function () {\r\n                  var path;\r\n                  var features;\r\n                  var index = parserInput.i;\r\n                  var dir = parserInput.$re(/^@import?\\s+/);\r\n                  if (dir) {\r\n                      var options = (dir ? this.importOptions() : null) || {};\r\n                      if ((path = this.entities.quoted() || this.entities.url())) {\r\n                          features = this.mediaFeatures();\r\n                          if (!parserInput.$char(';')) {\r\n                              parserInput.i = index;\r\n                              error('missing semi-colon or unrecognised media features on import');\r\n                          }\r\n                          features = features && new (tree.Value)(features);\r\n                          return new (tree.Import)(path, features, options, index, fileInfo);\r\n                      }\r\n                      else {\r\n                          parserInput.i = index;\r\n                          error('malformed import statement');\r\n                      }\r\n                  }\r\n              },\r\n              importOptions: function () {\r\n                  var o;\r\n                  var options = {};\r\n                  var optionName;\r\n                  var value;\r\n                  // list of options, surrounded by parens\r\n                  if (!parserInput.$char('(')) {\r\n                      return null;\r\n                  }\r\n                  do {\r\n                      o = this.importOption();\r\n                      if (o) {\r\n                          optionName = o;\r\n                          value = true;\r\n                          switch (optionName) {\r\n                              case 'css':\r\n                                  optionName = 'less';\r\n                                  value = false;\r\n                                  break;\r\n                              case 'once':\r\n                                  optionName = 'multiple';\r\n                                  value = false;\r\n                                  break;\r\n                          }\r\n                          options[optionName] = value;\r\n                          if (!parserInput.$char(',')) {\r\n                              break;\r\n                          }\r\n                      }\r\n                  } while (o);\r\n                  expectChar(')');\r\n                  return options;\r\n              },\r\n              importOption: function () {\r\n                  var opt = parserInput.$re(/^(less|css|multiple|once|inline|reference|optional)/);\r\n                  if (opt) {\r\n                      return opt[1];\r\n                  }\r\n              },\r\n              mediaFeature: function () {\r\n                  var entities = this.entities;\r\n                  var nodes = [];\r\n                  var e;\r\n                  var p;\r\n                  parserInput.save();\r\n                  do {\r\n                      e = entities.keyword() || entities.variable() || entities.mixinLookup();\r\n                      if (e) {\r\n                          nodes.push(e);\r\n                      }\r\n                      else if (parserInput.$char('(')) {\r\n                          p = this.property();\r\n                          e = this.value();\r\n                          if (parserInput.$char(')')) {\r\n                              if (p && e) {\r\n                                  nodes.push(new (tree.Paren)(new (tree.Declaration)(p, e, null, null, parserInput.i, fileInfo, true)));\r\n                              }\r\n                              else if (e) {\r\n                                  nodes.push(new (tree.Paren)(e));\r\n                              }\r\n                              else {\r\n                                  error('badly formed media feature definition');\r\n                              }\r\n                          }\r\n                          else {\r\n                              error('Missing closing \\')\\'', 'Parse');\r\n                          }\r\n                      }\r\n                  } while (e);\r\n                  parserInput.forget();\r\n                  if (nodes.length > 0) {\r\n                      return new (tree.Expression)(nodes);\r\n                  }\r\n              },\r\n              mediaFeatures: function () {\r\n                  var entities = this.entities;\r\n                  var features = [];\r\n                  var e;\r\n                  do {\r\n                      e = this.mediaFeature();\r\n                      if (e) {\r\n                          features.push(e);\r\n                          if (!parserInput.$char(',')) {\r\n                              break;\r\n                          }\r\n                      }\r\n                      else {\r\n                          e = entities.variable() || entities.mixinLookup();\r\n                          if (e) {\r\n                              features.push(e);\r\n                              if (!parserInput.$char(',')) {\r\n                                  break;\r\n                              }\r\n                          }\r\n                      }\r\n                  } while (e);\r\n                  return features.length > 0 ? features : null;\r\n              },\r\n              media: function () {\r\n                  var features;\r\n                  var rules;\r\n                  var media;\r\n                  var debugInfo;\r\n                  var index = parserInput.i;\r\n                  if (context.dumpLineNumbers) {\r\n                      debugInfo = getDebugInfo(index);\r\n                  }\r\n                  parserInput.save();\r\n                  if (parserInput.$str('@media')) {\r\n                      features = this.mediaFeatures();\r\n                      rules = this.block();\r\n                      if (!rules) {\r\n                          error('media definitions require block statements after any features');\r\n                      }\r\n                      parserInput.forget();\r\n                      media = new (tree.Media)(rules, features, index, fileInfo);\r\n                      if (context.dumpLineNumbers) {\r\n                          media.debugInfo = debugInfo;\r\n                      }\r\n                      return media;\r\n                  }\r\n                  parserInput.restore();\r\n              },\r\n              //\r\n              // A @plugin directive, used to import plugins dynamically.\r\n              //\r\n              //     @plugin (args) \"lib\";\r\n              //\r\n              plugin: function () {\r\n                  var path;\r\n                  var args;\r\n                  var options;\r\n                  var index = parserInput.i;\r\n                  var dir = parserInput.$re(/^@plugin?\\s+/);\r\n                  if (dir) {\r\n                      args = this.pluginArgs();\r\n                      if (args) {\r\n                          options = {\r\n                              pluginArgs: args,\r\n                              isPlugin: true\r\n                          };\r\n                      }\r\n                      else {\r\n                          options = { isPlugin: true };\r\n                      }\r\n                      if ((path = this.entities.quoted() || this.entities.url())) {\r\n                          if (!parserInput.$char(';')) {\r\n                              parserInput.i = index;\r\n                              error('missing semi-colon on @plugin');\r\n                          }\r\n                          return new (tree.Import)(path, null, options, index, fileInfo);\r\n                      }\r\n                      else {\r\n                          parserInput.i = index;\r\n                          error('malformed @plugin statement');\r\n                      }\r\n                  }\r\n              },\r\n              pluginArgs: function () {\r\n                  // list of options, surrounded by parens\r\n                  parserInput.save();\r\n                  if (!parserInput.$char('(')) {\r\n                      parserInput.restore();\r\n                      return null;\r\n                  }\r\n                  var args = parserInput.$re(/^\\s*([^\\);]+)\\)\\s*/);\r\n                  if (args[1]) {\r\n                      parserInput.forget();\r\n                      return args[1].trim();\r\n                  }\r\n                  else {\r\n                      parserInput.restore();\r\n                      return null;\r\n                  }\r\n              },\r\n              //\r\n              // A CSS AtRule\r\n              //\r\n              //     @charset \"utf-8\";\r\n              //\r\n              atrule: function () {\r\n                  var index = parserInput.i;\r\n                  var name;\r\n                  var value;\r\n                  var rules;\r\n                  var nonVendorSpecificName;\r\n                  var hasIdentifier;\r\n                  var hasExpression;\r\n                  var hasUnknown;\r\n                  var hasBlock = true;\r\n                  var isRooted = true;\r\n                  if (parserInput.currentChar() !== '@') {\r\n                      return;\r\n                  }\r\n                  value = this['import']() || this.plugin() || this.media();\r\n                  if (value) {\r\n                      return value;\r\n                  }\r\n                  parserInput.save();\r\n                  name = parserInput.$re(/^@[a-z-]+/);\r\n                  if (!name) {\r\n                      return;\r\n                  }\r\n                  nonVendorSpecificName = name;\r\n                  if (name.charAt(1) == '-' && name.indexOf('-', 2) > 0) {\r\n                      nonVendorSpecificName = \"@\" + name.slice(name.indexOf('-', 2) + 1);\r\n                  }\r\n                  switch (nonVendorSpecificName) {\r\n                      case '@charset':\r\n                          hasIdentifier = true;\r\n                          hasBlock = false;\r\n                          break;\r\n                      case '@namespace':\r\n                          hasExpression = true;\r\n                          hasBlock = false;\r\n                          break;\r\n                      case '@keyframes':\r\n                      case '@counter-style':\r\n                          hasIdentifier = true;\r\n                          break;\r\n                      case '@document':\r\n                      case '@supports':\r\n                          hasUnknown = true;\r\n                          isRooted = false;\r\n                          break;\r\n                      default:\r\n                          hasUnknown = true;\r\n                          break;\r\n                  }\r\n                  parserInput.commentStore.length = 0;\r\n                  if (hasIdentifier) {\r\n                      value = this.entity();\r\n                      if (!value) {\r\n                          error(\"expected \" + name + \" identifier\");\r\n                      }\r\n                  }\r\n                  else if (hasExpression) {\r\n                      value = this.expression();\r\n                      if (!value) {\r\n                          error(\"expected \" + name + \" expression\");\r\n                      }\r\n                  }\r\n                  else if (hasUnknown) {\r\n                      value = this.permissiveValue(/^[{;]/);\r\n                      hasBlock = (parserInput.currentChar() === '{');\r\n                      if (!value) {\r\n                          if (!hasBlock && parserInput.currentChar() !== ';') {\r\n                              error(name + \" rule is missing block or ending semi-colon\");\r\n                          }\r\n                      }\r\n                      else if (!value.value) {\r\n                          value = null;\r\n                      }\r\n                  }\r\n                  if (hasBlock) {\r\n                      rules = this.blockRuleset();\r\n                  }\r\n                  if (rules || (!hasBlock && value && parserInput.$char(';'))) {\r\n                      parserInput.forget();\r\n                      return new (tree.AtRule)(name, value, rules, index, fileInfo, context.dumpLineNumbers ? getDebugInfo(index) : null, isRooted);\r\n                  }\r\n                  parserInput.restore('at-rule options not recognised');\r\n              },\r\n              //\r\n              // A Value is a comma-delimited list of Expressions\r\n              //\r\n              //     font-family: Baskerville, Georgia, serif;\r\n              //\r\n              // In a Rule, a Value represents everything after the `:`,\r\n              // and before the `;`.\r\n              //\r\n              value: function () {\r\n                  var e;\r\n                  var expressions = [];\r\n                  var index = parserInput.i;\r\n                  do {\r\n                      e = this.expression();\r\n                      if (e) {\r\n                          expressions.push(e);\r\n                          if (!parserInput.$char(',')) {\r\n                              break;\r\n                          }\r\n                      }\r\n                  } while (e);\r\n                  if (expressions.length > 0) {\r\n                      return new (tree.Value)(expressions, index);\r\n                  }\r\n              },\r\n              important: function () {\r\n                  if (parserInput.currentChar() === '!') {\r\n                      return parserInput.$re(/^! *important/);\r\n                  }\r\n              },\r\n              sub: function () {\r\n                  var a;\r\n                  var e;\r\n                  parserInput.save();\r\n                  if (parserInput.$char('(')) {\r\n                      a = this.addition();\r\n                      if (a && parserInput.$char(')')) {\r\n                          parserInput.forget();\r\n                          e = new (tree.Expression)([a]);\r\n                          e.parens = true;\r\n                          return e;\r\n                      }\r\n                      parserInput.restore('Expected \\')\\'');\r\n                      return;\r\n                  }\r\n                  parserInput.restore();\r\n              },\r\n              multiplication: function () {\r\n                  var m;\r\n                  var a;\r\n                  var op;\r\n                  var operation;\r\n                  var isSpaced;\r\n                  m = this.operand();\r\n                  if (m) {\r\n                      isSpaced = parserInput.isWhitespace(-1);\r\n                      while (true) {\r\n                          if (parserInput.peek(/^\\/[*\\/]/)) {\r\n                              break;\r\n                          }\r\n                          parserInput.save();\r\n                          op = parserInput.$char('/') || parserInput.$char('*') || parserInput.$str('./');\r\n                          if (!op) {\r\n                              parserInput.forget();\r\n                              break;\r\n                          }\r\n                          a = this.operand();\r\n                          if (!a) {\r\n                              parserInput.restore();\r\n                              break;\r\n                          }\r\n                          parserInput.forget();\r\n                          m.parensInOp = true;\r\n                          a.parensInOp = true;\r\n                          operation = new (tree.Operation)(op, [operation || m, a], isSpaced);\r\n                          isSpaced = parserInput.isWhitespace(-1);\r\n                      }\r\n                      return operation || m;\r\n                  }\r\n              },\r\n              addition: function () {\r\n                  var m;\r\n                  var a;\r\n                  var op;\r\n                  var operation;\r\n                  var isSpaced;\r\n                  m = this.multiplication();\r\n                  if (m) {\r\n                      isSpaced = parserInput.isWhitespace(-1);\r\n                      while (true) {\r\n                          op = parserInput.$re(/^[-+]\\s+/) || (!isSpaced && (parserInput.$char('+') || parserInput.$char('-')));\r\n                          if (!op) {\r\n                              break;\r\n                          }\r\n                          a = this.multiplication();\r\n                          if (!a) {\r\n                              break;\r\n                          }\r\n                          m.parensInOp = true;\r\n                          a.parensInOp = true;\r\n                          operation = new (tree.Operation)(op, [operation || m, a], isSpaced);\r\n                          isSpaced = parserInput.isWhitespace(-1);\r\n                      }\r\n                      return operation || m;\r\n                  }\r\n              },\r\n              conditions: function () {\r\n                  var a;\r\n                  var b;\r\n                  var index = parserInput.i;\r\n                  var condition;\r\n                  a = this.condition(true);\r\n                  if (a) {\r\n                      while (true) {\r\n                          if (!parserInput.peek(/^,\\s*(not\\s*)?\\(/) || !parserInput.$char(',')) {\r\n                              break;\r\n                          }\r\n                          b = this.condition(true);\r\n                          if (!b) {\r\n                              break;\r\n                          }\r\n                          condition = new (tree.Condition)('or', condition || a, b, index);\r\n                      }\r\n                      return condition || a;\r\n                  }\r\n              },\r\n              condition: function (needsParens) {\r\n                  var result;\r\n                  var logical;\r\n                  var next;\r\n                  function or() {\r\n                      return parserInput.$str('or');\r\n                  }\r\n                  result = this.conditionAnd(needsParens);\r\n                  if (!result) {\r\n                      return;\r\n                  }\r\n                  logical = or();\r\n                  if (logical) {\r\n                      next = this.condition(needsParens);\r\n                      if (next) {\r\n                          result = new (tree.Condition)(logical, result, next);\r\n                      }\r\n                      else {\r\n                          return;\r\n                      }\r\n                  }\r\n                  return result;\r\n              },\r\n              conditionAnd: function (needsParens) {\r\n                  var result;\r\n                  var logical;\r\n                  var next;\r\n                  var self = this;\r\n                  function insideCondition() {\r\n                      var cond = self.negatedCondition(needsParens) || self.parenthesisCondition(needsParens);\r\n                      if (!cond && !needsParens) {\r\n                          return self.atomicCondition(needsParens);\r\n                      }\r\n                      return cond;\r\n                  }\r\n                  function and() {\r\n                      return parserInput.$str('and');\r\n                  }\r\n                  result = insideCondition();\r\n                  if (!result) {\r\n                      return;\r\n                  }\r\n                  logical = and();\r\n                  if (logical) {\r\n                      next = this.conditionAnd(needsParens);\r\n                      if (next) {\r\n                          result = new (tree.Condition)(logical, result, next);\r\n                      }\r\n                      else {\r\n                          return;\r\n                      }\r\n                  }\r\n                  return result;\r\n              },\r\n              negatedCondition: function (needsParens) {\r\n                  if (parserInput.$str('not')) {\r\n                      var result = this.parenthesisCondition(needsParens);\r\n                      if (result) {\r\n                          result.negate = !result.negate;\r\n                      }\r\n                      return result;\r\n                  }\r\n              },\r\n              parenthesisCondition: function (needsParens) {\r\n                  function tryConditionFollowedByParenthesis(me) {\r\n                      var body;\r\n                      parserInput.save();\r\n                      body = me.condition(needsParens);\r\n                      if (!body) {\r\n                          parserInput.restore();\r\n                          return;\r\n                      }\r\n                      if (!parserInput.$char(')')) {\r\n                          parserInput.restore();\r\n                          return;\r\n                      }\r\n                      parserInput.forget();\r\n                      return body;\r\n                  }\r\n                  var body;\r\n                  parserInput.save();\r\n                  if (!parserInput.$str('(')) {\r\n                      parserInput.restore();\r\n                      return;\r\n                  }\r\n                  body = tryConditionFollowedByParenthesis(this);\r\n                  if (body) {\r\n                      parserInput.forget();\r\n                      return body;\r\n                  }\r\n                  body = this.atomicCondition(needsParens);\r\n                  if (!body) {\r\n                      parserInput.restore();\r\n                      return;\r\n                  }\r\n                  if (!parserInput.$char(')')) {\r\n                      parserInput.restore(\"expected ')' got '\" + parserInput.currentChar() + \"'\");\r\n                      return;\r\n                  }\r\n                  parserInput.forget();\r\n                  return body;\r\n              },\r\n              atomicCondition: function (needsParens) {\r\n                  var entities = this.entities;\r\n                  var index = parserInput.i;\r\n                  var a;\r\n                  var b;\r\n                  var c;\r\n                  var op;\r\n                  function cond() {\r\n                      return this.addition() || entities.keyword() || entities.quoted() || entities.mixinLookup();\r\n                  }\r\n                  cond = cond.bind(this);\r\n                  a = cond();\r\n                  if (a) {\r\n                      if (parserInput.$char('>')) {\r\n                          if (parserInput.$char('=')) {\r\n                              op = '>=';\r\n                          }\r\n                          else {\r\n                              op = '>';\r\n                          }\r\n                      }\r\n                      else if (parserInput.$char('<')) {\r\n                          if (parserInput.$char('=')) {\r\n                              op = '<=';\r\n                          }\r\n                          else {\r\n                              op = '<';\r\n                          }\r\n                      }\r\n                      else if (parserInput.$char('=')) {\r\n                          if (parserInput.$char('>')) {\r\n                              op = '=>';\r\n                          }\r\n                          else if (parserInput.$char('<')) {\r\n                              op = '=<';\r\n                          }\r\n                          else {\r\n                              op = '=';\r\n                          }\r\n                      }\r\n                      if (op) {\r\n                          b = cond();\r\n                          if (b) {\r\n                              c = new (tree.Condition)(op, a, b, index, false);\r\n                          }\r\n                          else {\r\n                              error('expected expression');\r\n                          }\r\n                      }\r\n                      else {\r\n                          c = new (tree.Condition)('=', a, new (tree.Keyword)('true'), index, false);\r\n                      }\r\n                      return c;\r\n                  }\r\n              },\r\n              //\r\n              // An operand is anything that can be part of an operation,\r\n              // such as a Color, or a Variable\r\n              //\r\n              operand: function () {\r\n                  var entities = this.entities;\r\n                  var negate;\r\n                  if (parserInput.peek(/^-[@\\$\\(]/)) {\r\n                      negate = parserInput.$char('-');\r\n                  }\r\n                  var o = this.sub() || entities.dimension() ||\r\n                      entities.color() || entities.variable() ||\r\n                      entities.property() || entities.call() ||\r\n                      entities.quoted(true) || entities.colorKeyword() ||\r\n                      entities.mixinLookup();\r\n                  if (negate) {\r\n                      o.parensInOp = true;\r\n                      o = new (tree.Negative)(o);\r\n                  }\r\n                  return o;\r\n              },\r\n              //\r\n              // Expressions either represent mathematical operations,\r\n              // or white-space delimited Entities.\r\n              //\r\n              //     1px solid black\r\n              //     @var * 2\r\n              //\r\n              expression: function () {\r\n                  var entities = [];\r\n                  var e;\r\n                  var delim;\r\n                  var index = parserInput.i;\r\n                  do {\r\n                      e = this.comment();\r\n                      if (e) {\r\n                          entities.push(e);\r\n                          continue;\r\n                      }\r\n                      e = this.addition() || this.entity();\r\n                      if (e instanceof tree.Comment) {\r\n                          e = null;\r\n                      }\r\n                      if (e) {\r\n                          entities.push(e);\r\n                          // operations do not allow keyword \"/\" dimension (e.g. small/20px) so we support that here\r\n                          if (!parserInput.peek(/^\\/[\\/*]/)) {\r\n                              delim = parserInput.$char('/');\r\n                              if (delim) {\r\n                                  entities.push(new (tree.Anonymous)(delim, index));\r\n                              }\r\n                          }\r\n                      }\r\n                  } while (e);\r\n                  if (entities.length > 0) {\r\n                      return new (tree.Expression)(entities);\r\n                  }\r\n              },\r\n              property: function () {\r\n                  var name = parserInput.$re(/^(\\*?-?[_a-zA-Z0-9-]+)\\s*:/);\r\n                  if (name) {\r\n                      return name[1];\r\n                  }\r\n              },\r\n              ruleProperty: function () {\r\n                  var name = [];\r\n                  var index = [];\r\n                  var s;\r\n                  var k;\r\n                  parserInput.save();\r\n                  var simpleProperty = parserInput.$re(/^([_a-zA-Z0-9-]+)\\s*:/);\r\n                  if (simpleProperty) {\r\n                      name = [new (tree.Keyword)(simpleProperty[1])];\r\n                      parserInput.forget();\r\n                      return name;\r\n                  }\r\n                  function match(re) {\r\n                      var i = parserInput.i;\r\n                      var chunk = parserInput.$re(re);\r\n                      if (chunk) {\r\n                          index.push(i);\r\n                          return name.push(chunk[1]);\r\n                      }\r\n                  }\r\n                  match(/^(\\*?)/);\r\n                  while (true) {\r\n                      if (!match(/^((?:[\\w-]+)|(?:[@\\$]\\{[\\w-]+\\}))/)) {\r\n                          break;\r\n                      }\r\n                  }\r\n                  if ((name.length > 1) && match(/^((?:\\+_|\\+)?)\\s*:/)) {\r\n                      parserInput.forget();\r\n                      // at last, we have the complete match now. move forward,\r\n                      // convert name particles to tree objects and return:\r\n                      if (name[0] === '') {\r\n                          name.shift();\r\n                          index.shift();\r\n                      }\r\n                      for (k = 0; k < name.length; k++) {\r\n                          s = name[k];\r\n                          name[k] = (s.charAt(0) !== '@' && s.charAt(0) !== '$') ?\r\n                              new (tree.Keyword)(s) :\r\n                              (s.charAt(0) === '@' ?\r\n                                  new (tree.Variable)(\"@\" + s.slice(2, -1), index[k], fileInfo) :\r\n                                  new (tree.Property)(\"$\" + s.slice(2, -1), index[k], fileInfo));\r\n                      }\r\n                      return name;\r\n                  }\r\n                  parserInput.restore();\r\n              }\r\n          }\r\n      };\r\n  };\r\n  Parser.serializeVars = function (vars) {\r\n      var s = '';\r\n      for (var name_1 in vars) {\r\n          if (Object.hasOwnProperty.call(vars, name_1)) {\r\n              var value = vars[name_1];\r\n              s += ((name_1[0] === '@') ? '' : '@') + name_1 + \": \" + value + ((String(value).slice(-1) === ';') ? '' : ';');\r\n          }\r\n      }\r\n      return s;\r\n  };\n\n  function boolean(condition) {\r\n      return condition ? Keyword.True : Keyword.False;\r\n  }\r\n  /**\r\n   * Functions with evalArgs set to false are sent context\r\n   * as the first argument.\r\n   */\r\n  function If(context, condition, trueValue, falseValue) {\r\n      return condition.eval(context) ? trueValue.eval(context)\r\n          : (falseValue ? falseValue.eval(context) : new Anonymous);\r\n  }\r\n  If.evalArgs = false;\r\n  var boolean$1 = { boolean: boolean, 'if': If };\n\n  var colorFunctions;\r\n  function clamp$1(val) {\r\n      return Math.min(1, Math.max(0, val));\r\n  }\r\n  function hsla(origColor, hsl) {\r\n      var color = colorFunctions.hsla(hsl.h, hsl.s, hsl.l, hsl.a);\r\n      if (color) {\r\n          if (origColor.value &&\r\n              /^(rgb|hsl)/.test(origColor.value)) {\r\n              color.value = origColor.value;\r\n          }\r\n          else {\r\n              color.value = 'rgb';\r\n          }\r\n          return color;\r\n      }\r\n  }\r\n  function toHSL(color) {\r\n      if (color.toHSL) {\r\n          return color.toHSL();\r\n      }\r\n      else {\r\n          throw new Error('Argument cannot be evaluated to a color');\r\n      }\r\n  }\r\n  function toHSV(color) {\r\n      if (color.toHSV) {\r\n          return color.toHSV();\r\n      }\r\n      else {\r\n          throw new Error('Argument cannot be evaluated to a color');\r\n      }\r\n  }\r\n  function number(n) {\r\n      if (n instanceof Dimension) {\r\n          return parseFloat(n.unit.is('%') ? n.value / 100 : n.value);\r\n      }\r\n      else if (typeof n === 'number') {\r\n          return n;\r\n      }\r\n      else {\r\n          throw {\r\n              type: 'Argument',\r\n              message: 'color functions take numbers as parameters'\r\n          };\r\n      }\r\n  }\r\n  function scaled(n, size) {\r\n      if (n instanceof Dimension && n.unit.is('%')) {\r\n          return parseFloat(n.value * size / 100);\r\n      }\r\n      else {\r\n          return number(n);\r\n      }\r\n  }\r\n  colorFunctions = {\r\n      rgb: function (r, g, b) {\r\n          var color = colorFunctions.rgba(r, g, b, 1.0);\r\n          if (color) {\r\n              color.value = 'rgb';\r\n              return color;\r\n          }\r\n      },\r\n      rgba: function (r, g, b, a) {\r\n          try {\r\n              if (r instanceof Color) {\r\n                  if (g) {\r\n                      a = number(g);\r\n                  }\r\n                  else {\r\n                      a = r.alpha;\r\n                  }\r\n                  return new Color(r.rgb, a, 'rgba');\r\n              }\r\n              var rgb = [r, g, b].map(function (c) { return scaled(c, 255); });\r\n              a = number(a);\r\n              return new Color(rgb, a, 'rgba');\r\n          }\r\n          catch (e) { }\r\n      },\r\n      hsl: function (h, s, l) {\r\n          var color = colorFunctions.hsla(h, s, l, 1.0);\r\n          if (color) {\r\n              color.value = 'hsl';\r\n              return color;\r\n          }\r\n      },\r\n      hsla: function (h, s, l, a) {\r\n          try {\r\n              if (h instanceof Color) {\r\n                  if (s) {\r\n                      a = number(s);\r\n                  }\r\n                  else {\r\n                      a = h.alpha;\r\n                  }\r\n                  return new Color(h.rgb, a, 'hsla');\r\n              }\r\n              var m1_1;\r\n              var m2_1;\r\n              function hue(h) {\r\n                  h = h < 0 ? h + 1 : (h > 1 ? h - 1 : h);\r\n                  if (h * 6 < 1) {\r\n                      return m1_1 + (m2_1 - m1_1) * h * 6;\r\n                  }\r\n                  else if (h * 2 < 1) {\r\n                      return m2_1;\r\n                  }\r\n                  else if (h * 3 < 2) {\r\n                      return m1_1 + (m2_1 - m1_1) * (2 / 3 - h) * 6;\r\n                  }\r\n                  else {\r\n                      return m1_1;\r\n                  }\r\n              }\r\n              h = (number(h) % 360) / 360;\r\n              s = clamp$1(number(s));\r\n              l = clamp$1(number(l));\r\n              a = clamp$1(number(a));\r\n              m2_1 = l <= 0.5 ? l * (s + 1) : l + s - l * s;\r\n              m1_1 = l * 2 - m2_1;\r\n              var rgb = [\r\n                  hue(h + 1 / 3) * 255,\r\n                  hue(h) * 255,\r\n                  hue(h - 1 / 3) * 255\r\n              ];\r\n              a = number(a);\r\n              return new Color(rgb, a, 'hsla');\r\n          }\r\n          catch (e) { }\r\n      },\r\n      hsv: function (h, s, v) {\r\n          return colorFunctions.hsva(h, s, v, 1.0);\r\n      },\r\n      hsva: function (h, s, v, a) {\r\n          h = ((number(h) % 360) / 360) * 360;\r\n          s = number(s);\r\n          v = number(v);\r\n          a = number(a);\r\n          var i;\r\n          var f;\r\n          i = Math.floor((h / 60) % 6);\r\n          f = (h / 60) - i;\r\n          var vs = [v,\r\n              v * (1 - s),\r\n              v * (1 - f * s),\r\n              v * (1 - (1 - f) * s)];\r\n          var perm = [[0, 3, 1],\r\n              [2, 0, 1],\r\n              [1, 0, 3],\r\n              [1, 2, 0],\r\n              [3, 1, 0],\r\n              [0, 1, 2]];\r\n          return colorFunctions.rgba(vs[perm[i][0]] * 255, vs[perm[i][1]] * 255, vs[perm[i][2]] * 255, a);\r\n      },\r\n      hue: function (color) {\r\n          return new Dimension(toHSL(color).h);\r\n      },\r\n      saturation: function (color) {\r\n          return new Dimension(toHSL(color).s * 100, '%');\r\n      },\r\n      lightness: function (color) {\r\n          return new Dimension(toHSL(color).l * 100, '%');\r\n      },\r\n      hsvhue: function (color) {\r\n          return new Dimension(toHSV(color).h);\r\n      },\r\n      hsvsaturation: function (color) {\r\n          return new Dimension(toHSV(color).s * 100, '%');\r\n      },\r\n      hsvvalue: function (color) {\r\n          return new Dimension(toHSV(color).v * 100, '%');\r\n      },\r\n      red: function (color) {\r\n          return new Dimension(color.rgb[0]);\r\n      },\r\n      green: function (color) {\r\n          return new Dimension(color.rgb[1]);\r\n      },\r\n      blue: function (color) {\r\n          return new Dimension(color.rgb[2]);\r\n      },\r\n      alpha: function (color) {\r\n          return new Dimension(toHSL(color).a);\r\n      },\r\n      luma: function (color) {\r\n          return new Dimension(color.luma() * color.alpha * 100, '%');\r\n      },\r\n      luminance: function (color) {\r\n          var luminance = (0.2126 * color.rgb[0] / 255) +\r\n              (0.7152 * color.rgb[1] / 255) +\r\n              (0.0722 * color.rgb[2] / 255);\r\n          return new Dimension(luminance * color.alpha * 100, '%');\r\n      },\r\n      saturate: function (color, amount, method) {\r\n          // filter: saturate(3.2);\r\n          // should be kept as is, so check for color\r\n          if (!color.rgb) {\r\n              return null;\r\n          }\r\n          var hsl = toHSL(color);\r\n          if (typeof method !== 'undefined' && method.value === 'relative') {\r\n              hsl.s += hsl.s * amount.value / 100;\r\n          }\r\n          else {\r\n              hsl.s += amount.value / 100;\r\n          }\r\n          hsl.s = clamp$1(hsl.s);\r\n          return hsla(color, hsl);\r\n      },\r\n      desaturate: function (color, amount, method) {\r\n          var hsl = toHSL(color);\r\n          if (typeof method !== 'undefined' && method.value === 'relative') {\r\n              hsl.s -= hsl.s * amount.value / 100;\r\n          }\r\n          else {\r\n              hsl.s -= amount.value / 100;\r\n          }\r\n          hsl.s = clamp$1(hsl.s);\r\n          return hsla(color, hsl);\r\n      },\r\n      lighten: function (color, amount, method) {\r\n          var hsl = toHSL(color);\r\n          if (typeof method !== 'undefined' && method.value === 'relative') {\r\n              hsl.l += hsl.l * amount.value / 100;\r\n          }\r\n          else {\r\n              hsl.l += amount.value / 100;\r\n          }\r\n          hsl.l = clamp$1(hsl.l);\r\n          return hsla(color, hsl);\r\n      },\r\n      darken: function (color, amount, method) {\r\n          var hsl = toHSL(color);\r\n          if (typeof method !== 'undefined' && method.value === 'relative') {\r\n              hsl.l -= hsl.l * amount.value / 100;\r\n          }\r\n          else {\r\n              hsl.l -= amount.value / 100;\r\n          }\r\n          hsl.l = clamp$1(hsl.l);\r\n          return hsla(color, hsl);\r\n      },\r\n      fadein: function (color, amount, method) {\r\n          var hsl = toHSL(color);\r\n          if (typeof method !== 'undefined' && method.value === 'relative') {\r\n              hsl.a += hsl.a * amount.value / 100;\r\n          }\r\n          else {\r\n              hsl.a += amount.value / 100;\r\n          }\r\n          hsl.a = clamp$1(hsl.a);\r\n          return hsla(color, hsl);\r\n      },\r\n      fadeout: function (color, amount, method) {\r\n          var hsl = toHSL(color);\r\n          if (typeof method !== 'undefined' && method.value === 'relative') {\r\n              hsl.a -= hsl.a * amount.value / 100;\r\n          }\r\n          else {\r\n              hsl.a -= amount.value / 100;\r\n          }\r\n          hsl.a = clamp$1(hsl.a);\r\n          return hsla(color, hsl);\r\n      },\r\n      fade: function (color, amount) {\r\n          var hsl = toHSL(color);\r\n          hsl.a = amount.value / 100;\r\n          hsl.a = clamp$1(hsl.a);\r\n          return hsla(color, hsl);\r\n      },\r\n      spin: function (color, amount) {\r\n          var hsl = toHSL(color);\r\n          var hue = (hsl.h + amount.value) % 360;\r\n          hsl.h = hue < 0 ? 360 + hue : hue;\r\n          return hsla(color, hsl);\r\n      },\r\n      //\r\n      // Copyright (c) 2006-2009 Hampton Catlin, Natalie Weizenbaum, and Chris Eppstein\r\n      // http://sass-lang.com\r\n      //\r\n      mix: function (color1, color2, weight) {\r\n          if (!weight) {\r\n              weight = new Dimension(50);\r\n          }\r\n          var p = weight.value / 100.0;\r\n          var w = p * 2 - 1;\r\n          var a = toHSL(color1).a - toHSL(color2).a;\r\n          var w1 = (((w * a == -1) ? w : (w + a) / (1 + w * a)) + 1) / 2.0;\r\n          var w2 = 1 - w1;\r\n          var rgb = [color1.rgb[0] * w1 + color2.rgb[0] * w2,\r\n              color1.rgb[1] * w1 + color2.rgb[1] * w2,\r\n              color1.rgb[2] * w1 + color2.rgb[2] * w2];\r\n          var alpha = color1.alpha * p + color2.alpha * (1 - p);\r\n          return new Color(rgb, alpha);\r\n      },\r\n      greyscale: function (color) {\r\n          return colorFunctions.desaturate(color, new Dimension(100));\r\n      },\r\n      contrast: function (color, dark, light, threshold) {\r\n          // filter: contrast(3.2);\r\n          // should be kept as is, so check for color\r\n          if (!color.rgb) {\r\n              return null;\r\n          }\r\n          if (typeof light === 'undefined') {\r\n              light = colorFunctions.rgba(255, 255, 255, 1.0);\r\n          }\r\n          if (typeof dark === 'undefined') {\r\n              dark = colorFunctions.rgba(0, 0, 0, 1.0);\r\n          }\r\n          // Figure out which is actually light and dark:\r\n          if (dark.luma() > light.luma()) {\r\n              var t = light;\r\n              light = dark;\r\n              dark = t;\r\n          }\r\n          if (typeof threshold === 'undefined') {\r\n              threshold = 0.43;\r\n          }\r\n          else {\r\n              threshold = number(threshold);\r\n          }\r\n          if (color.luma() < threshold) {\r\n              return light;\r\n          }\r\n          else {\r\n              return dark;\r\n          }\r\n      },\r\n      // Changes made in 2.7.0 - Reverted in 3.0.0\r\n      // contrast: function (color, color1, color2, threshold) {\r\n      //     // Return which of `color1` and `color2` has the greatest contrast with `color`\r\n      //     // according to the standard WCAG contrast ratio calculation.\r\n      //     // http://www.w3.org/TR/WCAG20/#contrast-ratiodef\r\n      //     // The threshold param is no longer used, in line with SASS.\r\n      //     // filter: contrast(3.2);\r\n      //     // should be kept as is, so check for color\r\n      //     if (!color.rgb) {\r\n      //         return null;\r\n      //     }\r\n      //     if (typeof color1 === 'undefined') {\r\n      //         color1 = colorFunctions.rgba(0, 0, 0, 1.0);\r\n      //     }\r\n      //     if (typeof color2 === 'undefined') {\r\n      //         color2 = colorFunctions.rgba(255, 255, 255, 1.0);\r\n      //     }\r\n      //     var contrast1, contrast2;\r\n      //     var luma = color.luma();\r\n      //     var luma1 = color1.luma();\r\n      //     var luma2 = color2.luma();\r\n      //     // Calculate contrast ratios for each color\r\n      //     if (luma > luma1) {\r\n      //         contrast1 = (luma + 0.05) / (luma1 + 0.05);\r\n      //     } else {\r\n      //         contrast1 = (luma1 + 0.05) / (luma + 0.05);\r\n      //     }\r\n      //     if (luma > luma2) {\r\n      //         contrast2 = (luma + 0.05) / (luma2 + 0.05);\r\n      //     } else {\r\n      //         contrast2 = (luma2 + 0.05) / (luma + 0.05);\r\n      //     }\r\n      //     if (contrast1 > contrast2) {\r\n      //         return color1;\r\n      //     } else {\r\n      //         return color2;\r\n      //     }\r\n      // },\r\n      argb: function (color) {\r\n          return new Anonymous(color.toARGB());\r\n      },\r\n      color: function (c) {\r\n          if ((c instanceof Quoted) &&\r\n              (/^#([A-Fa-f0-9]{8}|[A-Fa-f0-9]{6}|[A-Fa-f0-9]{3,4})$/i.test(c.value))) {\r\n              var val = c.value.slice(1);\r\n              return new Color(val, undefined, \"#\" + val);\r\n          }\r\n          if ((c instanceof Color) || (c = Color.fromKeyword(c.value))) {\r\n              c.value = undefined;\r\n              return c;\r\n          }\r\n          throw {\r\n              type: 'Argument',\r\n              message: 'argument must be a color keyword or 3|4|6|8 digit hex e.g. #FFF'\r\n          };\r\n      },\r\n      tint: function (color, amount) {\r\n          return colorFunctions.mix(colorFunctions.rgb(255, 255, 255), color, amount);\r\n      },\r\n      shade: function (color, amount) {\r\n          return colorFunctions.mix(colorFunctions.rgb(0, 0, 0), color, amount);\r\n      }\r\n  };\r\n  var color = colorFunctions;\n\n  // Color Blending\r\n  // ref: http://www.w3.org/TR/compositing-1\r\n  function colorBlend(mode, color1, color2) {\r\n      var ab = color1.alpha; // result\r\n      var // backdrop\r\n      cb;\r\n      var as = color2.alpha;\r\n      var // source\r\n      cs;\r\n      var ar;\r\n      var cr;\r\n      var r = [];\r\n      ar = as + ab * (1 - as);\r\n      for (var i = 0; i < 3; i++) {\r\n          cb = color1.rgb[i] / 255;\r\n          cs = color2.rgb[i] / 255;\r\n          cr = mode(cb, cs);\r\n          if (ar) {\r\n              cr = (as * cs + ab * (cb -\r\n                  as * (cb + cs - cr))) / ar;\r\n          }\r\n          r[i] = cr * 255;\r\n      }\r\n      return new Color(r, ar);\r\n  }\r\n  var colorBlendModeFunctions = {\r\n      multiply: function (cb, cs) {\r\n          return cb * cs;\r\n      },\r\n      screen: function (cb, cs) {\r\n          return cb + cs - cb * cs;\r\n      },\r\n      overlay: function (cb, cs) {\r\n          cb *= 2;\r\n          return (cb <= 1) ?\r\n              colorBlendModeFunctions.multiply(cb, cs) :\r\n              colorBlendModeFunctions.screen(cb - 1, cs);\r\n      },\r\n      softlight: function (cb, cs) {\r\n          var d = 1;\r\n          var e = cb;\r\n          if (cs > 0.5) {\r\n              e = 1;\r\n              d = (cb > 0.25) ? Math.sqrt(cb)\r\n                  : ((16 * cb - 12) * cb + 4) * cb;\r\n          }\r\n          return cb - (1 - 2 * cs) * e * (d - cb);\r\n      },\r\n      hardlight: function (cb, cs) {\r\n          return colorBlendModeFunctions.overlay(cs, cb);\r\n      },\r\n      difference: function (cb, cs) {\r\n          return Math.abs(cb - cs);\r\n      },\r\n      exclusion: function (cb, cs) {\r\n          return cb + cs - 2 * cb * cs;\r\n      },\r\n      // non-w3c functions:\r\n      average: function (cb, cs) {\r\n          return (cb + cs) / 2;\r\n      },\r\n      negation: function (cb, cs) {\r\n          return 1 - Math.abs(cb + cs - 1);\r\n      }\r\n  };\r\n  for (var f in colorBlendModeFunctions) {\r\n      if (colorBlendModeFunctions.hasOwnProperty(f)) {\r\n          colorBlend[f] = colorBlend.bind(null, colorBlendModeFunctions[f]);\r\n      }\r\n  }\n\n  var dataUri = (function (environment) {\r\n      var fallback = function (functionThis, node) { return new URL(node, functionThis.index, functionThis.currentFileInfo).eval(functionThis.context); };\r\n      return { 'data-uri': function (mimetypeNode, filePathNode) {\r\n              if (!filePathNode) {\r\n                  filePathNode = mimetypeNode;\r\n                  mimetypeNode = null;\r\n              }\r\n              var mimetype = mimetypeNode && mimetypeNode.value;\r\n              var filePath = filePathNode.value;\r\n              var currentFileInfo = this.currentFileInfo;\r\n              var currentDirectory = currentFileInfo.rewriteUrls ?\r\n                  currentFileInfo.currentDirectory : currentFileInfo.entryPath;\r\n              var fragmentStart = filePath.indexOf('#');\r\n              var fragment = '';\r\n              if (fragmentStart !== -1) {\r\n                  fragment = filePath.slice(fragmentStart);\r\n                  filePath = filePath.slice(0, fragmentStart);\r\n              }\r\n              var context = clone(this.context);\r\n              context.rawBuffer = true;\r\n              var fileManager = environment.getFileManager(filePath, currentDirectory, context, environment, true);\r\n              if (!fileManager) {\r\n                  return fallback(this, filePathNode);\r\n              }\r\n              var useBase64 = false;\r\n              // detect the mimetype if not given\r\n              if (!mimetypeNode) {\r\n                  mimetype = environment.mimeLookup(filePath);\r\n                  if (mimetype === 'image/svg+xml') {\r\n                      useBase64 = false;\r\n                  }\r\n                  else {\r\n                      // use base 64 unless it's an ASCII or UTF-8 format\r\n                      var charset = environment.charsetLookup(mimetype);\r\n                      useBase64 = ['US-ASCII', 'UTF-8'].indexOf(charset) < 0;\r\n                  }\r\n                  if (useBase64) {\r\n                      mimetype += ';base64';\r\n                  }\r\n              }\r\n              else {\r\n                  useBase64 = /;base64$/.test(mimetype);\r\n              }\r\n              var fileSync = fileManager.loadFileSync(filePath, currentDirectory, context, environment);\r\n              if (!fileSync.contents) {\r\n                  logger.warn(\"Skipped data-uri embedding of \" + filePath + \" because file not found\");\r\n                  return fallback(this, filePathNode || mimetypeNode);\r\n              }\r\n              var buf = fileSync.contents;\r\n              if (useBase64 && !environment.encodeBase64) {\r\n                  return fallback(this, filePathNode);\r\n              }\r\n              buf = useBase64 ? environment.encodeBase64(buf) : encodeURIComponent(buf);\r\n              var uri = \"data:\" + mimetype + \",\" + buf + fragment;\r\n              return new URL(new Quoted(\"\\\"\" + uri + \"\\\"\", uri, false, this.index, this.currentFileInfo), this.index, this.currentFileInfo);\r\n          } };\r\n  });\n\n  var getItemsFromNode = function (node) {\r\n      // handle non-array values as an array of length 1\r\n      // return 'undefined' if index is invalid\r\n      var items = Array.isArray(node.value) ?\r\n          node.value : Array(node);\r\n      return items;\r\n  };\r\n  var list = {\r\n      _SELF: function (n) {\r\n          return n;\r\n      },\r\n      extract: function (values, index) {\r\n          // (1-based index)\r\n          index = index.value - 1;\r\n          return getItemsFromNode(values)[index];\r\n      },\r\n      length: function (values) {\r\n          return new Dimension(getItemsFromNode(values).length);\r\n      },\r\n      /**\r\n       * Creates a Less list of incremental values.\r\n       * Modeled after Lodash's range function, also exists natively in PHP\r\n       *\r\n       * @param {Dimension} [start=1]\r\n       * @param {Dimension} end  - e.g. 10 or 10px - unit is added to output\r\n       * @param {Dimension} [step=1]\r\n       */\r\n      range: function (start, end, step) {\r\n          var from;\r\n          var to;\r\n          var stepValue = 1;\r\n          var list = [];\r\n          if (end) {\r\n              to = end;\r\n              from = start.value;\r\n              if (step) {\r\n                  stepValue = step.value;\r\n              }\r\n          }\r\n          else {\r\n              from = 1;\r\n              to = start;\r\n          }\r\n          for (var i = from; i <= to.value; i += stepValue) {\r\n              list.push(new Dimension(i, to.unit));\r\n          }\r\n          return new Expression(list);\r\n      },\r\n      each: function (list, rs) {\r\n          var _this = this;\r\n          var rules = [];\r\n          var newRules;\r\n          var iterator;\r\n          var tryEval = function (val) {\r\n              if (val instanceof Node) {\r\n                  return val.eval(_this.context);\r\n              }\r\n              return val;\r\n          };\r\n          if (list.value && !(list instanceof Quoted)) {\r\n              if (Array.isArray(list.value)) {\r\n                  iterator = list.value.map(tryEval);\r\n              }\r\n              else {\r\n                  iterator = [tryEval(list.value)];\r\n              }\r\n          }\r\n          else if (list.ruleset) {\r\n              iterator = tryEval(list.ruleset).rules;\r\n          }\r\n          else if (list.rules) {\r\n              iterator = list.rules.map(tryEval);\r\n          }\r\n          else if (Array.isArray(list)) {\r\n              iterator = list.map(tryEval);\r\n          }\r\n          else {\r\n              iterator = [tryEval(list)];\r\n          }\r\n          var valueName = '@value';\r\n          var keyName = '@key';\r\n          var indexName = '@index';\r\n          if (rs.params) {\r\n              valueName = rs.params[0] && rs.params[0].name;\r\n              keyName = rs.params[1] && rs.params[1].name;\r\n              indexName = rs.params[2] && rs.params[2].name;\r\n              rs = rs.rules;\r\n          }\r\n          else {\r\n              rs = rs.ruleset;\r\n          }\r\n          for (var i = 0; i < iterator.length; i++) {\r\n              var key = void 0;\r\n              var value = void 0;\r\n              var item = iterator[i];\r\n              if (item instanceof Declaration) {\r\n                  key = typeof item.name === 'string' ? item.name : item.name[0].value;\r\n                  value = item.value;\r\n              }\r\n              else {\r\n                  key = new Dimension(i + 1);\r\n                  value = item;\r\n              }\r\n              if (item instanceof Comment) {\r\n                  continue;\r\n              }\r\n              newRules = rs.rules.slice(0);\r\n              if (valueName) {\r\n                  newRules.push(new Declaration(valueName, value, false, false, this.index, this.currentFileInfo));\r\n              }\r\n              if (indexName) {\r\n                  newRules.push(new Declaration(indexName, new Dimension(i + 1), false, false, this.index, this.currentFileInfo));\r\n              }\r\n              if (keyName) {\r\n                  newRules.push(new Declaration(keyName, key, false, false, this.index, this.currentFileInfo));\r\n              }\r\n              rules.push(new Ruleset([new (Selector)([new Element(\"\", '&')])], newRules, rs.strictImports, rs.visibilityInfo()));\r\n          }\r\n          return new Ruleset([new (Selector)([new Element(\"\", '&')])], rules, rs.strictImports, rs.visibilityInfo()).eval(this.context);\r\n      }\r\n  };\n\n  var MathHelper = function (fn, unit, n) {\r\n      if (!(n instanceof Dimension)) {\r\n          throw { type: 'Argument', message: 'argument must be a number' };\r\n      }\r\n      if (unit == null) {\r\n          unit = n.unit;\r\n      }\r\n      else {\r\n          n = n.unify();\r\n      }\r\n      return new Dimension(fn(parseFloat(n.value)), unit);\r\n  };\n\n  var mathFunctions = {\r\n      // name,  unit\r\n      ceil: null,\r\n      floor: null,\r\n      sqrt: null,\r\n      abs: null,\r\n      tan: '',\r\n      sin: '',\r\n      cos: '',\r\n      atan: 'rad',\r\n      asin: 'rad',\r\n      acos: 'rad'\r\n  };\r\n  for (var f$1 in mathFunctions) {\r\n      if (mathFunctions.hasOwnProperty(f$1)) {\r\n          mathFunctions[f$1] = MathHelper.bind(null, Math[f$1], mathFunctions[f$1]);\r\n      }\r\n  }\r\n  mathFunctions.round = function (n, f) {\r\n      var fraction = typeof f === 'undefined' ? 0 : f.value;\r\n      return MathHelper(function (num) { return num.toFixed(fraction); }, null, n);\r\n  };\n\n  var minMax = function (isMin, args) {\r\n      args = Array.prototype.slice.call(args);\r\n      switch (args.length) {\r\n          case 0: throw { type: 'Argument', message: 'one or more arguments required' };\r\n      }\r\n      var i; // key is the unit.toString() for unified Dimension values,\r\n      var j;\r\n      var current;\r\n      var currentUnified;\r\n      var referenceUnified;\r\n      var unit;\r\n      var unitStatic;\r\n      var unitClone;\r\n      var // elems only contains original argument values.\r\n      order = [];\r\n      var values = {};\r\n      // value is the index into the order array.\r\n      for (i = 0; i < args.length; i++) {\r\n          current = args[i];\r\n          if (!(current instanceof Dimension)) {\r\n              if (Array.isArray(args[i].value)) {\r\n                  Array.prototype.push.apply(args, Array.prototype.slice.call(args[i].value));\r\n              }\r\n              continue;\r\n          }\r\n          currentUnified = current.unit.toString() === '' && unitClone !== undefined ? new Dimension(current.value, unitClone).unify() : current.unify();\r\n          unit = currentUnified.unit.toString() === '' && unitStatic !== undefined ? unitStatic : currentUnified.unit.toString();\r\n          unitStatic = unit !== '' && unitStatic === undefined || unit !== '' && order[0].unify().unit.toString() === '' ? unit : unitStatic;\r\n          unitClone = unit !== '' && unitClone === undefined ? current.unit.toString() : unitClone;\r\n          j = values[''] !== undefined && unit !== '' && unit === unitStatic ? values[''] : values[unit];\r\n          if (j === undefined) {\r\n              if (unitStatic !== undefined && unit !== unitStatic) {\r\n                  throw { type: 'Argument', message: 'incompatible types' };\r\n              }\r\n              values[unit] = order.length;\r\n              order.push(current);\r\n              continue;\r\n          }\r\n          referenceUnified = order[j].unit.toString() === '' && unitClone !== undefined ? new Dimension(order[j].value, unitClone).unify() : order[j].unify();\r\n          if (isMin && currentUnified.value < referenceUnified.value ||\r\n              !isMin && currentUnified.value > referenceUnified.value) {\r\n              order[j] = current;\r\n          }\r\n      }\r\n      if (order.length == 1) {\r\n          return order[0];\r\n      }\r\n      args = order.map(function (a) { return a.toCSS(this.context); }).join(this.context.compress ? ',' : ', ');\r\n      return new Anonymous((isMin ? 'min' : 'max') + \"(\" + args + \")\");\r\n  };\r\n  var number$1 = {\r\n      min: function () {\r\n          var args = [];\r\n          for (var _i = 0; _i < arguments.length; _i++) {\r\n              args[_i] = arguments[_i];\r\n          }\r\n          return minMax(true, args);\r\n      },\r\n      max: function () {\r\n          var args = [];\r\n          for (var _i = 0; _i < arguments.length; _i++) {\r\n              args[_i] = arguments[_i];\r\n          }\r\n          return minMax(false, args);\r\n      },\r\n      convert: function (val, unit) {\r\n          return val.convertTo(unit.value);\r\n      },\r\n      pi: function () {\r\n          return new Dimension(Math.PI);\r\n      },\r\n      mod: function (a, b) {\r\n          return new Dimension(a.value % b.value, a.unit);\r\n      },\r\n      pow: function (x, y) {\r\n          if (typeof x === 'number' && typeof y === 'number') {\r\n              x = new Dimension(x);\r\n              y = new Dimension(y);\r\n          }\r\n          else if (!(x instanceof Dimension) || !(y instanceof Dimension)) {\r\n              throw { type: 'Argument', message: 'arguments must be numbers' };\r\n          }\r\n          return new Dimension(Math.pow(x.value, y.value), x.unit);\r\n      },\r\n      percentage: function (n) {\r\n          var result = MathHelper(function (num) { return num * 100; }, '%', n);\r\n          return result;\r\n      }\r\n  };\n\n  var string = {\r\n      e: function (str) {\r\n          return new Quoted('\"', str instanceof JavaScript ? str.evaluated : str.value, true);\r\n      },\r\n      escape: function (str) {\r\n          return new Anonymous(encodeURI(str.value).replace(/=/g, '%3D').replace(/:/g, '%3A').replace(/#/g, '%23').replace(/;/g, '%3B')\r\n              .replace(/\\(/g, '%28').replace(/\\)/g, '%29'));\r\n      },\r\n      replace: function (string, pattern, replacement, flags) {\r\n          var result = string.value;\r\n          replacement = (replacement.type === 'Quoted') ?\r\n              replacement.value : replacement.toCSS();\r\n          result = result.replace(new RegExp(pattern.value, flags ? flags.value : ''), replacement);\r\n          return new Quoted(string.quote || '', result, string.escaped);\r\n      },\r\n      '%': function (string /* arg, arg, ... */) {\r\n          var args = Array.prototype.slice.call(arguments, 1);\r\n          var result = string.value;\r\n          var _loop_1 = function (i) {\r\n              /* jshint loopfunc:true */\r\n              result = result.replace(/%[sda]/i, function (token) {\r\n                  var value = ((args[i].type === 'Quoted') &&\r\n                      token.match(/s/i)) ? args[i].value : args[i].toCSS();\r\n                  return token.match(/[A-Z]$/) ? encodeURIComponent(value) : value;\r\n              });\r\n          };\r\n          for (var i = 0; i < args.length; i++) {\r\n              _loop_1(i);\r\n          }\r\n          result = result.replace(/%%/g, '%');\r\n          return new Quoted(string.quote || '', result, string.escaped);\r\n      }\r\n  };\n\n  var svg = (function (environment) {\r\n      return { 'svg-gradient': function (direction) {\r\n              var stops;\r\n              var gradientDirectionSvg;\r\n              var gradientType = 'linear';\r\n              var rectangleDimension = 'x=\"0\" y=\"0\" width=\"1\" height=\"1\"';\r\n              var renderEnv = { compress: false };\r\n              var returner;\r\n              var directionValue = direction.toCSS(renderEnv);\r\n              var i;\r\n              var color;\r\n              var position;\r\n              var positionValue;\r\n              var alpha;\r\n              function throwArgumentDescriptor() {\r\n                  throw { type: 'Argument',\r\n                      message: 'svg-gradient expects direction, start_color [start_position], [color position,]...,' +\r\n                          ' end_color [end_position] or direction, color list' };\r\n              }\r\n              if (arguments.length == 2) {\r\n                  if (arguments[1].value.length < 2) {\r\n                      throwArgumentDescriptor();\r\n                  }\r\n                  stops = arguments[1].value;\r\n              }\r\n              else if (arguments.length < 3) {\r\n                  throwArgumentDescriptor();\r\n              }\r\n              else {\r\n                  stops = Array.prototype.slice.call(arguments, 1);\r\n              }\r\n              switch (directionValue) {\r\n                  case 'to bottom':\r\n                      gradientDirectionSvg = 'x1=\"0%\" y1=\"0%\" x2=\"0%\" y2=\"100%\"';\r\n                      break;\r\n                  case 'to right':\r\n                      gradientDirectionSvg = 'x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"0%\"';\r\n                      break;\r\n                  case 'to bottom right':\r\n                      gradientDirectionSvg = 'x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"100%\"';\r\n                      break;\r\n                  case 'to top right':\r\n                      gradientDirectionSvg = 'x1=\"0%\" y1=\"100%\" x2=\"100%\" y2=\"0%\"';\r\n                      break;\r\n                  case 'ellipse':\r\n                  case 'ellipse at center':\r\n                      gradientType = 'radial';\r\n                      gradientDirectionSvg = 'cx=\"50%\" cy=\"50%\" r=\"75%\"';\r\n                      rectangleDimension = 'x=\"-50\" y=\"-50\" width=\"101\" height=\"101\"';\r\n                      break;\r\n                  default:\r\n                      throw { type: 'Argument', message: 'svg-gradient direction must be \\'to bottom\\', \\'to right\\',' +\r\n                              ' \\'to bottom right\\', \\'to top right\\' or \\'ellipse at center\\'' };\r\n              }\r\n              returner = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 1 1\\\"><\" + gradientType + \"Gradient id=\\\"g\\\" \" + gradientDirectionSvg + \">\";\r\n              for (i = 0; i < stops.length; i += 1) {\r\n                  if (stops[i] instanceof Expression) {\r\n                      color = stops[i].value[0];\r\n                      position = stops[i].value[1];\r\n                  }\r\n                  else {\r\n                      color = stops[i];\r\n                      position = undefined;\r\n                  }\r\n                  if (!(color instanceof Color) || (!((i === 0 || i + 1 === stops.length) && position === undefined) && !(position instanceof Dimension))) {\r\n                      throwArgumentDescriptor();\r\n                  }\r\n                  positionValue = position ? position.toCSS(renderEnv) : i === 0 ? '0%' : '100%';\r\n                  alpha = color.alpha;\r\n                  returner += \"<stop offset=\\\"\" + positionValue + \"\\\" stop-color=\\\"\" + color.toRGB() + \"\\\"\" + (alpha < 1 ? \" stop-opacity=\\\"\" + alpha + \"\\\"\" : '') + \"/>\";\r\n              }\r\n              returner += \"</\" + gradientType + \"Gradient><rect \" + rectangleDimension + \" fill=\\\"url(#g)\\\" /></svg>\";\r\n              returner = encodeURIComponent(returner);\r\n              returner = \"data:image/svg+xml,\" + returner;\r\n              return new URL(new Quoted(\"'\" + returner + \"'\", returner, false, this.index, this.currentFileInfo), this.index, this.currentFileInfo);\r\n          } };\r\n  });\n\n  var isa = function (n, Type) { return (n instanceof Type) ? Keyword.True : Keyword.False; };\r\n  var isunit = function (n, unit) {\r\n      if (unit === undefined) {\r\n          throw { type: 'Argument', message: 'missing the required second argument to isunit.' };\r\n      }\r\n      unit = typeof unit.value === 'string' ? unit.value : unit;\r\n      if (typeof unit !== 'string') {\r\n          throw { type: 'Argument', message: 'Second argument to isunit should be a unit or a string.' };\r\n      }\r\n      return (n instanceof Dimension) && n.unit.is(unit) ? Keyword.True : Keyword.False;\r\n  };\r\n  var types = {\r\n      isruleset: function (n) {\r\n          return isa(n, DetachedRuleset);\r\n      },\r\n      iscolor: function (n) {\r\n          return isa(n, Color);\r\n      },\r\n      isnumber: function (n) {\r\n          return isa(n, Dimension);\r\n      },\r\n      isstring: function (n) {\r\n          return isa(n, Quoted);\r\n      },\r\n      iskeyword: function (n) {\r\n          return isa(n, Keyword);\r\n      },\r\n      isurl: function (n) {\r\n          return isa(n, URL);\r\n      },\r\n      ispixel: function (n) {\r\n          return isunit(n, 'px');\r\n      },\r\n      ispercentage: function (n) {\r\n          return isunit(n, '%');\r\n      },\r\n      isem: function (n) {\r\n          return isunit(n, 'em');\r\n      },\r\n      isunit: isunit,\r\n      unit: function (val, unit) {\r\n          if (!(val instanceof Dimension)) {\r\n              throw { type: 'Argument', message: \"the first argument to unit must be a number\" + (val instanceof Operation ? '. Have you forgotten parenthesis?' : '') };\r\n          }\r\n          if (unit) {\r\n              if (unit instanceof Keyword) {\r\n                  unit = unit.value;\r\n              }\r\n              else {\r\n                  unit = unit.toCSS();\r\n              }\r\n          }\r\n          else {\r\n              unit = '';\r\n          }\r\n          return new Dimension(val.value, unit);\r\n      },\r\n      'get-unit': function (n) {\r\n          return new Anonymous(n.unit);\r\n      }\r\n  };\n\n  var Functions = (function (environment) {\r\n      var functions = { functionRegistry: functionRegistry, functionCaller: functionCaller };\r\n      // register functions\r\n      functionRegistry.addMultiple(boolean$1);\r\n      functionRegistry.add('default', defaultFunc.eval.bind(defaultFunc));\r\n      functionRegistry.addMultiple(color);\r\n      functionRegistry.addMultiple(colorBlend);\r\n      functionRegistry.addMultiple(dataUri(environment));\r\n      functionRegistry.addMultiple(list);\r\n      functionRegistry.addMultiple(mathFunctions);\r\n      functionRegistry.addMultiple(number$1);\r\n      functionRegistry.addMultiple(string);\r\n      functionRegistry.addMultiple(svg());\r\n      functionRegistry.addMultiple(types);\r\n      return functions;\r\n  });\n\n  var sourceMapOutput = (function (environment) {\r\n      var SourceMapOutput = /** @class */ (function () {\r\n          function SourceMapOutput(options) {\r\n              this._css = [];\r\n              this._rootNode = options.rootNode;\r\n              this._contentsMap = options.contentsMap;\r\n              this._contentsIgnoredCharsMap = options.contentsIgnoredCharsMap;\r\n              if (options.sourceMapFilename) {\r\n                  this._sourceMapFilename = options.sourceMapFilename.replace(/\\\\/g, '/');\r\n              }\r\n              this._outputFilename = options.outputFilename;\r\n              this.sourceMapURL = options.sourceMapURL;\r\n              if (options.sourceMapBasepath) {\r\n                  this._sourceMapBasepath = options.sourceMapBasepath.replace(/\\\\/g, '/');\r\n              }\r\n              if (options.sourceMapRootpath) {\r\n                  this._sourceMapRootpath = options.sourceMapRootpath.replace(/\\\\/g, '/');\r\n                  if (this._sourceMapRootpath.charAt(this._sourceMapRootpath.length - 1) !== '/') {\r\n                      this._sourceMapRootpath += '/';\r\n                  }\r\n              }\r\n              else {\r\n                  this._sourceMapRootpath = '';\r\n              }\r\n              this._outputSourceFiles = options.outputSourceFiles;\r\n              this._sourceMapGeneratorConstructor = environment.getSourceMapGenerator();\r\n              this._lineNumber = 0;\r\n              this._column = 0;\r\n          }\r\n          SourceMapOutput.prototype.removeBasepath = function (path) {\r\n              if (this._sourceMapBasepath && path.indexOf(this._sourceMapBasepath) === 0) {\r\n                  path = path.substring(this._sourceMapBasepath.length);\r\n                  if (path.charAt(0) === '\\\\' || path.charAt(0) === '/') {\r\n                      path = path.substring(1);\r\n                  }\r\n              }\r\n              return path;\r\n          };\r\n          SourceMapOutput.prototype.normalizeFilename = function (filename) {\r\n              filename = filename.replace(/\\\\/g, '/');\r\n              filename = this.removeBasepath(filename);\r\n              return (this._sourceMapRootpath || '') + filename;\r\n          };\r\n          SourceMapOutput.prototype.add = function (chunk, fileInfo, index, mapLines) {\r\n              // ignore adding empty strings\r\n              if (!chunk) {\r\n                  return;\r\n              }\r\n              var lines;\r\n              var sourceLines;\r\n              var columns;\r\n              var sourceColumns;\r\n              var i;\r\n              if (fileInfo && fileInfo.filename) {\r\n                  var inputSource = this._contentsMap[fileInfo.filename];\r\n                  // remove vars/banner added to the top of the file\r\n                  if (this._contentsIgnoredCharsMap[fileInfo.filename]) {\r\n                      // adjust the index\r\n                      index -= this._contentsIgnoredCharsMap[fileInfo.filename];\r\n                      if (index < 0) {\r\n                          index = 0;\r\n                      }\r\n                      // adjust the source\r\n                      inputSource = inputSource.slice(this._contentsIgnoredCharsMap[fileInfo.filename]);\r\n                  }\r\n                  /**\r\n                   * ignore empty content, or failsafe\r\n                   * if contents map is incorrect\r\n                   */\r\n                  if (inputSource === undefined) {\r\n                      this._css.push(chunk);\r\n                      return;\r\n                  }\r\n                  inputSource = inputSource.substring(0, index);\r\n                  sourceLines = inputSource.split('\\n');\r\n                  sourceColumns = sourceLines[sourceLines.length - 1];\r\n              }\r\n              lines = chunk.split('\\n');\r\n              columns = lines[lines.length - 1];\r\n              if (fileInfo && fileInfo.filename) {\r\n                  if (!mapLines) {\r\n                      this._sourceMapGenerator.addMapping({ generated: { line: this._lineNumber + 1, column: this._column },\r\n                          original: { line: sourceLines.length, column: sourceColumns.length },\r\n                          source: this.normalizeFilename(fileInfo.filename) });\r\n                  }\r\n                  else {\r\n                      for (i = 0; i < lines.length; i++) {\r\n                          this._sourceMapGenerator.addMapping({ generated: { line: this._lineNumber + i + 1, column: i === 0 ? this._column : 0 },\r\n                              original: { line: sourceLines.length + i, column: i === 0 ? sourceColumns.length : 0 },\r\n                              source: this.normalizeFilename(fileInfo.filename) });\r\n                      }\r\n                  }\r\n              }\r\n              if (lines.length === 1) {\r\n                  this._column += columns.length;\r\n              }\r\n              else {\r\n                  this._lineNumber += lines.length - 1;\r\n                  this._column = columns.length;\r\n              }\r\n              this._css.push(chunk);\r\n          };\r\n          SourceMapOutput.prototype.isEmpty = function () {\r\n              return this._css.length === 0;\r\n          };\r\n          SourceMapOutput.prototype.toCSS = function (context) {\r\n              this._sourceMapGenerator = new this._sourceMapGeneratorConstructor({ file: this._outputFilename, sourceRoot: null });\r\n              if (this._outputSourceFiles) {\r\n                  for (var filename in this._contentsMap) {\r\n                      if (this._contentsMap.hasOwnProperty(filename)) {\r\n                          var source = this._contentsMap[filename];\r\n                          if (this._contentsIgnoredCharsMap[filename]) {\r\n                              source = source.slice(this._contentsIgnoredCharsMap[filename]);\r\n                          }\r\n                          this._sourceMapGenerator.setSourceContent(this.normalizeFilename(filename), source);\r\n                      }\r\n                  }\r\n              }\r\n              this._rootNode.genCSS(context, this);\r\n              if (this._css.length > 0) {\r\n                  var sourceMapURL = void 0;\r\n                  var sourceMapContent = JSON.stringify(this._sourceMapGenerator.toJSON());\r\n                  if (this.sourceMapURL) {\r\n                      sourceMapURL = this.sourceMapURL;\r\n                  }\r\n                  else if (this._sourceMapFilename) {\r\n                      sourceMapURL = this._sourceMapFilename;\r\n                  }\r\n                  this.sourceMapURL = sourceMapURL;\r\n                  this.sourceMap = sourceMapContent;\r\n              }\r\n              return this._css.join('');\r\n          };\r\n          return SourceMapOutput;\r\n      }());\r\n      return SourceMapOutput;\r\n  });\n\n  var sourceMapBuilder = (function (SourceMapOutput, environment) {\r\n      var SourceMapBuilder = /** @class */ (function () {\r\n          function SourceMapBuilder(options) {\r\n              this.options = options;\r\n          }\r\n          SourceMapBuilder.prototype.toCSS = function (rootNode, options, imports) {\r\n              var sourceMapOutput = new SourceMapOutput({\r\n                  contentsIgnoredCharsMap: imports.contentsIgnoredChars,\r\n                  rootNode: rootNode,\r\n                  contentsMap: imports.contents,\r\n                  sourceMapFilename: this.options.sourceMapFilename,\r\n                  sourceMapURL: this.options.sourceMapURL,\r\n                  outputFilename: this.options.sourceMapOutputFilename,\r\n                  sourceMapBasepath: this.options.sourceMapBasepath,\r\n                  sourceMapRootpath: this.options.sourceMapRootpath,\r\n                  outputSourceFiles: this.options.outputSourceFiles,\r\n                  sourceMapGenerator: this.options.sourceMapGenerator,\r\n                  sourceMapFileInline: this.options.sourceMapFileInline,\r\n                  disableSourcemapAnnotation: this.options.disableSourcemapAnnotation\r\n              });\r\n              var css = sourceMapOutput.toCSS(options);\r\n              this.sourceMap = sourceMapOutput.sourceMap;\r\n              this.sourceMapURL = sourceMapOutput.sourceMapURL;\r\n              if (this.options.sourceMapInputFilename) {\r\n                  this.sourceMapInputFilename = sourceMapOutput.normalizeFilename(this.options.sourceMapInputFilename);\r\n              }\r\n              if (this.options.sourceMapBasepath !== undefined && this.sourceMapURL !== undefined) {\r\n                  this.sourceMapURL = sourceMapOutput.removeBasepath(this.sourceMapURL);\r\n              }\r\n              return css + this.getCSSAppendage();\r\n          };\r\n          SourceMapBuilder.prototype.getCSSAppendage = function () {\r\n              var sourceMapURL = this.sourceMapURL;\r\n              if (this.options.sourceMapFileInline) {\r\n                  if (this.sourceMap === undefined) {\r\n                      return '';\r\n                  }\r\n                  sourceMapURL = \"data:application/json;base64,\" + environment.encodeBase64(this.sourceMap);\r\n              }\r\n              if (this.options.disableSourcemapAnnotation) {\r\n                  return '';\r\n              }\r\n              if (sourceMapURL) {\r\n                  return \"/*# sourceMappingURL=\" + sourceMapURL + \" */\";\r\n              }\r\n              return '';\r\n          };\r\n          SourceMapBuilder.prototype.getExternalSourceMap = function () {\r\n              return this.sourceMap;\r\n          };\r\n          SourceMapBuilder.prototype.setExternalSourceMap = function (sourceMap) {\r\n              this.sourceMap = sourceMap;\r\n          };\r\n          SourceMapBuilder.prototype.isInline = function () {\r\n              return this.options.sourceMapFileInline;\r\n          };\r\n          SourceMapBuilder.prototype.getSourceMapURL = function () {\r\n              return this.sourceMapURL;\r\n          };\r\n          SourceMapBuilder.prototype.getOutputFilename = function () {\r\n              return this.options.sourceMapOutputFilename;\r\n          };\r\n          SourceMapBuilder.prototype.getInputFilename = function () {\r\n              return this.sourceMapInputFilename;\r\n          };\r\n          return SourceMapBuilder;\r\n      }());\r\n      return SourceMapBuilder;\r\n  });\n\n  var transformTree = (function (root, options) {\r\n      if (options === void 0) { options = {}; }\r\n      var evaldRoot;\r\n      var variables = options.variables;\r\n      var evalEnv = new contexts.Eval(options);\r\n      //\r\n      // Allows setting variables with a hash, so:\r\n      //\r\n      //   `{ color: new tree.Color('#f01') }` will become:\r\n      //\r\n      //   new tree.Declaration('@color',\r\n      //     new tree.Value([\r\n      //       new tree.Expression([\r\n      //         new tree.Color('#f01')\r\n      //       ])\r\n      //     ])\r\n      //   )\r\n      //\r\n      if (typeof variables === 'object' && !Array.isArray(variables)) {\r\n          variables = Object.keys(variables).map(function (k) {\r\n              var value = variables[k];\r\n              if (!(value instanceof tree.Value)) {\r\n                  if (!(value instanceof tree.Expression)) {\r\n                      value = new tree.Expression([value]);\r\n                  }\r\n                  value = new tree.Value([value]);\r\n              }\r\n              return new tree.Declaration(\"@\" + k, value, false, null, 0);\r\n          });\r\n          evalEnv.frames = [new tree.Ruleset(null, variables)];\r\n      }\r\n      var visitors$1 = [\r\n          new visitors.JoinSelectorVisitor(),\r\n          new visitors.MarkVisibleSelectorsVisitor(true),\r\n          new visitors.ExtendVisitor(),\r\n          new visitors.ToCSSVisitor({ compress: Boolean(options.compress) })\r\n      ];\r\n      var preEvalVisitors = [];\r\n      var v;\r\n      var visitorIterator;\r\n      /**\r\n       * first() / get() allows visitors to be added while visiting\r\n       *\r\n       * @todo Add scoping for visitors just like functions for @plugin; right now they're global\r\n       */\r\n      if (options.pluginManager) {\r\n          visitorIterator = options.pluginManager.visitor();\r\n          for (var i = 0; i < 2; i++) {\r\n              visitorIterator.first();\r\n              while ((v = visitorIterator.get())) {\r\n                  if (v.isPreEvalVisitor) {\r\n                      if (i === 0 || preEvalVisitors.indexOf(v) === -1) {\r\n                          preEvalVisitors.push(v);\r\n                          v.run(root);\r\n                      }\r\n                  }\r\n                  else {\r\n                      if (i === 0 || visitors$1.indexOf(v) === -1) {\r\n                          if (v.isPreVisitor) {\r\n                              visitors$1.unshift(v);\r\n                          }\r\n                          else {\r\n                              visitors$1.push(v);\r\n                          }\r\n                      }\r\n                  }\r\n              }\r\n          }\r\n      }\r\n      evaldRoot = root.eval(evalEnv);\r\n      for (var i = 0; i < visitors$1.length; i++) {\r\n          visitors$1[i].run(evaldRoot);\r\n      }\r\n      // Run any remaining visitors added after eval pass\r\n      if (options.pluginManager) {\r\n          visitorIterator.first();\r\n          while ((v = visitorIterator.get())) {\r\n              if (visitors$1.indexOf(v) === -1 && preEvalVisitors.indexOf(v) === -1) {\r\n                  v.run(evaldRoot);\r\n              }\r\n          }\r\n      }\r\n      return evaldRoot;\r\n  });\n\n  var parseTree = (function (SourceMapBuilder) {\r\n      var ParseTree = /** @class */ (function () {\r\n          function ParseTree(root, imports) {\r\n              this.root = root;\r\n              this.imports = imports;\r\n          }\r\n          ParseTree.prototype.toCSS = function (options) {\r\n              var evaldRoot;\r\n              var result = {};\r\n              var sourceMapBuilder;\r\n              try {\r\n                  evaldRoot = transformTree(this.root, options);\r\n              }\r\n              catch (e) {\r\n                  throw new LessError(e, this.imports);\r\n              }\r\n              try {\r\n                  var compress = Boolean(options.compress);\r\n                  if (compress) {\r\n                      logger.warn('The compress option has been deprecated. ' +\r\n                          'We recommend you use a dedicated css minifier, for instance see less-plugin-clean-css.');\r\n                  }\r\n                  var toCSSOptions = {\r\n                      compress: compress,\r\n                      dumpLineNumbers: options.dumpLineNumbers,\r\n                      strictUnits: Boolean(options.strictUnits),\r\n                      numPrecision: 8\r\n                  };\r\n                  if (options.sourceMap) {\r\n                      sourceMapBuilder = new SourceMapBuilder(options.sourceMap);\r\n                      result.css = sourceMapBuilder.toCSS(evaldRoot, toCSSOptions, this.imports);\r\n                  }\r\n                  else {\r\n                      result.css = evaldRoot.toCSS(toCSSOptions);\r\n                  }\r\n              }\r\n              catch (e) {\r\n                  throw new LessError(e, this.imports);\r\n              }\r\n              if (options.pluginManager) {\r\n                  var postProcessors = options.pluginManager.getPostProcessors();\r\n                  for (var i = 0; i < postProcessors.length; i++) {\r\n                      result.css = postProcessors[i].process(result.css, { sourceMap: sourceMapBuilder, options: options, imports: this.imports });\r\n                  }\r\n              }\r\n              if (options.sourceMap) {\r\n                  result.map = sourceMapBuilder.getExternalSourceMap();\r\n              }\r\n              result.imports = [];\r\n              for (var file in this.imports.files) {\r\n                  if (this.imports.files.hasOwnProperty(file) && file !== this.imports.rootFilename) {\r\n                      result.imports.push(file);\r\n                  }\r\n              }\r\n              return result;\r\n          };\r\n          return ParseTree;\r\n      }());\r\n      return ParseTree;\r\n  });\n\n  function importManager (environment) {\r\n      // FileInfo = {\r\n      //  'rewriteUrls' - option - whether to adjust URL's to be relative\r\n      //  'filename' - full resolved filename of current file\r\n      //  'rootpath' - path to append to normal URLs for this node\r\n      //  'currentDirectory' - path to the current file, absolute\r\n      //  'rootFilename' - filename of the base file\r\n      //  'entryPath' - absolute path to the entry file\r\n      //  'reference' - whether the file should not be output and only output parts that are referenced\r\n      var ImportManager = /** @class */ (function () {\r\n          function ImportManager(less, context, rootFileInfo) {\r\n              this.less = less;\r\n              this.rootFilename = rootFileInfo.filename;\r\n              this.paths = context.paths || []; // Search paths, when importing\r\n              this.contents = {}; // map - filename to contents of all the files\r\n              this.contentsIgnoredChars = {}; // map - filename to lines at the beginning of each file to ignore\r\n              this.mime = context.mime;\r\n              this.error = null;\r\n              this.context = context;\r\n              // Deprecated? Unused outside of here, could be useful.\r\n              this.queue = []; // Files which haven't been imported yet\r\n              this.files = {}; // Holds the imported parse trees.\r\n          }\r\n          /**\r\n           * Add an import to be imported\r\n           * @param path - the raw path\r\n           * @param tryAppendExtension - whether to try appending a file extension (.less or .js if the path has no extension)\r\n           * @param currentFileInfo - the current file info (used for instance to work out relative paths)\r\n           * @param importOptions - import options\r\n           * @param callback - callback for when it is imported\r\n           */\r\n          ImportManager.prototype.push = function (path, tryAppendExtension, currentFileInfo, importOptions, callback) {\r\n              var importManager = this, pluginLoader = this.context.pluginManager.Loader;\r\n              this.queue.push(path);\r\n              var fileParsedFunc = function (e, root, fullPath) {\r\n                  importManager.queue.splice(importManager.queue.indexOf(path), 1); // Remove the path from the queue\r\n                  var importedEqualsRoot = fullPath === importManager.rootFilename;\r\n                  if (importOptions.optional && e) {\r\n                      callback(null, { rules: [] }, false, null);\r\n                      logger.info(\"The file \" + fullPath + \" was skipped because it was not found and the import was marked optional.\");\r\n                  }\r\n                  else {\r\n                      // Inline imports aren't cached here.\r\n                      // If we start to cache them, please make sure they won't conflict with non-inline imports of the\r\n                      // same name as they used to do before this comment and the condition below have been added.\r\n                      if (!importManager.files[fullPath] && !importOptions.inline) {\r\n                          importManager.files[fullPath] = { root: root, options: importOptions };\r\n                      }\r\n                      if (e && !importManager.error) {\r\n                          importManager.error = e;\r\n                      }\r\n                      callback(e, root, importedEqualsRoot, fullPath);\r\n                  }\r\n              };\r\n              var newFileInfo = {\r\n                  rewriteUrls: this.context.rewriteUrls,\r\n                  entryPath: currentFileInfo.entryPath,\r\n                  rootpath: currentFileInfo.rootpath,\r\n                  rootFilename: currentFileInfo.rootFilename\r\n              };\r\n              var fileManager = environment.getFileManager(path, currentFileInfo.currentDirectory, this.context, environment);\r\n              if (!fileManager) {\r\n                  fileParsedFunc({ message: \"Could not find a file-manager for \" + path });\r\n                  return;\r\n              }\r\n              var loadFileCallback = function (loadedFile) {\r\n                  var plugin;\r\n                  var resolvedFilename = loadedFile.filename;\r\n                  var contents = loadedFile.contents.replace(/^\\uFEFF/, '');\r\n                  // Pass on an updated rootpath if path of imported file is relative and file\r\n                  // is in a (sub|sup) directory\r\n                  //\r\n                  // Examples:\r\n                  // - If path of imported file is 'module/nav/nav.less' and rootpath is 'less/',\r\n                  //   then rootpath should become 'less/module/nav/'\r\n                  // - If path of imported file is '../mixins.less' and rootpath is 'less/',\r\n                  //   then rootpath should become 'less/../'\r\n                  newFileInfo.currentDirectory = fileManager.getPath(resolvedFilename);\r\n                  if (newFileInfo.rewriteUrls) {\r\n                      newFileInfo.rootpath = fileManager.join((importManager.context.rootpath || ''), fileManager.pathDiff(newFileInfo.currentDirectory, newFileInfo.entryPath));\r\n                      if (!fileManager.isPathAbsolute(newFileInfo.rootpath) && fileManager.alwaysMakePathsAbsolute()) {\r\n                          newFileInfo.rootpath = fileManager.join(newFileInfo.entryPath, newFileInfo.rootpath);\r\n                      }\r\n                  }\r\n                  newFileInfo.filename = resolvedFilename;\r\n                  var newEnv = new contexts.Parse(importManager.context);\r\n                  newEnv.processImports = false;\r\n                  importManager.contents[resolvedFilename] = contents;\r\n                  if (currentFileInfo.reference || importOptions.reference) {\r\n                      newFileInfo.reference = true;\r\n                  }\r\n                  if (importOptions.isPlugin) {\r\n                      plugin = pluginLoader.evalPlugin(contents, newEnv, importManager, importOptions.pluginArgs, newFileInfo);\r\n                      if (plugin instanceof LessError) {\r\n                          fileParsedFunc(plugin, null, resolvedFilename);\r\n                      }\r\n                      else {\r\n                          fileParsedFunc(null, plugin, resolvedFilename);\r\n                      }\r\n                  }\r\n                  else if (importOptions.inline) {\r\n                      fileParsedFunc(null, contents, resolvedFilename);\r\n                  }\r\n                  else {\r\n                      // import (multiple) parse trees apparently get altered and can't be cached.\r\n                      // TODO: investigate why this is\r\n                      if (importManager.files[resolvedFilename]\r\n                          && !importManager.files[resolvedFilename].options.multiple\r\n                          && !importOptions.multiple) {\r\n                          fileParsedFunc(null, importManager.files[resolvedFilename].root, resolvedFilename);\r\n                      }\r\n                      else {\r\n                          new Parser(newEnv, importManager, newFileInfo).parse(contents, function (e, root) {\r\n                              fileParsedFunc(e, root, resolvedFilename);\r\n                          });\r\n                      }\r\n                  }\r\n              };\r\n              var loadedFile;\r\n              var promise;\r\n              var context = clone(this.context);\r\n              if (tryAppendExtension) {\r\n                  context.ext = importOptions.isPlugin ? '.js' : '.less';\r\n              }\r\n              if (importOptions.isPlugin) {\r\n                  context.mime = 'application/javascript';\r\n                  if (context.syncImport) {\r\n                      loadedFile = pluginLoader.loadPluginSync(path, currentFileInfo.currentDirectory, context, environment, fileManager);\r\n                  }\r\n                  else {\r\n                      promise = pluginLoader.loadPlugin(path, currentFileInfo.currentDirectory, context, environment, fileManager);\r\n                  }\r\n              }\r\n              else {\r\n                  if (context.syncImport) {\r\n                      loadedFile = fileManager.loadFileSync(path, currentFileInfo.currentDirectory, context, environment);\r\n                  }\r\n                  else {\r\n                      promise = fileManager.loadFile(path, currentFileInfo.currentDirectory, context, environment, function (err, loadedFile) {\r\n                          if (err) {\r\n                              fileParsedFunc(err);\r\n                          }\r\n                          else {\r\n                              loadFileCallback(loadedFile);\r\n                          }\r\n                      });\r\n                  }\r\n              }\r\n              if (loadedFile) {\r\n                  if (!loadedFile.filename) {\r\n                      fileParsedFunc(loadedFile);\r\n                  }\r\n                  else {\r\n                      loadFileCallback(loadedFile);\r\n                  }\r\n              }\r\n              else if (promise) {\r\n                  promise.then(loadFileCallback, fileParsedFunc);\r\n              }\r\n          };\r\n          return ImportManager;\r\n      }());\r\n      return ImportManager;\r\n  }\n\n  var Render = (function (environment, ParseTree, ImportManager) {\r\n      var render = function (input, options, callback) {\r\n          if (typeof options === 'function') {\r\n              callback = options;\r\n              options = copyOptions(this.options, {});\r\n          }\r\n          else {\r\n              options = copyOptions(this.options, options || {});\r\n          }\r\n          if (!callback) {\r\n              var self_1 = this;\r\n              return new Promise(function (resolve, reject) {\r\n                  render.call(self_1, input, options, function (err, output) {\r\n                      if (err) {\r\n                          reject(err);\r\n                      }\r\n                      else {\r\n                          resolve(output);\r\n                      }\r\n                  });\r\n              });\r\n          }\r\n          else {\r\n              this.parse(input, options, function (err, root, imports, options) {\r\n                  if (err) {\r\n                      return callback(err);\r\n                  }\r\n                  var result;\r\n                  try {\r\n                      var parseTree = new ParseTree(root, imports);\r\n                      result = parseTree.toCSS(options);\r\n                  }\r\n                  catch (err) {\r\n                      return callback(err);\r\n                  }\r\n                  callback(null, result);\r\n              });\r\n          }\r\n      };\r\n      return render;\r\n  });\n\n  /**\r\n   * Plugin Manager\r\n   */\r\n  var PluginManager = /** @class */ (function () {\r\n      function PluginManager(less) {\r\n          this.less = less;\r\n          this.visitors = [];\r\n          this.preProcessors = [];\r\n          this.postProcessors = [];\r\n          this.installedPlugins = [];\r\n          this.fileManagers = [];\r\n          this.iterator = -1;\r\n          this.pluginCache = {};\r\n          this.Loader = new less.PluginLoader(less);\r\n      }\r\n      /**\r\n       * Adds all the plugins in the array\r\n       * @param {Array} plugins\r\n       */\r\n      PluginManager.prototype.addPlugins = function (plugins) {\r\n          if (plugins) {\r\n              for (var i = 0; i < plugins.length; i++) {\r\n                  this.addPlugin(plugins[i]);\r\n              }\r\n          }\r\n      };\r\n      /**\r\n       *\r\n       * @param plugin\r\n       * @param {String} filename\r\n       */\r\n      PluginManager.prototype.addPlugin = function (plugin, filename, functionRegistry) {\r\n          this.installedPlugins.push(plugin);\r\n          if (filename) {\r\n              this.pluginCache[filename] = plugin;\r\n          }\r\n          if (plugin.install) {\r\n              plugin.install(this.less, this, functionRegistry || this.less.functions.functionRegistry);\r\n          }\r\n      };\r\n      /**\r\n       *\r\n       * @param filename\r\n       */\r\n      PluginManager.prototype.get = function (filename) {\r\n          return this.pluginCache[filename];\r\n      };\r\n      /**\r\n       * Adds a visitor. The visitor object has options on itself to determine\r\n       * when it should run.\r\n       * @param visitor\r\n       */\r\n      PluginManager.prototype.addVisitor = function (visitor) {\r\n          this.visitors.push(visitor);\r\n      };\r\n      /**\r\n       * Adds a pre processor object\r\n       * @param {object} preProcessor\r\n       * @param {number} priority - guidelines 1 = before import, 1000 = import, 2000 = after import\r\n       */\r\n      PluginManager.prototype.addPreProcessor = function (preProcessor, priority) {\r\n          var indexToInsertAt;\r\n          for (indexToInsertAt = 0; indexToInsertAt < this.preProcessors.length; indexToInsertAt++) {\r\n              if (this.preProcessors[indexToInsertAt].priority >= priority) {\r\n                  break;\r\n              }\r\n          }\r\n          this.preProcessors.splice(indexToInsertAt, 0, { preProcessor: preProcessor, priority: priority });\r\n      };\r\n      /**\r\n       * Adds a post processor object\r\n       * @param {object} postProcessor\r\n       * @param {number} priority - guidelines 1 = before compression, 1000 = compression, 2000 = after compression\r\n       */\r\n      PluginManager.prototype.addPostProcessor = function (postProcessor, priority) {\r\n          var indexToInsertAt;\r\n          for (indexToInsertAt = 0; indexToInsertAt < this.postProcessors.length; indexToInsertAt++) {\r\n              if (this.postProcessors[indexToInsertAt].priority >= priority) {\r\n                  break;\r\n              }\r\n          }\r\n          this.postProcessors.splice(indexToInsertAt, 0, { postProcessor: postProcessor, priority: priority });\r\n      };\r\n      /**\r\n       *\r\n       * @param manager\r\n       */\r\n      PluginManager.prototype.addFileManager = function (manager) {\r\n          this.fileManagers.push(manager);\r\n      };\r\n      /**\r\n       *\r\n       * @returns {Array}\r\n       * @private\r\n       */\r\n      PluginManager.prototype.getPreProcessors = function () {\r\n          var preProcessors = [];\r\n          for (var i = 0; i < this.preProcessors.length; i++) {\r\n              preProcessors.push(this.preProcessors[i].preProcessor);\r\n          }\r\n          return preProcessors;\r\n      };\r\n      /**\r\n       *\r\n       * @returns {Array}\r\n       * @private\r\n       */\r\n      PluginManager.prototype.getPostProcessors = function () {\r\n          var postProcessors = [];\r\n          for (var i = 0; i < this.postProcessors.length; i++) {\r\n              postProcessors.push(this.postProcessors[i].postProcessor);\r\n          }\r\n          return postProcessors;\r\n      };\r\n      /**\r\n       *\r\n       * @returns {Array}\r\n       * @private\r\n       */\r\n      PluginManager.prototype.getVisitors = function () {\r\n          return this.visitors;\r\n      };\r\n      PluginManager.prototype.visitor = function () {\r\n          var self = this;\r\n          return {\r\n              first: function () {\r\n                  self.iterator = -1;\r\n                  return self.visitors[self.iterator];\r\n              },\r\n              get: function () {\r\n                  self.iterator += 1;\r\n                  return self.visitors[self.iterator];\r\n              }\r\n          };\r\n      };\r\n      /**\r\n       *\r\n       * @returns {Array}\r\n       * @private\r\n       */\r\n      PluginManager.prototype.getFileManagers = function () {\r\n          return this.fileManagers;\r\n      };\r\n      return PluginManager;\r\n  }());\r\n  var pm;\r\n  function PluginManagerFactory(less, newFactory) {\r\n      if (newFactory || !pm) {\r\n          pm = new PluginManager(less);\r\n      }\r\n      return pm;\r\n  }\n\n  var Parse = (function (environment, ParseTree, ImportManager) {\r\n      var parse = function (input, options, callback) {\r\n          if (typeof options === 'function') {\r\n              callback = options;\r\n              options = copyOptions(this.options, {});\r\n          }\r\n          else {\r\n              options = copyOptions(this.options, options || {});\r\n          }\r\n          if (!callback) {\r\n              var self_1 = this;\r\n              return new Promise(function (resolve, reject) {\r\n                  parse.call(self_1, input, options, function (err, output) {\r\n                      if (err) {\r\n                          reject(err);\r\n                      }\r\n                      else {\r\n                          resolve(output);\r\n                      }\r\n                  });\r\n              });\r\n          }\r\n          else {\r\n              var context_1;\r\n              var rootFileInfo = void 0;\r\n              var pluginManager_1 = new PluginManagerFactory(this, !options.reUsePluginManager);\r\n              options.pluginManager = pluginManager_1;\r\n              context_1 = new contexts.Parse(options);\r\n              if (options.rootFileInfo) {\r\n                  rootFileInfo = options.rootFileInfo;\r\n              }\r\n              else {\r\n                  var filename = options.filename || 'input';\r\n                  var entryPath = filename.replace(/[^\\/\\\\]*$/, '');\r\n                  rootFileInfo = {\r\n                      filename: filename,\r\n                      rewriteUrls: context_1.rewriteUrls,\r\n                      rootpath: context_1.rootpath || '',\r\n                      currentDirectory: entryPath,\r\n                      entryPath: entryPath,\r\n                      rootFilename: filename\r\n                  };\r\n                  // add in a missing trailing slash\r\n                  if (rootFileInfo.rootpath && rootFileInfo.rootpath.slice(-1) !== '/') {\r\n                      rootFileInfo.rootpath += '/';\r\n                  }\r\n              }\r\n              var imports_1 = new ImportManager(this, context_1, rootFileInfo);\r\n              this.importManager = imports_1;\r\n              // TODO: allow the plugins to be just a list of paths or names\r\n              // Do an async plugin queue like lessc\r\n              if (options.plugins) {\r\n                  options.plugins.forEach(function (plugin) {\r\n                      var evalResult;\r\n                      var contents;\r\n                      if (plugin.fileContent) {\r\n                          contents = plugin.fileContent.replace(/^\\uFEFF/, '');\r\n                          evalResult = pluginManager_1.Loader.evalPlugin(contents, context_1, imports_1, plugin.options, plugin.filename);\r\n                          if (evalResult instanceof LessError) {\r\n                              return callback(evalResult);\r\n                          }\r\n                      }\r\n                      else {\r\n                          pluginManager_1.addPlugin(plugin);\r\n                      }\r\n                  });\r\n              }\r\n              new Parser(context_1, imports_1, rootFileInfo)\r\n                  .parse(input, function (e, root) {\r\n                  if (e) {\r\n                      return callback(e);\r\n                  }\r\n                  callback(null, root, imports_1, options);\r\n              }, options);\r\n          }\r\n      };\r\n      return parse;\r\n  });\n\n  var lessRoot = (function (environment$1, fileManagers) {\r\n      /**\r\n       * @todo\r\n       * This original code could be improved quite a bit.\r\n       * Many classes / modules currently add side-effects / mutations to passed in objects,\r\n       * which makes it hard to refactor and reason about.\r\n       */\r\n      environment$1 = new environment(environment$1, fileManagers);\r\n      var SourceMapOutput = sourceMapOutput(environment$1);\r\n      var SourceMapBuilder = sourceMapBuilder(SourceMapOutput, environment$1);\r\n      var ParseTree = parseTree(SourceMapBuilder);\r\n      var ImportManager = importManager(environment$1);\r\n      var render = Render(environment$1, ParseTree);\r\n      var parse = Parse(environment$1, ParseTree, ImportManager);\r\n      var functions = Functions(environment$1);\r\n      /**\r\n       * @todo\r\n       * This root properties / methods need to be organized.\r\n       * It's not clear what should / must be public and why.\r\n       */\r\n      var initial = {\r\n          version: [3, 13, 1],\r\n          data: data,\r\n          tree: tree,\r\n          Environment: environment,\r\n          AbstractFileManager: AbstractFileManager,\r\n          AbstractPluginLoader: AbstractPluginLoader,\r\n          environment: environment$1,\r\n          visitors: visitors,\r\n          Parser: Parser,\r\n          functions: functions,\r\n          contexts: contexts,\r\n          SourceMapOutput: SourceMapOutput,\r\n          SourceMapBuilder: SourceMapBuilder,\r\n          ParseTree: ParseTree,\r\n          ImportManager: ImportManager,\r\n          render: render,\r\n          parse: parse,\r\n          LessError: LessError,\r\n          transformTree: transformTree,\r\n          utils: utils,\r\n          PluginManager: PluginManagerFactory,\r\n          logger: logger\r\n      };\r\n      // Create a public API\r\n      var ctor = function (t) { return function () {\r\n          var args = [];\r\n          for (var _i = 0; _i < arguments.length; _i++) {\r\n              args[_i] = arguments[_i];\r\n          }\r\n          return new (t.bind.apply(t, __spreadArrays([void 0], args)))();\r\n      }; };\r\n      var t;\r\n      var api = Object.create(initial);\r\n      for (var n in initial.tree) {\r\n          /* eslint guard-for-in: 0 */\r\n          t = initial.tree[n];\r\n          if (typeof t === 'function') {\r\n              api[n.toLowerCase()] = ctor(t);\r\n          }\r\n          else {\r\n              api[n] = Object.create(null);\r\n              for (var o in t) {\r\n                  /* eslint guard-for-in: 0 */\r\n                  api[n][o.toLowerCase()] = ctor(t[o]);\r\n              }\r\n          }\r\n      }\r\n      /**\r\n       * Some of the functions assume a `this` context of the API object,\r\n       * which causes it to fail when wrapped for ES6 imports.\r\n       *\r\n       * An assumed `this` should be removed in the future.\r\n       */\r\n      initial.parse = initial.parse.bind(api);\r\n      initial.render = initial.render.bind(api);\r\n      return api;\r\n  });\n\n  /* global window, XMLHttpRequest */\r\n  var options;\r\n  var logger$1;\r\n  var fileCache = {};\r\n  // TODOS - move log somewhere. pathDiff and doing something similar in node. use pathDiff in the other browser file for the initial load\r\n  var FileManager = /** @class */ (function (_super) {\r\n      __extends(FileManager, _super);\r\n      function FileManager() {\r\n          return _super !== null && _super.apply(this, arguments) || this;\r\n      }\r\n      FileManager.prototype.alwaysMakePathsAbsolute = function () {\r\n          return true;\r\n      };\r\n      FileManager.prototype.join = function (basePath, laterPath) {\r\n          if (!basePath) {\r\n              return laterPath;\r\n          }\r\n          return this.extractUrlParts(laterPath, basePath).path;\r\n      };\r\n      FileManager.prototype.doXHR = function (url, type, callback, errback) {\r\n          var xhr = new XMLHttpRequest();\r\n          var async = options.isFileProtocol ? options.fileAsync : true;\r\n          if (typeof xhr.overrideMimeType === 'function') {\r\n              xhr.overrideMimeType('text/css');\r\n          }\r\n          logger$1.debug(\"XHR: Getting '\" + url + \"'\");\r\n          xhr.open('GET', url, async);\r\n          xhr.setRequestHeader('Accept', type || 'text/x-less, text/css; q=0.9, */*; q=0.5');\r\n          xhr.send(null);\r\n          function handleResponse(xhr, callback, errback) {\r\n              if (xhr.status >= 200 && xhr.status < 300) {\r\n                  callback(xhr.responseText, xhr.getResponseHeader('Last-Modified'));\r\n              }\r\n              else if (typeof errback === 'function') {\r\n                  errback(xhr.status, url);\r\n              }\r\n          }\r\n          if (options.isFileProtocol && !options.fileAsync) {\r\n              if (xhr.status === 0 || (xhr.status >= 200 && xhr.status < 300)) {\r\n                  callback(xhr.responseText);\r\n              }\r\n              else {\r\n                  errback(xhr.status, url);\r\n              }\r\n          }\r\n          else if (async) {\r\n              xhr.onreadystatechange = function () {\r\n                  if (xhr.readyState == 4) {\r\n                      handleResponse(xhr, callback, errback);\r\n                  }\r\n              };\r\n          }\r\n          else {\r\n              handleResponse(xhr, callback, errback);\r\n          }\r\n      };\r\n      FileManager.prototype.supports = function () {\r\n          return true;\r\n      };\r\n      FileManager.prototype.clearFileCache = function () {\r\n          fileCache = {};\r\n      };\r\n      FileManager.prototype.loadFile = function (filename, currentDirectory, options, environment) {\r\n          // TODO: Add prefix support like less-node?\r\n          // What about multiple paths?\r\n          if (currentDirectory && !this.isPathAbsolute(filename)) {\r\n              filename = currentDirectory + filename;\r\n          }\r\n          filename = options.ext ? this.tryAppendExtension(filename, options.ext) : filename;\r\n          options = options || {};\r\n          // sheet may be set to the stylesheet for the initial load or a collection of properties including\r\n          // some context variables for imports\r\n          var hrefParts = this.extractUrlParts(filename, window.location.href);\r\n          var href = hrefParts.url;\r\n          var self = this;\r\n          return new Promise(function (resolve, reject) {\r\n              if (options.useFileCache && fileCache[href]) {\r\n                  try {\r\n                      var lessText = fileCache[href];\r\n                      return resolve({ contents: lessText, filename: href, webInfo: { lastModified: new Date() } });\r\n                  }\r\n                  catch (e) {\r\n                      return reject({ filename: href, message: \"Error loading file \" + href + \" error was \" + e.message });\r\n                  }\r\n              }\r\n              self.doXHR(href, options.mime, function doXHRCallback(data, lastModified) {\r\n                  // per file cache\r\n                  fileCache[href] = data;\r\n                  // Use remote copy (re-parse)\r\n                  resolve({ contents: data, filename: href, webInfo: { lastModified: lastModified } });\r\n              }, function doXHRError(status, url) {\r\n                  reject({ type: 'File', message: \"'\" + url + \"' wasn't found (\" + status + \")\", href: href });\r\n              });\r\n          });\r\n      };\r\n      return FileManager;\r\n  }(AbstractFileManager));\r\n  var FM = (function (opts, log) {\r\n      options = opts;\r\n      logger$1 = log;\r\n      return FileManager;\r\n  });\n\n  // TODO: Add tests for browser @plugin\r\n  /**\r\n   * Browser Plugin Loader\r\n   */\r\n  var PluginLoader = /** @class */ (function (_super) {\r\n      __extends(PluginLoader, _super);\r\n      function PluginLoader(less) {\r\n          var _this = _super.call(this) || this;\r\n          _this.less = less;\r\n          return _this;\r\n          // Should we shim this.require for browser? Probably not?\r\n      }\r\n      PluginLoader.prototype.loadPlugin = function (filename, basePath, context, environment, fileManager) {\r\n          return new Promise(function (fulfill, reject) {\r\n              fileManager.loadFile(filename, basePath, context, environment)\r\n                  .then(fulfill).catch(reject);\r\n          });\r\n      };\r\n      return PluginLoader;\r\n  }(AbstractPluginLoader));\n\n  var LogListener = (function (less, options) {\r\n      var logLevel_debug = 4;\r\n      var logLevel_info = 3;\r\n      var logLevel_warn = 2;\r\n      var logLevel_error = 1;\r\n      // The amount of logging in the javascript console.\r\n      // 3 - Debug, information and errors\r\n      // 2 - Information and errors\r\n      // 1 - Errors\r\n      // 0 - None\r\n      // Defaults to 2\r\n      options.logLevel = typeof options.logLevel !== 'undefined' ? options.logLevel : (options.env === 'development' ? logLevel_info : logLevel_error);\r\n      if (!options.loggers) {\r\n          options.loggers = [{\r\n                  debug: function (msg) {\r\n                      if (options.logLevel >= logLevel_debug) {\r\n                          console.log(msg);\r\n                      }\r\n                  },\r\n                  info: function (msg) {\r\n                      if (options.logLevel >= logLevel_info) {\r\n                          console.log(msg);\r\n                      }\r\n                  },\r\n                  warn: function (msg) {\r\n                      if (options.logLevel >= logLevel_warn) {\r\n                          console.warn(msg);\r\n                      }\r\n                  },\r\n                  error: function (msg) {\r\n                      if (options.logLevel >= logLevel_error) {\r\n                          console.error(msg);\r\n                      }\r\n                  }\r\n              }];\r\n      }\r\n      for (var i = 0; i < options.loggers.length; i++) {\r\n          less.logger.addListener(options.loggers[i]);\r\n      }\r\n  });\n\n  var ErrorReporting = (function (window, less, options) {\r\n      function errorHTML(e, rootHref) {\r\n          var id = \"less-error-message:\" + extractId(rootHref || '');\r\n          var template = '<li><label>{line}</label><pre class=\"{class}\">{content}</pre></li>';\r\n          var elem = window.document.createElement('div');\r\n          var timer;\r\n          var content;\r\n          var errors = [];\r\n          var filename = e.filename || rootHref;\r\n          var filenameNoPath = filename.match(/([^\\/]+(\\?.*)?)$/)[1];\r\n          elem.id = id;\r\n          elem.className = 'less-error-message';\r\n          content = \"<h3>\" + (e.type || 'Syntax') + \"Error: \" + (e.message || 'There is an error in your .less file') +\r\n              (\"</h3><p>in <a href=\\\"\" + filename + \"\\\">\" + filenameNoPath + \"</a> \");\r\n          var errorline = function (e, i, classname) {\r\n              if (e.extract[i] !== undefined) {\r\n                  errors.push(template.replace(/\\{line\\}/, (parseInt(e.line, 10) || 0) + (i - 1))\r\n                      .replace(/\\{class\\}/, classname)\r\n                      .replace(/\\{content\\}/, e.extract[i]));\r\n              }\r\n          };\r\n          if (e.line) {\r\n              errorline(e, 0, '');\r\n              errorline(e, 1, 'line');\r\n              errorline(e, 2, '');\r\n              content += \"on line \" + e.line + \", column \" + (e.column + 1) + \":</p><ul>\" + errors.join('') + \"</ul>\";\r\n          }\r\n          if (e.stack && (e.extract || options.logLevel >= 4)) {\r\n              content += \"<br/>Stack Trace</br />\" + e.stack.split('\\n').slice(1).join('<br/>');\r\n          }\r\n          elem.innerHTML = content;\r\n          // CSS for error messages\r\n          browser.createCSS(window.document, [\r\n              '.less-error-message ul, .less-error-message li {',\r\n              'list-style-type: none;',\r\n              'margin-right: 15px;',\r\n              'padding: 4px 0;',\r\n              'margin: 0;',\r\n              '}',\r\n              '.less-error-message label {',\r\n              'font-size: 12px;',\r\n              'margin-right: 15px;',\r\n              'padding: 4px 0;',\r\n              'color: #cc7777;',\r\n              '}',\r\n              '.less-error-message pre {',\r\n              'color: #dd6666;',\r\n              'padding: 4px 0;',\r\n              'margin: 0;',\r\n              'display: inline-block;',\r\n              '}',\r\n              '.less-error-message pre.line {',\r\n              'color: #ff0000;',\r\n              '}',\r\n              '.less-error-message h3 {',\r\n              'font-size: 20px;',\r\n              'font-weight: bold;',\r\n              'padding: 15px 0 5px 0;',\r\n              'margin: 0;',\r\n              '}',\r\n              '.less-error-message a {',\r\n              'color: #10a',\r\n              '}',\r\n              '.less-error-message .error {',\r\n              'color: red;',\r\n              'font-weight: bold;',\r\n              'padding-bottom: 2px;',\r\n              'border-bottom: 1px dashed red;',\r\n              '}'\r\n          ].join('\\n'), { title: 'error-message' });\r\n          elem.style.cssText = [\r\n              'font-family: Arial, sans-serif',\r\n              'border: 1px solid #e00',\r\n              'background-color: #eee',\r\n              'border-radius: 5px',\r\n              '-webkit-border-radius: 5px',\r\n              '-moz-border-radius: 5px',\r\n              'color: #e00',\r\n              'padding: 15px',\r\n              'margin-bottom: 15px'\r\n          ].join(';');\r\n          if (options.env === 'development') {\r\n              timer = setInterval(function () {\r\n                  var document = window.document;\r\n                  var body = document.body;\r\n                  if (body) {\r\n                      if (document.getElementById(id)) {\r\n                          body.replaceChild(elem, document.getElementById(id));\r\n                      }\r\n                      else {\r\n                          body.insertBefore(elem, body.firstChild);\r\n                      }\r\n                      clearInterval(timer);\r\n                  }\r\n              }, 10);\r\n          }\r\n      }\r\n      function removeErrorHTML(path) {\r\n          var node = window.document.getElementById(\"less-error-message:\" + extractId(path));\r\n          if (node) {\r\n              node.parentNode.removeChild(node);\r\n          }\r\n      }\r\n      function removeError(path) {\r\n          if (!options.errorReporting || options.errorReporting === 'html') {\r\n              removeErrorHTML(path);\r\n          }\r\n          else if (options.errorReporting === 'console') ;\r\n          else if (typeof options.errorReporting === 'function') {\r\n              options.errorReporting('remove', path);\r\n          }\r\n      }\r\n      function errorConsole(e, rootHref) {\r\n          var template = '{line} {content}';\r\n          var filename = e.filename || rootHref;\r\n          var errors = [];\r\n          var content = (e.type || 'Syntax') + \"Error: \" + (e.message || 'There is an error in your .less file') + \" in \" + filename;\r\n          var errorline = function (e, i, classname) {\r\n              if (e.extract[i] !== undefined) {\r\n                  errors.push(template.replace(/\\{line\\}/, (parseInt(e.line, 10) || 0) + (i - 1))\r\n                      .replace(/\\{class\\}/, classname)\r\n                      .replace(/\\{content\\}/, e.extract[i]));\r\n              }\r\n          };\r\n          if (e.line) {\r\n              errorline(e, 0, '');\r\n              errorline(e, 1, 'line');\r\n              errorline(e, 2, '');\r\n              content += \" on line \" + e.line + \", column \" + (e.column + 1) + \":\\n\" + errors.join('\\n');\r\n          }\r\n          if (e.stack && (e.extract || options.logLevel >= 4)) {\r\n              content += \"\\nStack Trace\\n\" + e.stack;\r\n          }\r\n          less.logger.error(content);\r\n      }\r\n      function error(e, rootHref) {\r\n          if (!options.errorReporting || options.errorReporting === 'html') {\r\n              errorHTML(e, rootHref);\r\n          }\r\n          else if (options.errorReporting === 'console') {\r\n              errorConsole(e, rootHref);\r\n          }\r\n          else if (typeof options.errorReporting === 'function') {\r\n              options.errorReporting('add', e, rootHref);\r\n          }\r\n      }\r\n      return {\r\n          add: error,\r\n          remove: removeError\r\n      };\r\n  });\n\n  // Cache system is a bit outdated and could do with work\r\n  var Cache = (function (window, options, logger) {\r\n      var cache = null;\r\n      if (options.env !== 'development') {\r\n          try {\r\n              cache = (typeof window.localStorage === 'undefined') ? null : window.localStorage;\r\n          }\r\n          catch (_) { }\r\n      }\r\n      return {\r\n          setCSS: function (path, lastModified, modifyVars, styles) {\r\n              if (cache) {\r\n                  logger.info(\"saving \" + path + \" to cache.\");\r\n                  try {\r\n                      cache.setItem(path, styles);\r\n                      cache.setItem(path + \":timestamp\", lastModified);\r\n                      if (modifyVars) {\r\n                          cache.setItem(path + \":vars\", JSON.stringify(modifyVars));\r\n                      }\r\n                  }\r\n                  catch (e) {\r\n                      // TODO - could do with adding more robust error handling\r\n                      logger.error(\"failed to save \\\"\" + path + \"\\\" to local storage for caching.\");\r\n                  }\r\n              }\r\n          },\r\n          getCSS: function (path, webInfo, modifyVars) {\r\n              var css = cache && cache.getItem(path);\r\n              var timestamp = cache && cache.getItem(path + \":timestamp\");\r\n              var vars = cache && cache.getItem(path + \":vars\");\r\n              modifyVars = modifyVars || {};\r\n              vars = vars || \"{}\"; // if not set, treat as the JSON representation of an empty object\r\n              if (timestamp && webInfo.lastModified &&\r\n                  (new Date(webInfo.lastModified).valueOf() ===\r\n                      new Date(timestamp).valueOf()) &&\r\n                  JSON.stringify(modifyVars) === vars) {\r\n                  // Use local copy\r\n                  return css;\r\n              }\r\n          }\r\n      };\r\n  });\n\n  var ImageSize = (function () {\r\n      function imageSize() {\r\n          throw {\r\n              type: 'Runtime',\r\n              message: 'Image size functions are not supported in browser version of less'\r\n          };\r\n      }\r\n      var imageFunctions = {\r\n          'image-size': function (filePathNode) {\r\n              imageSize();\r\n              return -1;\r\n          },\r\n          'image-width': function (filePathNode) {\r\n              imageSize();\r\n              return -1;\r\n          },\r\n          'image-height': function (filePathNode) {\r\n              imageSize();\r\n              return -1;\r\n          }\r\n      };\r\n      functionRegistry.addMultiple(imageFunctions);\r\n  });\n\n  //\r\n  var root = (function (window, options) {\r\n      var document = window.document;\r\n      var less = lessRoot();\r\n      less.options = options;\r\n      var environment = less.environment;\r\n      var FileManager = FM(options, less.logger);\r\n      var fileManager = new FileManager();\r\n      environment.addFileManager(fileManager);\r\n      less.FileManager = FileManager;\r\n      less.PluginLoader = PluginLoader;\r\n      LogListener(less, options);\r\n      var errors = ErrorReporting(window, less, options);\r\n      var cache = less.cache = options.cache || Cache(window, options, less.logger);\r\n      ImageSize(less.environment);\r\n      // Setup user functions - Deprecate?\r\n      if (options.functions) {\r\n          less.functions.functionRegistry.addMultiple(options.functions);\r\n      }\r\n      var typePattern = /^text\\/(x-)?less$/;\r\n      function clone(obj) {\r\n          var cloned = {};\r\n          for (var prop in obj) {\r\n              if (obj.hasOwnProperty(prop)) {\r\n                  cloned[prop] = obj[prop];\r\n              }\r\n          }\r\n          return cloned;\r\n      }\r\n      // only really needed for phantom\r\n      function bind(func, thisArg) {\r\n          var curryArgs = Array.prototype.slice.call(arguments, 2);\r\n          return function () {\r\n              var args = curryArgs.concat(Array.prototype.slice.call(arguments, 0));\r\n              return func.apply(thisArg, args);\r\n          };\r\n      }\r\n      function loadStyles(modifyVars) {\r\n          var styles = document.getElementsByTagName('style');\r\n          var style;\r\n          for (var i = 0; i < styles.length; i++) {\r\n              style = styles[i];\r\n              if (style.type.match(typePattern)) {\r\n                  var instanceOptions = clone(options);\r\n                  instanceOptions.modifyVars = modifyVars;\r\n                  var lessText = style.innerHTML || '';\r\n                  instanceOptions.filename = document.location.href.replace(/#.*$/, '');\r\n                  /* jshint loopfunc:true */\r\n                  // use closure to store current style\r\n                  less.render(lessText, instanceOptions, bind(function (style, e, result) {\r\n                      if (e) {\r\n                          errors.add(e, 'inline');\r\n                      }\r\n                      else {\r\n                          style.type = 'text/css';\r\n                          if (style.styleSheet) {\r\n                              style.styleSheet.cssText = result.css;\r\n                          }\r\n                          else {\r\n                              style.innerHTML = result.css;\r\n                          }\r\n                      }\r\n                  }, null, style));\r\n              }\r\n          }\r\n      }\r\n      function loadStyleSheet(sheet, callback, reload, remaining, modifyVars) {\r\n          var instanceOptions = clone(options);\r\n          addDataAttr(instanceOptions, sheet);\r\n          instanceOptions.mime = sheet.type;\r\n          if (modifyVars) {\r\n              instanceOptions.modifyVars = modifyVars;\r\n          }\r\n          function loadInitialFileCallback(loadedFile) {\r\n              var data = loadedFile.contents;\r\n              var path = loadedFile.filename;\r\n              var webInfo = loadedFile.webInfo;\r\n              var newFileInfo = {\r\n                  currentDirectory: fileManager.getPath(path),\r\n                  filename: path,\r\n                  rootFilename: path,\r\n                  rewriteUrls: instanceOptions.rewriteUrls\r\n              };\r\n              newFileInfo.entryPath = newFileInfo.currentDirectory;\r\n              newFileInfo.rootpath = instanceOptions.rootpath || newFileInfo.currentDirectory;\r\n              if (webInfo) {\r\n                  webInfo.remaining = remaining;\r\n                  var css = cache.getCSS(path, webInfo, instanceOptions.modifyVars);\r\n                  if (!reload && css) {\r\n                      webInfo.local = true;\r\n                      callback(null, css, data, sheet, webInfo, path);\r\n                      return;\r\n                  }\r\n              }\r\n              // TODO add tests around how this behaves when reloading\r\n              errors.remove(path);\r\n              instanceOptions.rootFileInfo = newFileInfo;\r\n              less.render(data, instanceOptions, function (e, result) {\r\n                  if (e) {\r\n                      e.href = path;\r\n                      callback(e);\r\n                  }\r\n                  else {\r\n                      cache.setCSS(sheet.href, webInfo.lastModified, instanceOptions.modifyVars, result.css);\r\n                      callback(null, result.css, data, sheet, webInfo, path);\r\n                  }\r\n              });\r\n          }\r\n          fileManager.loadFile(sheet.href, null, instanceOptions, environment)\r\n              .then(function (loadedFile) {\r\n              loadInitialFileCallback(loadedFile);\r\n          }).catch(function (err) {\r\n              console.log(err);\r\n              callback(err);\r\n          });\r\n      }\r\n      function loadStyleSheets(callback, reload, modifyVars) {\r\n          for (var i = 0; i < less.sheets.length; i++) {\r\n              loadStyleSheet(less.sheets[i], callback, reload, less.sheets.length - (i + 1), modifyVars);\r\n          }\r\n      }\r\n      function initRunningMode() {\r\n          if (less.env === 'development') {\r\n              less.watchTimer = setInterval(function () {\r\n                  if (less.watchMode) {\r\n                      fileManager.clearFileCache();\r\n                      loadStyleSheets(function (e, css, _, sheet, webInfo) {\r\n                          if (e) {\r\n                              errors.add(e, e.href || sheet.href);\r\n                          }\r\n                          else if (css) {\r\n                              browser.createCSS(window.document, css, sheet);\r\n                          }\r\n                      });\r\n                  }\r\n              }, options.poll);\r\n          }\r\n      }\r\n      //\r\n      // Watch mode\r\n      //\r\n      less.watch = function () {\r\n          if (!less.watchMode) {\r\n              less.env = 'development';\r\n              initRunningMode();\r\n          }\r\n          this.watchMode = true;\r\n          return true;\r\n      };\r\n      less.unwatch = function () { clearInterval(less.watchTimer); this.watchMode = false; return false; };\r\n      //\r\n      // Synchronously get all <link> tags with the 'rel' attribute set to\r\n      // \"stylesheet/less\".\r\n      //\r\n      less.registerStylesheetsImmediately = function () {\r\n          var links = document.getElementsByTagName('link');\r\n          less.sheets = [];\r\n          for (var i = 0; i < links.length; i++) {\r\n              if (links[i].rel === 'stylesheet/less' || (links[i].rel.match(/stylesheet/) &&\r\n                  (links[i].type.match(typePattern)))) {\r\n                  less.sheets.push(links[i]);\r\n              }\r\n          }\r\n      };\r\n      //\r\n      // Asynchronously get all <link> tags with the 'rel' attribute set to\r\n      // \"stylesheet/less\", returning a Promise.\r\n      //\r\n      less.registerStylesheets = function () { return new Promise(function (resolve, reject) {\r\n          less.registerStylesheetsImmediately();\r\n          resolve();\r\n      }); };\r\n      //\r\n      // With this function, it's possible to alter variables and re-render\r\n      // CSS without reloading less-files\r\n      //\r\n      less.modifyVars = function (record) { return less.refresh(true, record, false); };\r\n      less.refresh = function (reload, modifyVars, clearFileCache) {\r\n          if ((reload || clearFileCache) && clearFileCache !== false) {\r\n              fileManager.clearFileCache();\r\n          }\r\n          return new Promise(function (resolve, reject) {\r\n              var startTime;\r\n              var endTime;\r\n              var totalMilliseconds;\r\n              var remainingSheets;\r\n              startTime = endTime = new Date();\r\n              // Set counter for remaining unprocessed sheets\r\n              remainingSheets = less.sheets.length;\r\n              if (remainingSheets === 0) {\r\n                  endTime = new Date();\r\n                  totalMilliseconds = endTime - startTime;\r\n                  less.logger.info('Less has finished and no sheets were loaded.');\r\n                  resolve({\r\n                      startTime: startTime,\r\n                      endTime: endTime,\r\n                      totalMilliseconds: totalMilliseconds,\r\n                      sheets: less.sheets.length\r\n                  });\r\n              }\r\n              else {\r\n                  // Relies on less.sheets array, callback seems to be guaranteed to be called for every element of the array\r\n                  loadStyleSheets(function (e, css, _, sheet, webInfo) {\r\n                      if (e) {\r\n                          errors.add(e, e.href || sheet.href);\r\n                          reject(e);\r\n                          return;\r\n                      }\r\n                      if (webInfo.local) {\r\n                          less.logger.info(\"Loading \" + sheet.href + \" from cache.\");\r\n                      }\r\n                      else {\r\n                          less.logger.info(\"Rendered \" + sheet.href + \" successfully.\");\r\n                      }\r\n                      browser.createCSS(window.document, css, sheet);\r\n                      less.logger.info(\"CSS for \" + sheet.href + \" generated in \" + (new Date() - endTime) + \"ms\");\r\n                      // Count completed sheet\r\n                      remainingSheets--;\r\n                      // Check if the last remaining sheet was processed and then call the promise\r\n                      if (remainingSheets === 0) {\r\n                          totalMilliseconds = new Date() - startTime;\r\n                          less.logger.info(\"Less has finished. CSS generated in \" + totalMilliseconds + \"ms\");\r\n                          resolve({\r\n                              startTime: startTime,\r\n                              endTime: endTime,\r\n                              totalMilliseconds: totalMilliseconds,\r\n                              sheets: less.sheets.length\r\n                          });\r\n                      }\r\n                      endTime = new Date();\r\n                  }, reload, modifyVars);\r\n              }\r\n              loadStyles(modifyVars);\r\n          });\r\n      };\r\n      less.refreshStyles = loadStyles;\r\n      return less;\r\n  });\n\n  /**\r\n   * Kicks off less and compiles any stylesheets\r\n   * used in the browser distributed version of less\r\n   * to kick-start less using the browser api\r\n   */\r\n  var options$1 = defaultOptions();\r\n  if (window.less) {\r\n      for (var key in window.less) {\r\n          if (window.less.hasOwnProperty(key)) {\r\n              options$1[key] = window.less[key];\r\n          }\r\n      }\r\n  }\r\n  addDefaultOptions(window, options$1);\r\n  options$1.plugins = options$1.plugins || [];\r\n  if (window.LESS_PLUGINS) {\r\n      options$1.plugins = options$1.plugins.concat(window.LESS_PLUGINS);\r\n  }\r\n  var less = root(window, options$1);\r\n  window.less = less;\r\n  var css;\r\n  var head;\r\n  var style;\r\n  // Always restore page visibility\r\n  function resolveOrReject(data) {\r\n      if (data.filename) {\r\n          console.warn(data);\r\n      }\r\n      if (!options$1.async) {\r\n          head.removeChild(style);\r\n      }\r\n  }\r\n  if (options$1.onReady) {\r\n      if (/!watch/.test(window.location.hash)) {\r\n          less.watch();\r\n      }\r\n      // Simulate synchronous stylesheet loading by hiding page rendering\r\n      if (!options$1.async) {\r\n          css = 'body { display: none !important }';\r\n          head = document.head || document.getElementsByTagName('head')[0];\r\n          style = document.createElement('style');\r\n          style.type = 'text/css';\r\n          if (style.styleSheet) {\r\n              style.styleSheet.cssText = css;\r\n          }\r\n          else {\r\n              style.appendChild(document.createTextNode(css));\r\n          }\r\n          head.appendChild(style);\r\n      }\r\n      less.registerStylesheetsImmediately();\r\n      less.pageLoadFinished = less.refresh(less.env === 'development').then(resolveOrReject, resolveOrReject);\r\n  }\n\n  return less;\n\n})));\n","import { __imgPath } from \"@jx3box/jx3box-common/data/jx3box.json\";\n\nconst PICS = {\n    LOGO: __imgPath + \"image/rank/common/logo.png\",\n    cover : function (id){\n        return __imgPath + `image/rank/cover/${id}.png`\n    },\n    boss : function (id){\n        return __imgPath + `image/rank/race/${id}/boss.png`\n    },\n    version : function (id){\n        return __imgPath + `image/rank/race/${id}/version.png`\n    },\n    logos : function (val){\n        return __imgPath + \"image/rank/logos/\" + val + '.png'\n    },\n    bossIcon : function (id){\n        return __imgPath + `image/rank/boss/${id}.png`\n    }\n};\n\nexport default PICS;\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFgAAABYCAYAAABxlTA0AAAACXBIWXMAAAsTAAALEwEAmpwYAAAFoGlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOCAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDIwLTEwLTE0VDE1OjQ5OjUyKzA4OjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAyMC0xMS0yMlQxNzoyNjoyMiswODowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAyMC0xMS0yMlQxNzoyNjoyMiswODowMCIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHBob3Rvc2hvcDpJQ0NQcm9maWxlPSJzUkdCIElFQzYxOTY2LTIuMSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpmMDFhNWEyOS1lNWFk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\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./Dps_v2.vue?vue&type=style&index=0&id=04e0d0b8&prod&lang=less\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./item.vue?vue&type=style&index=0&id=3d6ee53c&prod&lang=less\"","import { $team, $https } from \"@jx3box/jx3box-common/js/https.js\";\nimport { __dataPath } from \"@jx3box/jx3box-common/data/jx3box.json\";\nfunction getTop100(aid, event_id) {\n    return $team().get(`/api/team/race/achieve/${aid}/top100`, {\n        params: {\n            event_id,\n            superstar: 1,\n        },\n    });\n}\n// 根据多个id批量获取战斗数据\nfunction getBattleOrJcl(params) {\n    return $team().get(`/api/team/battle/batch`, {\n        params,\n    });\n}\nfunction getDps(id) {\n    return $https().get(__dataPath + `superstar/superstar_${id}.json`);\n}\nexport { getTop100, getBattleOrJcl, getDps };\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"m-superstar-box\"},[_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"m-superstar-dps\",attrs:{\"element-loading-text\":\"加载中...\",\"element-loading-spinner\":\"el-icon-loading\",\"element-loading-background\":\"rgba(0, 0, 0, 0.3)\"}},[_c('div',{staticClass:\"m-superstar-boss\"},_vm._l((_vm.bossList),function(label,aid){return _c('div',{key:aid,staticClass:\"u-boss-item\",on:{\"click\":function($event){return _vm.changeBoss(aid)}}},[_c('img',{staticClass:\"u-boss-icon\",attrs:{\"src\":_vm.bossIcon(aid)}}),_c('div',{staticClass:\"u-boss-name\",class:{ on: aid == _vm.achieve_id },domProps:{\"innerHTML\":_vm._s(label?.replace(/&/g, '<br/>') || '-')}})])}),0),(!_vm.origin_data || _vm.origin_data.length == 0)?_c('div',{staticClass:\"m-superstar-dps-null\"},[_c('i',{staticClass:\"el-icon-warning-outline\"}),_vm._v(\" 暂时还没有任何记录 \")]):_c('div',[_c('el-icon',[_c('Switch')]),_c('item',{attrs:{\"origin_data\":_vm.origin_data,\"title\":\"团队通关速度\"}}),_c('die',{attrs:{\"data\":_vm.death}}),_c('item',{attrs:{\"origin_data\":_vm.sortByTeam,\"title\":\"四维数据统计（团队）\",\"color\":\"white\",\"site\":\"right\",\"options\":_vm.options,\"type\":1}}),_c('xfItem',{attrs:{\"origin_data\":_vm.sortByForce,\"title\":\"四维数据统计（心法·平均）\",\"options\":_vm.options}}),_c('item',{attrs:{\"origin_data\":_vm.sortByPlayer,\"title\":\"四维数据统计（个人）\",\"color\":\"white\",\"options\":_vm.options,\"type\":2}})],1)])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{class:'m-site-' + _vm.site},[_c('div',{staticClass:\"m-superstar-title\"},[_vm._v(\" \"+_vm._s(_vm.title)+\" \")]),(_vm.options.length > 0)?_c('div',{staticClass:\"m-superstar-options\"},_vm._l((_vm.options),function(item,i){return _c('div',{key:i,staticClass:\"u-options-item\",class:{ active: item.value == _vm.active },on:{\"click\":function($event){_vm.active = item.value}}},[_vm._v(\" \"+_vm._s(item.name)+\" \")])}),0):_vm._e(),_c('div',{staticClass:\"m-team-box\",class:' u-superstar-' + _vm.color},[_c('div',{class:'u-top-' + _vm.color},[_c('div',{staticClass:\"u-team-info_bg\"})]),_c('div',{staticClass:\"u-team-box_item\",class:'u-center-' + _vm.color},[_c('div',{staticClass:\"u-team-info_bg u-team-info\",style:({ 'min-height': _vm.data.length > 9 ? 9 : _vm.data.length * 50 + 12 + 'px' })},[(_vm.type == 2)?_c('div',{staticClass:\"u-team-logo xf\"},[_c('el-image',{attrs:{\"src\":_vm.showMount(_vm.clearanceSpeedItem.xfId),\"fit\":\"fill\"}})],1):_c('div',{staticClass:\"u-team-logo\"},[(_vm.clearanceSpeedItem.team_logo)?_c('el-image',{attrs:{\"src\":_vm.teamLogo(_vm.clearanceSpeedItem.team_logo, 160),\"fit\":\"fill\"}}):_c('img',{attrs:{\"loading\":\"lazy\",\"src\":require(\"../../../assets/img/misc/null.png\"),\"width\":\"100%\"}})],1),(_vm.type == 2)?_c('div',{staticClass:\"u-team-member\"},[_c('span',[_vm._v(_vm._s(_vm.clearanceSpeedItem.playerName))]),_c('div',{staticClass:\"u-team-info_item\"},[_c('span',[_vm._v(\"所属团队：\")]),(_vm.clearanceSpeedItem.team_logo)?_c('el-image',{attrs:{\"src\":_vm.teamLogo(_vm.clearanceSpeedItem.team_logo, 24),\"fit\":\"fill\"}}):_c('img',{attrs:{\"loading\":\"lazy\",\"src\":require(\"../../../assets/img/misc/null.png\"),\"width\":\"24\"}}),_c('span',[_vm._v(\"  \"+_vm._s(_vm.clearanceSpeedItem.team_name))])],1)]):_c('div',{staticClass:\"u-team-name\"},[_vm._v(_vm._s(_vm.clearanceSpeedItem.team_name))]),_c('div',{staticClass:\"u-team-server\"},[_vm._v(\" \"+_vm._s(_vm.clearanceSpeedItem.team_server)+\" \"+_vm._s(_vm.showTime(_vm.clearanceSpeedItem.created))+\" \")]),_c('div',{staticClass:\"u-team-time\"},[_vm._v(\" 战斗用时 : \"),_c('span',[_vm._v(_vm._s(_vm.showTC(_vm.clearanceSpeedItem.fight_time)))])]),_c('div',{staticClass:\"u-team-btn\"},[(_vm.clearanceSpeedItem.jx3box_jcl_id)?_c('a',{staticClass:\"u-jcl-battle-link\",attrs:{\"href\":_vm.jclLink(_vm.clearanceSpeedItem.jx3box_jcl_id),\"target\":\"_blank\"}},[_c('img',{attrs:{\"src\":_vm.imgurl + 'JCL_3.jpg'}})]):_vm._e(),(_vm.clearanceSpeedItem.jx3box_battle_id)?_c('a',{staticClass:\"u-jcl-battle-link\",attrs:{\"href\":_vm.battleLink(_vm.clearanceSpeedItem.jx3box_battle_id),\"target\":\"_blank\"}},[_c('img',{attrs:{\"src\":_vm.imgurl + 'BATTLE_3.jpg'}})]):_vm._e()])]),_c('div',{class:{\n                    scroll: _vm.data.length > 9,\n                    'u-team-rank_left': _vm.site == 'left',\n                    'u-team-rank_right': _vm.site == 'right',\n                }},[(_vm.type == 2)?_c('div',_vm._l((_vm.data),function(item,i){return _c('div',{key:i + 'rank',staticClass:\"u-team-rank_item\",class:{ active: _vm.clearanceSpeedActive == item.playerName },on:{\"click\":function($event){_vm.clearanceSpeedActive = item.xfId;\n                            _vm.clearanceSpeedItem = item;}}},[_c('div',{staticClass:\"u-sort\"},[_vm._v(_vm._s(i + 1))]),_c('div',{staticClass:\"u-logo\"},[_c('el-image',{attrs:{\"src\":_vm.showMount(_vm.clearanceSpeedItem.xfId),\"fit\":\"fill\"}})],1),_c('div',{staticClass:\"u-line\"}),_c('div',{staticClass:\"u-name\",class:'u-name-' + (i + 1)},[_vm._v(_vm._s(item.playerName))])])}),0):_c('div',_vm._l((_vm.data),function(item,i){return _c('div',{key:i + 'rank',staticClass:\"u-team-rank_item\",class:{ active: _vm.clearanceSpeedActive == item.ID },on:{\"click\":function($event){_vm.clearanceSpeedActive = item.ID;\n                            _vm.clearanceSpeedItem = item;}}},[_c('div',{staticClass:\"u-sort\"},[_vm._v(_vm._s(i + 1))]),_c('div',{staticClass:\"u-logo\"},[(item.team_logo)?_c('el-image',{attrs:{\"src\":_vm.teamLogo(item.team_logo),\"fit\":\"fill\"}}):_c('img',{attrs:{\"loading\":\"lazy\",\"src\":require(\"../../../assets/img/misc/null.png\"),\"width\":\"100%\"}})],1),_c('div',{staticClass:\"u-line\"}),_c('div',{staticClass:\"u-name\",class:'u-name-' + (i + 1)},[_vm._v(\" \"+_vm._s(item.team_name)),_c('span',[_vm._v(\"@\"+_vm._s(item.team_server))])])])}),0)])]),_c('div',{class:'u-bottom-' + _vm.color},[_c('div',{staticClass:\"u-team-info_bg\"})])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div :class=\"'m-site-' + site\">\n        <div class=\"m-superstar-title\">\n            {{ title }}\n        </div>\n\n        <!-- 此处显示切换options -->\n        <div class=\"m-superstar-options\" v-if=\"options.length > 0\">\n            <div\n                class=\"u-options-item\"\n                v-for=\"(item, i) in options\"\n                :key=\"i\"\n                :class=\"{ active: item.value == active }\"\n                @click=\"active = item.value\"\n            >\n                {{ item.name }}\n            </div>\n        </div>\n\n        <div class=\"m-team-box\" :class=\"' u-superstar-' + color\">\n            <div :class=\"'u-top-' + color\"><div class=\"u-team-info_bg\"></div></div>\n            <div class=\"u-team-box_item\" :class=\"'u-center-' + color\">\n                <div\n                    class=\"u-team-info_bg u-team-info\"\n                    :style=\"{ 'min-height': data.length > 9 ? 9 : data.length * 50 + 12 + 'px' }\"\n                >\n                    <div class=\"u-team-logo xf\" v-if=\"type == 2\">\n                        <el-image :src=\"showMount(clearanceSpeedItem.xfId)\" fit=\"fill\"></el-image>\n                    </div>\n                    <div class=\"u-team-logo\" v-else>\n                        <el-image\n                            v-if=\"clearanceSpeedItem.team_logo\"\n                            :src=\"teamLogo(clearanceSpeedItem.team_logo, 160)\"\n                            fit=\"fill\"\n                        ></el-image>\n                        <img loading=\"lazy\" src=\"../../../assets/img/misc/null.png\" width=\"100%\" v-else />\n                    </div>\n                    <div class=\"u-team-member\" v-if=\"type == 2\">\n                        <span>{{ clearanceSpeedItem.playerName }}</span>\n                        <div class=\"u-team-info_item\">\n                            <span>所属团队：</span>\n                            <el-image\n                                v-if=\"clearanceSpeedItem.team_logo\"\n                                :src=\"teamLogo(clearanceSpeedItem.team_logo, 24)\"\n                                fit=\"fill\"\n                            ></el-image>\n                            <img loading=\"lazy\" src=\"../../../assets/img/misc/null.png\" width=\"24\" v-else />\n                            <span>&nbsp;&nbsp;{{ clearanceSpeedItem.team_name }}</span>\n                        </div>\n                    </div>\n                    <div class=\"u-team-name\" v-else>{{ clearanceSpeedItem.team_name }}</div>\n                    <div class=\"u-team-server\">\n                        {{ clearanceSpeedItem.team_server }} {{ showTime(clearanceSpeedItem.created) }}\n                    </div>\n                    <div class=\"u-team-time\">\n                        战斗用时&nbsp;:&nbsp;<span>{{ showTC(clearanceSpeedItem.fight_time) }}</span>\n                    </div>\n                    <div class=\"u-team-btn\">\n                        <a\n                            :href=\"jclLink(clearanceSpeedItem.jx3box_jcl_id)\"\n                            target=\"_blank\"\n                            class=\"u-jcl-battle-link\"\n                            v-if=\"clearanceSpeedItem.jx3box_jcl_id\"\n                        >\n                            <img :src=\"imgurl + 'JCL_3.jpg'\" />\n                        </a>\n                        <a\n                            :href=\"battleLink(clearanceSpeedItem.jx3box_battle_id)\"\n                            target=\"_blank\"\n                            class=\"u-jcl-battle-link\"\n                            v-if=\"clearanceSpeedItem.jx3box_battle_id\"\n                        >\n                            <img :src=\"imgurl + 'BATTLE_3.jpg'\" />\n                        </a>\n                    </div>\n                </div>\n                <!-- 排行 -->\n                <div\n                    :class=\"{\n                        scroll: data.length > 9,\n                        'u-team-rank_left': site == 'left',\n                        'u-team-rank_right': site == 'right',\n                    }\"\n                >\n                    <div v-if=\"type == 2\">\n                        <div\n                            class=\"u-team-rank_item\"\n                            :class=\"{ active: clearanceSpeedActive == item.playerName }\"\n                            v-for=\"(item, i) in data\"\n                            :key=\"i + 'rank'\"\n                            @click=\"\n                                clearanceSpeedActive = item.xfId;\n                                clearanceSpeedItem = item;\n                            \"\n                        >\n                            <div class=\"u-sort\">{{ i + 1 }}</div>\n                            <div class=\"u-logo\">\n                                <el-image :src=\"showMount(clearanceSpeedItem.xfId)\" fit=\"fill\"></el-image>\n                            </div>\n                            <div class=\"u-line\"></div>\n                            <div class=\"u-name\" :class=\"'u-name-' + (i + 1)\">{{ item.playerName }}</div>\n                        </div>\n                    </div>\n                    <div v-else>\n                        <div\n                            class=\"u-team-rank_item\"\n                            :class=\"{ active: clearanceSpeedActive == item.ID }\"\n                            v-for=\"(item, i) in data\"\n                            :key=\"i + 'rank'\"\n                            @click=\"\n                                clearanceSpeedActive = item.ID;\n                                clearanceSpeedItem = item;\n                            \"\n                        >\n                            <div class=\"u-sort\">{{ i + 1 }}</div>\n                            <div class=\"u-logo\">\n                                <el-image v-if=\"item.team_logo\" :src=\"teamLogo(item.team_logo)\" fit=\"fill\"></el-image>\n                                <img loading=\"lazy\" src=\"../../../assets/img/misc/null.png\" width=\"100%\" v-else />\n                            </div>\n                            <div class=\"u-line\"></div>\n                            <div class=\"u-name\" :class=\"'u-name-' + (i + 1)\">\n                                {{ item.team_name }}<span>@{{ item.team_server }}</span>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div :class=\"'u-bottom-' + color\"><div class=\"u-team-info_bg\"></div></div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport { __imgPath } from \"@jx3box/jx3box-common/data/jx3box.json\";\nimport xf from \"@jx3box/jx3box-data/data/xf/xf.json\";\nimport { showTime } from \"@jx3box/jx3box-common/js/moment\";\nimport { getThumbnail, getLink } from \"@jx3box/jx3box-common/js/utils\";\nimport { options } from \"less\";\n\nexport default {\n    components: {},\n    props: {\n        origin_data: {\n            type: Array,\n            default: () => [],\n        },\n        options: {\n            type: Array,\n            default: () => [],\n        },\n        color: {\n            type: String,\n            default: () => \"green\",\n        },\n        title: {\n            type: String,\n            default: () => \"\",\n        },\n        //团队信息默认位置\n        site: {\n            type: String,\n            default: () => \"left\",\n        },\n        //数据类型\n        type: {\n            type: Number,\n            default: () => 0,\n        },\n    },\n    data() {\n        return {\n            imgurl: __imgPath + \"topic/menpaitiantuan/\",\n            active: 0,\n            clearanceSpeedItem: {},\n            clearanceSpeedActive: null,\n            data: [],\n        };\n    },\n    watch: {\n        origin_data: {\n            handler(val) {\n                if (val.length > 0) {\n                    this.init();\n                }\n            },\n            immediate: true,\n            deep: true,\n        },\n        active: {\n            handler(val) {\n                this.init();\n            },\n        },\n    },\n    computed: {},\n    created() {},\n    mounted() {},\n    methods: {\n        //初始化统计数据\n        init() {\n            if (this.type == 1 || this.type == 2) {\n                //团队数据\n\n                let arr = [];\n                this.origin_data[this.active].forEach((item) => {\n                    let xfid = 0;\n                    if (this.type == 2) {\n                        for (let key in xf) {\n                            if (xf[key].force == item.forceId) {\n                                xfid = xf[key].id;\n                                break;\n                            }\n                        }\n                    }\n\n                    arr.push(\n                        Object.assign(\n                            {\n                                team_name: item.team,\n                                team_server: item.server,\n                                fight_time: item.timeDuring * 1000,\n                                created: item.timeBegin,\n                                ID: item.team_id,\n                                xfId: xfid,\n                            },\n                            item\n                        )\n                    );\n                });\n                this.clearanceSpeedItem = arr[0];\n                this.clearanceSpeedActive = this.type == 2 ? arr[0].playerName : arr[0].ID;\n                this.data = arr;\n            } else {\n                this.clearanceSpeedItem = this.origin_data[0];\n                this.clearanceSpeedActive = this.origin_data[0].ID;\n                this.data = this.origin_data;\n            }\n        },\n        jclLink(id) {\n            return `/jcl/view?id=${id}`;\n        },\n        battleLink(id) {\n            return \"/battle/#/combat/\" + id;\n        },\n\n        teamLogo: function (val, size = 40) {\n            if (!val) return \"\";\n            return getThumbnail(val, size, true);\n        },\n        showMount: function (mount) {\n            let mountIcon = __imgPath + \"image/xf/\" + mount + \".png\";\n            return mountIcon;\n        },\n        showTime: function (val) {\n            return showTime(new Date(val * 1000));\n        },\n        showTC: function (val) {\n            let s = val / 1000;\n            return ~~(s / 60) + \"分\" + ~~(s % 60) + \"秒\";\n        },\n        teamLink: function (val) {\n            return getLink(\"org\", val);\n        },\n    },\n};\n</script>\n\n<style lang=\"less\">\n@import \"~@/assets/css/superstar/dps_v2.less\";\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./item.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./item.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./item.vue?vue&type=template&id=3d6ee53c\"\nimport script from \"./item.vue?vue&type=script&lang=js\"\nexport * from \"./item.vue?vue&type=script&lang=js\"\nimport style0 from \"./item.vue?vue&type=style&index=0&id=3d6ee53c&prod&lang=less\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"m-site-left\"},[_c('div',{staticClass:\"m-superstar-title\"},[_vm._v(\" \"+_vm._s(_vm.title)+\" \")]),(_vm.options.length > 0)?_c('div',{staticClass:\"m-superstar-options\"},_vm._l((_vm.options),function(item,i){return _c('div',{key:i,staticClass:\"u-options-item\",class:{ active: item.value == _vm.active },on:{\"click\":function($event){_vm.active = item.value}}},[_vm._v(\" \"+_vm._s(item.name)+\" \")])}),0):_vm._e(),_c('div',{staticClass:\"m-team-box\",class:' u-superstar-' + _vm.color},[_c('div',{class:'u-top-' + _vm.color}),_c('div',{staticClass:\"u-team-box_item u-xf\",class:'u-center-' + _vm.color},[_c('div',{staticClass:\"u-team-rank_left\"},_vm._l((_vm.data),function(item,i){return _c('div',{key:i + 'rank',staticClass:\"u-team-rank_itemNo\"},[_c('div',{staticClass:\"u-sort\"},[_vm._v(_vm._s(item.forceName))]),_c('div',{staticClass:\"u-logo\"},[_c('el-image',{attrs:{\"src\":_vm.showMount(item.xfId),\"fit\":\"fill\"}})],1),_c('div',{staticClass:\"u-line\"}),_c('div',{staticClass:\"u-name\",class:'u-name-' + (i + 1)},[_vm._v(\" \"+_vm._s(item.forceName)+\" \")])])}),0)]),_c('div',{class:'u-bottom-' + _vm.color})])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"m-site-left\">\n        <div class=\"m-superstar-title\">\n            {{ title }}\n        </div>\n\n        <!-- 此处显示切换options -->\n        <div class=\"m-superstar-options\" v-if=\"options.length > 0\">\n            <div\n                class=\"u-options-item\"\n                v-for=\"(item, i) in options\"\n                :key=\"i\"\n                :class=\"{ active: item.value == active }\"\n                @click=\"active = item.value\"\n            >\n                {{ item.name }}\n            </div>\n        </div>\n\n        <div class=\"m-team-box\" :class=\"' u-superstar-' + color\">\n            <div :class=\"'u-top-' + color\"></div>\n            <div class=\"u-team-box_item u-xf\" :class=\"'u-center-' + color\">\n                <!-- 排行 -->\n                <div class=\"u-team-rank_left\">\n                    <div class=\"u-team-rank_itemNo\" v-for=\"(item, i) in data\" :key=\"i + 'rank'\">\n                        <div class=\"u-sort\">{{ item.forceName }}</div>\n                        <div class=\"u-logo\">\n                            <el-image :src=\"showMount(item.xfId)\" fit=\"fill\"></el-image>\n                        </div>\n                        <div class=\"u-line\"></div>\n                        <div class=\"u-name\" :class=\"'u-name-' + (i + 1)\">\n                            {{ item.forceName }}\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div :class=\"'u-bottom-' + color\"></div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport { __imgPath } from \"@jx3box/jx3box-common/data/jx3box.json\";\nimport xf from \"@jx3box/jx3box-data/data/xf/xf.json\";\nimport { showTime } from \"@jx3box/jx3box-common/js/moment\";\nimport { getThumbnail, getLink, showMountIcon } from \"@jx3box/jx3box-common/js/utils\";\n\nexport default {\n    components: {},\n    props: {\n        origin_data: {\n            type: Array,\n            default: () => [],\n        },\n        options: {\n            type: Array,\n            default: () => [],\n        },\n        color: {\n            type: String,\n            default: () => \"green\",\n        },\n        title: {\n            type: String,\n            default: () => \"\",\n        },\n    },\n    data() {\n        return {\n            imgurl: __imgPath + \"topic/menpaitiantuan/\",\n            active: 0,\n            data: [],\n        };\n    },\n    watch: {\n        origin_data: {\n            handler(val) {\n                if (val.length > 0) {\n                    this.init();\n                }\n            },\n            immediate: true,\n            deep: true,\n        },\n        active: {\n            handler(val) {\n                this.init();\n            },\n        },\n    },\n    computed: {},\n    created() {},\n    mounted() {},\n    methods: {\n        init() {\n            let res = this.origin_data[this.active];\n            res.forEach((item) => {\n                for (let key in xf) {\n                    if (xf[key].force == item.forceId) {\n                        item.xfId = xf[key].id;\n                        break;\n                    }\n                }\n            });\n            this.data = res;\n        },\n        jclLink(id) {\n            return `/jcl/view?id=${id}`;\n        },\n        battleLink(id) {\n            return \"/battle/#/combat/\" + id;\n        },\n        showMount: function (mount) {\n            let mountIcon = __imgPath + \"image/xf/\" + mount + \".png\";\n            return mountIcon;\n        },\n        teamLogo: function (val, size = 40) {\n            if (!val) return \"\";\n            return getThumbnail(val, size, true);\n        },\n        showTime: function (val) {\n            return showTime(new Date(val * 1000));\n        },\n        showTC: function (val) {\n            let s = val / 1000;\n            return ~~(s / 60) + \"分\" + ~~(s % 60) + \"秒\";\n        },\n        teamLink: function (val) {\n            return getLink(\"org\", val);\n        },\n    },\n};\n</script>\n\n<style lang=\"less\">\n@import \"~@/assets/css/superstar/dps_v2.less\";\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./xfItem.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./xfItem.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./xfItem.vue?vue&type=template&id=e79ea182\"\nimport script from \"./xfItem.vue?vue&type=script&lang=js\"\nexport * from \"./xfItem.vue?vue&type=script&lang=js\"\nimport style0 from \"./xfItem.vue?vue&type=style&index=0&id=e79ea182&prod&lang=less\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"m-superstar-die\"},[_c('div',{staticClass:\"m-superstar-title\"},[_vm._v(\"死亡数据统计\")]),_c('div',{staticClass:\"u-data-box\"},[_c('div',{staticClass:\"u-data-left\"},[_c('div',{staticClass:\"u-die-pie\"},[_c('v-chart',{ref:\"chart\",attrs:{\"options\":_vm.pieOption}})],1)]),_c('div',{staticClass:\"u-date-right\"},[_c('div',{staticClass:\"u-die-box\"},_vm._l((_vm.data),function(item,i){return _c('div',{key:i,staticClass:\"u-die-item\"},[_c('div',{staticClass:\"u-die-log\"},[_c('img',{attrs:{\"src\":item.team_logo}})]),_c('div',{staticClass:\"u-die-number\"},[_vm._v(_vm._s(item.death))])])}),0)])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n * @Author: zhusha \n * @Date: 2024-07-22 02:43:39\n * @LastEditors: zhusha\n * @LastEditTime: 2024-07-27 13:16:00\n * @Description: 死亡数据统计\n * \n * Copyright (c) 2024 by zhusha, email: no email, All Rights Reserved. \n-->\n<template>\n    <div class=\"m-superstar-die\">\n        <div class=\"m-superstar-title\">死亡数据统计</div>\n        <div class=\"u-data-box\">\n            <div class=\"u-data-left\">\n                <div class=\"u-die-pie\">\n                    <v-chart :options=\"pieOption\" ref=\"chart\" />\n                </div>\n            </div>\n            <div class=\"u-date-right\">\n                <div class=\"u-die-box\">\n                    <div class=\"u-die-item\" v-for=\"(item, i) in data\" :key=\"i\">\n                        <div class=\"u-die-log\"><img :src=\"item.team_logo\" /></div>\n                        <div class=\"u-die-number\">{{ item.death }}</div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nexport default {\n    props: {\n        data: {\n            type: Array,\n            default: () => [],\n        },\n    },\n    components: {},\n    data() {\n        return {\n            pieOption: {},\n        };\n    },\n    watch: {\n        data: {\n            immediate: true,\n            handler: function (val) {\n                val && this.setPie();\n            },\n        },\n    },\n    created() {},\n    mounted() {},\n    methods: {\n        setPie() {\n            let arr = [],\n                legend = [];\n\n            this.data.forEach((item) => {\n                arr.push({\n                    name: item.team,\n                    value: item.death,\n                });\n                legend.push(item.team);\n            });\n            let options = {\n                tooltip: {\n                    trigger: \"item\",\n                    formatter: \"{a} <br/>{b} : {c} ({d}%)\",\n                },\n\n                // legend: {\n                //     type: \"plain\",\n                //     orient: \"horizontal\",\n                //     data: legend,\n                //     icon: \"circle\",\n                // },\n\n                series: [\n                    {\n                        name: \"死亡数\",\n                        type: \"pie\",\n                        data: arr,\n                        radius: \"80%\",\n                        label: {\n                            normal: {\n                                show: false,\n                            },\n                        },\n                        labelLine: {\n                            normal: {\n                                show: false,\n                            },\n                        },\n                    },\n                ],\n            };\n            this.$nextTick(() => {\n                this.pieOption = options;\n            });\n        },\n    },\n};\n</script>\n\n<style></style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./die.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./die.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./die.vue?vue&type=template&id=7a68567c\"\nimport script from \"./die.vue?vue&type=script&lang=js\"\nexport * from \"./die.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n    <div class=\"m-superstar-box\">\n        <div\n            class=\"m-superstar-dps\"\n            v-loading=\"loading\"\n            element-loading-text=\"加载中...\"\n            element-loading-spinner=\"el-icon-loading\"\n            element-loading-background=\"rgba(0, 0, 0, 0.3)\"\n        >\n            <div class=\"m-superstar-boss\">\n                <div class=\"u-boss-item\" v-for=\"(label, aid) of bossList\" :key=\"aid\" @click=\"changeBoss(aid)\">\n                    <img class=\"u-boss-icon\" :src=\"bossIcon(aid)\" />\n                    <div\n                        class=\"u-boss-name\"\n                        :class=\"{ on: aid == achieve_id }\"\n                        v-html=\"label?.replace(/&/g, '<br/>') || '-'\"\n                    ></div>\n                </div>\n            </div>\n            <div class=\"m-superstar-dps-null\" v-if=\"!origin_data || origin_data.length == 0\">\n                <i class=\"el-icon-warning-outline\"></i> 暂时还没有任何记录\n            </div>\n            <div v-else>\n                <el-icon><Switch /></el-icon>\n                <item :origin_data=\"origin_data\" title=\"团队通关速度\"></item>\n\n                <die :data=\"death\"></die>\n                <item\n                    :origin_data=\"sortByTeam\"\n                    title=\"四维数据统计（团队）\"\n                    color=\"white\"\n                    site=\"right\"\n                    :options=\"options\"\n                    :type=\"1\"\n                ></item>\n                <xfItem :origin_data=\"sortByForce\" title=\"四维数据统计（心法·平均）\" :options=\"options\"></xfItem>\n                <item\n                    :origin_data=\"sortByPlayer\"\n                    title=\"四维数据统计（个人）\"\n                    color=\"white\"\n                    :options=\"options\"\n                    :type=\"2\"\n                ></item>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport { __imgPath } from \"@jx3box/jx3box-common/data/jx3box.json\";\nimport { getTop100, getDps } from \"@/service/superstar.js\";\nimport PICS from \"@/assets/js/pics.js\";\nimport item from \"./dps/item.vue\";\nimport xfItem from \"./dps/xfItem.vue\";\nimport die from \"./dps/die.vue\";\nexport default {\n    components: { item, die, xfItem },\n\n    data() {\n        return {\n            imgurl: __imgPath + \"topic/menpaitiantuan/\",\n            loading: false,\n            achieve_id: \"\", //boss成就ID\n            origin_data: [],\n            options: [\n                { name: \"输出\", icon: \"\", value: 0, key: \"damage\" },\n                { name: \"治疗\", icon: \"\", value: 1, key: \"heal\" },\n                { name: \"承伤\", icon: \"\", value: 2, key: \"beDamage\" },\n                { name: \"承疗\", icon: \"\", value: 3, key: \"beHeal\" },\n            ],\n            dataBak: {},\n            death: [],\n            sortByTeam: [],\n            sortByForce: [],\n            sortByPlayer: [],\n        };\n    },\n    computed: {\n        id: function () {\n            return this.$store.state.id;\n        },\n        aid: function () {\n            return this.$store.state.race.superstar;\n        },\n        achieves: function () {\n            return this.$store.state.achieves || [];\n        },\n        bossList: function () {\n            let dict = {};\n            this.achieves.forEach((item) => {\n                dict[item.achievement_id] = item.name;\n            });\n            return dict;\n        },\n    },\n    watch: {\n        achieve_id: {\n            immediate: true,\n            handler: function (val) {\n                val && this.loadData();\n            },\n        },\n        \"$route.query\": {\n            handler: function (val) {\n                if (val.aid) {\n                    this.achieve_id = val.aid;\n                }\n            },\n            immediate: true,\n        },\n        achieves: {\n            immediate: true,\n            handler: function () {\n                if (!!~~this.$route.query.aid) {\n                    this.achieve_id = this.$route.query.aid;\n                } else {\n                    this.achieve_id = _.first(Object.keys(this.bossList));\n                }\n            },\n        },\n    },\n    mounted() {},\n    methods: {\n        bossIcon: function (val) {\n            return PICS.bossIcon(val);\n        },\n        changeBoss: function (val) {\n            this.achieve_id = val;\n            this.$router.push({\n                query: {\n                    aid: val,\n                },\n            });\n            this.dataInit();\n        },\n\n        loadData: function () {\n            if (!this.achieve_id) {\n                return;\n            }\n            this.loading = true;\n            getTop100(this.achieve_id, this.id)\n                .then((res) => {\n                    this.origin_data = res.data.data || [];\n                    this.getData();\n                })\n                .finally(() => {\n                    this.loading = false;\n                });\n        },\n        getData() {\n            getDps(3).then((data) => {\n                let res = data.data;\n                this.dataBak = res;\n                this.dataInit();\n            });\n        },\n        //json数据初始化\n        dataInit() {\n            let data = this.dataBak;\n            let key = this.bossList[this.achieve_id];\n            let res = data[key.indexOf(\"&\") == -1 ? key : key.split(\"&\")[0]];\n            this.death = res?.death?.sortByTeam || [];\n            for (let i = 0; i < this.options.length; i++) {\n                this.sortByTeam.push(res[this.options[i].key]?.sortByTeam || []);\n                this.sortByForce.push(res[this.options[i].key]?.sortByForce || []);\n                this.sortByPlayer.push(res[this.options[i].key]?.sortByPlayer || []);\n            }\n        },\n    },\n};\n</script>\n\n<style lang=\"less\">\n@import \"~@/assets/css/superstar/dps_v2.less\";\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./Dps_v2.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./Dps_v2.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Dps_v2.vue?vue&type=template&id=04e0d0b8\"\nimport script from \"./Dps_v2.vue?vue&type=script&lang=js\"\nexport * from \"./Dps_v2.vue?vue&type=script&lang=js\"\nimport style0 from \"./Dps_v2.vue?vue&type=style&index=0&id=04e0d0b8&prod&lang=less\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./xfItem.vue?vue&type=style&index=0&id=e79ea182&prod&lang=less\""],"sourceRoot":""}