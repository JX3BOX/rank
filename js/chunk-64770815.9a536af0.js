(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-64770815"],{"0a00":function(t,e,a){t.exports=a.p+"img/submit.3f50c2c3.svg"},"30cc":function(t,e,a){t.exports=a.p+"img/weal.de718d51.svg"},"468d":function(t,e,a){},"48b6":function(t,e,a){},6107:function(t,e,a){"use strict";a.d(e,"c",(function(){return i})),a.d(e,"f",(function(){return s})),a.d(e,"b",(function(){return l})),a.d(e,"d",(function(){return o})),a.d(e,"a",(function(){return c})),a.d(e,"e",(function(){return r}));var n=a("41cb");function s(t){return Object(n["e"])().post("/api/team/apply/record",t)}function i(t){return Object(n["e"])().get("/api/team/apply/record",{params:t})}function o(){return Object(n["e"])().get("/api/team/apply/event")}function l(t){return Object(n["e"])().get("/api/team/apply/event/".concat(t))}function c(t){return Object(n["e"])({mute:!0}).get("/api/team/apply/record/check",{params:t})}function r(t){return Object(n["e"])().get("/api/team/my-manage-teams",{params:t})}},6505:function(t,e,a){"use strict";a("48b6")},"6ac4":function(t,e,a){"use strict";a("468d")},a4d7:function(t,e,a){},d0b1:function(t,e,a){"use strict";a.r(e);a("b0c0");var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"m-single"},[t._m(0),e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"m-content",class:{logs:t.logs.length}},[e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{span:t.logs.length?13:24}},[e("div",{staticClass:"u-title"},[e("el-tag",{staticClass:"u-tag",attrs:{effect:"dark",type:t.data.status?"success":"info"}},[t._v(t._s(t.data.status?"进行中":"已结束"))]),t._v(t._s(t.data.name)+" ")],1),e("div",{staticClass:"u-time"},[t._v(" 申请时间： "+t._s(t.showTime(t.data.start_at||t.data.created_at))+" ~ "+t._s(t.showTime(t.data.end_at||t.data.created_at))+" ")]),e("div",{staticClass:"m-single-info"},[e("div",{staticClass:"u-info-title"},[t._v("申请条件")]),e("div",{domProps:{innerHTML:t._s(t.data.desc)}})]),e("div",{staticClass:"m-single-info m-single-form"},[e("div",{staticClass:"u-info-title"},[t._v("申请步骤")]),e("p",[t._v(" ① 一旦提交后不可再次更改信息，请务确认信息准确，由用户填写错误所带来的后果由用户自行承担。 ")]),e("p",[t._v(" ② 实物类奖品不会寄送至海外或港澳台地区，请填写国内快递可达地址，由于国家管控造成的物流问题，由用户自行承担。 ")]),e("p",[t._v("③ 申请提交后，会在7个工作日内进行处理，审核驳回后需重新填写正确的信息并提交进行审核。")]),e("p",[t._v("④ 其它问题或异常请联系认证团长群（Q群：1048059072）管理人员。")])]),t.data.status?e("div",{staticClass:"u-box"},[t.team_id&&t.alert_info?e("el-alert",{staticClass:"u-tips",attrs:{title:t.alert_info,type:"warning","show-icon":""}}):t._e(),e("div",{staticClass:"u-team"},[e("span",{staticClass:"u-label"},[t._v("选择团队")]),e("el-select",{attrs:{placeholder:"选择申请的团队"},model:{value:t.team_id,callback:function(e){t.team_id=e},expression:"team_id"}},t._l(t.team_list,(function(t,a){return e("el-option",{key:a,attrs:{label:t.name,value:t.ID}})})),1)],1),e(t.template,{ref:"template",tag:"component",on:{isEmit:t.applyEmit}}),e("div",{staticClass:"u-submit",class:{disabled:!t.canSubmit},attrs:{loading:t.submitLoading},on:{click:t.toSubmit}},[e("img",{attrs:{src:a("0a00"),alt:""}})])],1):e("el-alert",{attrs:{title:"活动未开启或已结束",type:"info",closable:!1,"show-icon":""}})],1),t.logs.length?e("el-col",{attrs:{span:11}},[e("div",{staticClass:"m-apply-logs"},[e("h4",[t._v("申请记录")]),e("el-table",{staticClass:"u-logs-table",staticStyle:{width:"100%"},attrs:{data:t.logs,"header-cell-style":{background:"linear-gradient(180deg, rgba(26, 34, 41, 1) 0%, rgba(61, 81, 98, 1) 100%) ",color:"#fff"}}},[e("el-table-column",{attrs:{label:"申请日期",width:"160"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t.showTime(e.row.created_at))+" ")]}}],null,!1,2360447968)}),e("el-table-column",{attrs:{label:"申请状态",width:"80"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",{class:"u-status".concat(a.row.status)},[t._v(t._s(t.logStatus(a.row.status)))])]}}],null,!1,3328234247)}),e("el-table-column",{attrs:{label:"申请团队",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t.logTeam(e.row.team_id))+" ")]}}],null,!1,2599263754)}),e("el-table-column",{attrs:{label:"申请详情"},scopedSlots:t._u([{key:"default",fn:function(a){return[a.row.extend?e("extend",{attrs:{data:a.row.extend}}):t._e()]}}],null,!1,495991008)})],1)],1)]):t._e()],1)],1)])},s=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"m-kv"},[e("img",{attrs:{src:a("30cc"),alt:""}}),e("div",{staticClass:"u-img-bottom"})])}],i=(a("4de4"),a("7db0"),a("d3b7"),a("6107")),o=a("e4f1"),l=a("c9d2"),c=function(){var t=this,e=t._self._c;return e("div",{staticClass:"m-extend"},t._l(t.data,(function(a,n){return e("span",{key:n},[t._v(t._s(n)+": "+t._s(a))])})),0)},r=[],u={name:"extend",props:["data"]},d=u,f=(a("e3ec"),a("2877")),m=Object(f["a"])(d,c,r,!1,null,"3106d24d",null),p=m.exports,_=function(){var t=this,e=t._self._c;return e("el-form",{staticClass:"u-surprise-form",attrs:{"label-width":"80px"}},[e("el-form-item",{attrs:{label:"游戏大区"}},[e("el-select",{attrs:{placeholder:"请选择"},model:{value:t.form.zone,callback:function(e){t.$set(t.form,"zone",e)},expression:"form.zone"}},t._l(t.options,(function(t,a){return e("el-option",{key:a,attrs:{label:t,value:t}})})),1)],1),e("el-form-item",{attrs:{label:"激活账号"}},[e("el-input",{staticClass:"u-account",attrs:{placeholder:"请填写正确的游戏账号，非角色名！"},model:{value:t.form.account,callback:function(e){t.$set(t.form,"account",e)},expression:"form.account"}})],1),e("el-form-item",{attrs:{label:"确认账号"}},[e("el-input",{attrs:{placeholder:"请再输入一次游戏账号"},model:{value:t.form.accounts,callback:function(e){t.$set(t.form,"accounts",e)},expression:"form.accounts"}}),t.agreement?t._e():e("div",{staticClass:"u-tip"},[t._v("* 你输入的账号不一致!")])],1)],1)},h=[],v=(a("ac1f"),a("5319"),a("d15e")),g={name:"express",data:function(){return{options:v,form:{zone:"",account:"",accounts:""},agreement:!0}},watch:{form:{deep:!0,handler:function(t){var e=t.zone,a=t.account,n=t.accounts;e&&a&&n&&(this.agreement=!1,a==n&&(this.agreement=!0,a=a.replace(" ",""),this.$emit("isEmit",{zone:e,account:a})))}}},methods:{reset:function(){this.form.zone="",this.form.account="",this.form.accounts=""}}},b=g,y=(a("6ac4"),Object(f["a"])(b,_,h,!1,null,null,null)),w=y.exports,x={name:"eventsApply",data:function(){return{loading:!1,submitLoading:!1,data:"",teams:{},team_list:[],team_id:"",count:0,logs:[],alert_info:"",extend:""}},components:{extend:p,tifu:w},computed:{event_id:function(){return~~this.$route.params.id},canSubmit:function(){return this.data.status&&!this.alert_info&&this.team_id},template:function(){return this.data.template||"express"}},watch:{team_id:function(t){t&&this.checkApply()}},methods:{showTime:o["c"],toSubmit:function(){var t=this;if(this.checkExtend(),!this.alert_info){this.submitLoading=!0;var e={team_id:this.team_id,key:this.data.key,event_id:this.event_id,extend:this.extend};Object(i["f"])(e).then((function(){var e;t.$notify({title:"提交成功",message:"请耐心等待审核",type:"success"}),t.loadLogs(),null===(e=t.$refs)||void 0===e||e.template.reset()})).finally((function(){t.submitLoading=!1}))}},checkApply:function(){var t=this;this.loadLogs(),Object(i["a"])({team_id:this.team_id,event_id:this.event_id}).then((function(){t.alert_info=""})).catch((function(e){var a;t.alert_info=null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.msg}))},checkExtend:function(){this.extend?this.alert_info="":this.alert_info="请填写申请详情"},logStatus:function(t){return["申请驳回","审核中","申请通过"][t+1]},logTeam:function(t){return this.team_list.find((function(e){return e.ID==t})).name||t},applyEmit:function(t){this.extend=t,this.checkExtend()},loadEventData:function(){var t=this;this.loading=!0,Object(i["b"])(this.event_id).then((function(e){t.data=e.data.data||{}})).finally((function(){t.loading=!1}))},loadLogs:function(){var t=this;Object(i["c"])({event_id:this.event_id,team_id:this.team_id}).then((function(e){t.logs=e.data.data.list||[]}))}},mounted:function(){var t=this;Object(i["e"])().then((function(e){var a=e.data.data.list;t.team_list=a.filter((function(t){return t.super==l["a"].getInfo().uid}))})),this.loadEventData()}},k=x,C=(a("6505"),Object(f["a"])(k,n,s,!1,null,null,null));e["default"]=C.exports},d15e:function(t){t.exports=JSON.parse('["电信一区","电信五区","电信八区","双线一区","双线二区","双线四区","无界区","缘起大区"]')},e3ec:function(t,e,a){"use strict";a("a4d7")}}]);
//# sourceMappingURL=chunk-64770815.9a536af0.js.map