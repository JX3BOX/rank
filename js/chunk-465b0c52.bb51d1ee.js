(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-465b0c52"],{"13d5":function(t,e,i){"use strict";var a=i("23e7"),s=i("d58f").left,r=i("a640"),o=i("2d00"),n=i("605d"),c=!n&&o>79&&o<83,l=c||!r("reduce");a({target:"Array",proto:!0,forced:l},{reduce:function(t){var e=arguments.length;return s(this,t,e,e>1?arguments[1]:void 0)}})},"40a4":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"m-lover-join m-lover-page"},[e("div",{staticClass:"u-page-title"},[e("img",{staticClass:"u-img",attrs:{src:"".concat(t.__imgRoot,"join-title.png")}})]),t.success?[e("div",{staticClass:"m-success"},[e("img",{staticClass:"u-img",attrs:{src:"".concat(t.__imgRoot,"success.svg")}}),e("span",[t._v("报名成功，你的报名信息如下")])])]:t._e(),t.isLogin?[e("div",{staticClass:"m-lover-box m-lover-certificate"},[t._v("情缘证")]),e("div",{staticClass:"m-lover-list"},t._l(t.list,(function(i){return e("div",{key:i.id,staticClass:"m-lover-box"},[e("a",{staticClass:"u-user-avatar",attrs:{href:t.authorLink(i.user_info_1.id)}},[e("div",{staticClass:"u-avatar",attrs:{target:"_blank"}},[e("el-avatar",{staticClass:"u-avatar-pic",attrs:{shape:"circle",size:30,src:i.user_info_1.avatar}})],1),e("span",{staticClass:"u-name"},[t._v(t._s(i.user_info_1.display_name))])]),e("a",{staticClass:"u-user-avatar",attrs:{href:t.authorLink(i.user_info_2.id)}},[e("div",{staticClass:"u-avatar",attrs:{target:"_blank"}},[e("el-avatar",{staticClass:"u-avatar-pic",attrs:{shape:"circle",size:30,src:i.user_info_2.avatar}})],1),e("span",{staticClass:"u-name"},[t._v(t._s(i.user_info_2.display_name))])])])})),0),e("div",{staticClass:"m-lover-box m-lover-enroll"},[e("div",{staticClass:"m-lover-show"}),e("el-form",{ref:"form",staticClass:"m-lover-form",attrs:{model:t.form,rules:t.rules,"label-width":"80px"}},[e("el-form-item",{attrs:{label:"队伍名",prop:"team_name"}},[e("el-input",{model:{value:t.form.team_name,callback:function(e){t.$set(t.form,"team_name",t._n(e))},expression:"form.team_name"}})],1),e("el-form-item",{attrs:{label:"参赛宣言",prop:"slogan"}},[e("el-input",{attrs:{type:"textarea",rows:2},model:{value:t.form.slogan,callback:function(e){t.$set(t.form,"slogan",e)},expression:"form.slogan"}})],1),e("el-form-item",{attrs:{label:"合照上传"}},[e("uploadImage",{attrs:{"max-size":30},model:{value:t.form.images[0],callback:function(e){t.$set(t.form.images,0,e)},expression:"form.images[0]"}})],1)],1),"info"===t.type?e("el-form",{ref:"form",staticClass:"m-database-form",attrs:{model:t.user,rules:t.userRules,"label-width":"80px"}},[e("el-form-item",{attrs:{label:"名字",prop:"display_name"}},[e("el-input",{attrs:{placeholder:"名字"},model:{value:t.user.display_name,callback:function(e){t.$set(t.user,"display_name",e)},expression:"user.display_name"}})],1),e("el-form-item",{attrs:{label:"头像",prop:"user_avatar"}},[e("uploadBanner",{attrs:{content:t.user.user_avatar},on:{input:t.showBanner}})],1)],1):t._e(),e("div",{staticClass:"u-submit"},[e("img",{staticClass:"u-img",attrs:{src:"".concat(t.__imgRoot,"join.png")}})])],1)]:e("div",{staticClass:"m-lover-box no-login"},[e("h3",[t._v("请登录后进行报名")]),e("div",{staticClass:"u-button",on:{click:t.toLogin}},[t._v("点击登录")])])],2)},s=[],r=i("53ca");i("a4d3"),i("e01a"),i("8172"),i("d9e2"),i("efec"),i("a9e3"),i("d3b7");function o(t,e){if("object"!=Object(r["a"])(t)||!t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var a=i.call(t,e||"default");if("object"!=Object(r["a"])(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function n(t){var e=o(t,"string");return"symbol"==Object(r["a"])(e)?e:String(e)}function c(t,e,i){return e=n(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var l=i("c9d2"),u=i("b11b"),m=i("85e4"),f=(i("a15b"),i("13d5"),function(){var t=this,e=t._self._c;return e("div",[e("el-upload",{ref:"upload",attrs:{action:"https://cms.jx3box.com/api/cms/upload","list-type":"picture-card","on-preview":t.handlePictureCardPreview,"auto-upload":!1,"file-list":t.fileList,limit:t.maxCount,accept:t.acceptedExtensions.reduce((function(t,e){return t+".".concat(e,",")}),""),multiple:"","with-credentials":"","on-exceed":t.onExceed,"on-change":t.onChange,"on-success":t.onSuccess,"on-error":t.onError}},[e("i",{staticClass:"el-icon-plus"}),e("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v(" 最多上传 "+t._s(t.maxCount)+" 张 "+t._s(t.acceptedExtensions.join(" / ").toUpperCase())+" 格式图片，单张图片不能超过 "+t._s(t.maxSize/1024/1024)+" MB ")])]),e("el-dialog",{attrs:{visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[e("img",{attrs:{width:"60%",src:t.dialogImageUrl,alt:""}})])],1)}),d=[],p=(i("99af"),{data:function(){return{dialogImageUrl:"",dialogVisible:!1,fileList:[],successList:[],acceptedExtensions:["jpg","jpeg","png","gif"],maxCount:5,maxSize:2097152}},methods:{handlePictureCardPreview:function(t){this.dialogImageUrl=t.url,this.dialogVisible=!0},onExceed:function(){this.$notify({title:"",message:"最多上传 ".concat(this.maxCount," 张图片！"),type:"error",duration:3e3,position:"bottom-right"})},onChange:function(t,e){"ready"==t.status&&(t.size>this.maxSize?(this.$notify({title:"",message:"单张图片大小不能超过 ".concat(this.maxSize/1024/1024," MB！"),type:"error",duration:3e3,position:"bottom-right"}),e.pop()):this.fileList=e)},upload:function(){this.fileList.length>0?this.$refs.upload.submit():this.$emit("onFinish",[])},onSuccess:function(t){this.successList=this.successList.concat(t.data),this.successList.length==this.fileList.length&&(this.$emit("onFinish",this.successList||[]),this.fileList=[],this.successList=[])},onError:function(){this.$notify({title:"",message:"图片上传失败!",type:"error",duration:3e3,position:"bottom-right"}),this.$emit("onError"),this.fileList=[]}}}),v=p,g=i("2877"),h=Object(g["a"])(v,f,d,!1,null,null,null),b=h.exports,_={name:"LoverJoin",inject:["__imgRoot"],data:function(){return{success:!1,lover:!1,isLogin:l["a"].isLogin(),list:[],form:c(c({team_name:"",images:[],lover_jx3id:"",phone:"",qq:"",remark:"",server:"",slogan:""},"team_name",""),"user_jx3id","")}},components:{uploadImage:b},computed:{},watch:{isLogin:{immediate:!0,handler:function(t){t&&this.loadMyLover()}}},methods:{authorLink:m["authorLink"],loadMyLover:function(){var t=this;Object(u["b"])(1).then((function(e){t.list=e.data.data.list,console.log(t.list)}))},toLogin:function(){l["a"].toLogin()},submit:function(){Object(u["c"])(this.form)}}},C=_,x=(i("8c1e"),Object(g["a"])(C,a,s,!1,null,null,null));e["default"]=x.exports},"51eb":function(t,e,i){"use strict";var a=i("825a"),s=i("485a"),r=TypeError;t.exports=function(t){if(a(this),"string"===t||"default"===t)t="string";else if("number"!==t)throw new r("Incorrect hint");return s(this,t)}},8172:function(t,e,i){"use strict";var a=i("e065"),s=i("57b9");a("toPrimitive"),s()},"8c1e":function(t,e,i){"use strict";i("d8cf")},a15b:function(t,e,i){"use strict";var a=i("23e7"),s=i("e330"),r=i("44ad"),o=i("fc6a"),n=i("a640"),c=s([].join),l=r!==Object,u=l||!n("join",",");a({target:"Array",proto:!0,forced:u},{join:function(t){return c(o(this),void 0===t?",":t)}})},b11b:function(t,e,i){"use strict";i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return o}));var a=i("41cb");function s(){return Object(a["d"])().get("/api/team/my-lover/list")}function r(t,e){return Object(a["d"])().post("/api/team/pvp-event/".concat(t,"/join-record"),e)}function o(t,e){return Object(a["d"])().get("/api/team/pvp-event/".concat(t,"/public/join-record/list"),{params:e})}},d58f:function(t,e,i){"use strict";var a=i("59ed"),s=i("7b0b"),r=i("44ad"),o=i("07fa"),n=TypeError,c="Reduce of empty array with no initial value",l=function(t){return function(e,i,l,u){var m=s(e),f=r(m),d=o(m);if(a(i),0===d&&l<2)throw new n(c);var p=t?d-1:0,v=t?-1:1;if(l<2)while(1){if(p in f){u=f[p],p+=v;break}if(p+=v,t?p<0:d<=p)throw new n(c)}for(;t?p>=0:d>p;p+=v)p in f&&(u=i(u,f[p],p,m));return u}};t.exports={left:l(!1),right:l(!0)}},d8cf:function(t,e,i){},efec:function(t,e,i){"use strict";var a=i("1a2d"),s=i("cb2d"),r=i("51eb"),o=i("b622"),n=o("toPrimitive"),c=Date.prototype;a(c,n)||s(c,n,r)}}]);
//# sourceMappingURL=chunk-465b0c52.bb51d1ee.js.map