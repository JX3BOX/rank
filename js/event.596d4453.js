(function(t){function e(e){for(var r,s,i=e[0],l=e[1],c=e[2],f=0,m=[];f<i.length;f++)s=i[f],Object.prototype.hasOwnProperty.call(o,s)&&o[s]&&m.push(o[s][0]),o[s]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(t[r]=l[r]);u&&u(e);while(m.length)m.shift()();return a.push.apply(a,c||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],r=!0,i=1;i<n.length;i++){var l=n[i];0!==o[l]&&(r=!1)}r&&(a.splice(e--,1),t=s(s.s=n[0]))}return t}var r={},o={event:0},a=[];function s(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=r,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)s.d(n,r,function(e){return t[e]}.bind(null,r));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="https://cdn.jx3box.com/static/rank/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=e,i=i.slice();for(var c=0;c<i.length;c++)e(i[c]);var u=l;a.push([1,"chunk-vendors"]),n()})({1:function(t,e,n){t.exports=n("d845")},"365d":function(t,e,n){"use strict";var r=n("65c2"),o={LOGO:r["__imgPath"]+"image/rank/common/logo.png",cover:function(t){return r["__imgPath"]+"image/rank/cover/".concat(t,".png")},boss:function(t){return r["__imgPath"]+"image/rank/race/".concat(t,"/boss.png")},version:function(t){return r["__imgPath"]+"image/rank/race/".concat(t,"/version.png")},logos:function(t){return r["__imgPath"]+"image/rank/logos/"+t+".png"}};e["a"]=o},"774a":function(t,e,n){"use strict";n("c737")},"7cb7":function(t,e,n){var r={"./bilibili.svg":"175f","./douyu.svg":"b119","./github.svg":"bffd","./huya.svg":"046a","./msg.svg":"aa9d","./weibo.svg":"50b5"};function o(t){var e=a(t);return n(e)}function a(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}o.keys=function(){return Object.keys(r)},o.resolve=a,t.exports=o,o.id="7cb7"},c737:function(t,e,n){},d087:function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"f",(function(){return a})),n.d(e,"a",(function(){return s})),n.d(e,"e",(function(){return i})),n.d(e,"c",(function(){return l})),n.d(e,"d",(function(){return c}));var r=n("41cb");function o(t){return Object(r["d"])().post("/api/team/rank/events")}function a(t,e){return Object(r["d"])().put("/api/team/rank/events/".concat(t),e)}function s(t){return Object(r["d"])().put("/api/team/rank/events/".concat(t,"/active"))}function i(t){return Object(r["d"])().put("/api/team/rank/events/".concat(t,"/stop"))}function l(t){return Object(r["d"])().get("/api/team/rank/events/"+t)}function c(t){return Object(r["d"])().get("/api/team/rank/events",{params:t})}},d845:function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),o=n("5c96"),a=n.n(o),s=n("6a69"),i=(n("6b30"),n("c5b4"),n("b0c0"),n("9911"),function(){var t=this,e=t._self._c;return e("div",{staticClass:"m-rank-container",attrs:{id:"app"}},[e("Header"),e("div",{staticClass:"m-ran-primary"},[e("div",{staticClass:"m-rank-join m-rank-event"},[e("div",{staticClass:"m-rank-header"},[e("img",{staticClass:"u-logo",attrs:{src:t.LOGO}})]),e("div",{staticClass:"m-rank-content"},[e("div",{staticClass:"m-join m-join-team"},[e("h1",{staticClass:"m-join-title"},[t._v("活动设置")]),e("el-form",{ref:"form",staticClass:"m-join-form",attrs:{model:t.form,"label-width":"80px"}},[e("el-form-item",{attrs:{label:"是否可见"}},[e("el-radio-group",{model:{value:t.form.visible,callback:function(e){t.$set(t.form,"visible",e)},expression:"form.visible"}},[e("el-radio",{attrs:{label:1}},[t._v("可见")]),e("el-radio",{attrs:{label:0}},[t._v("隐藏")])],1)],1),e("el-form-item",{attrs:{label:"活动状态"}},[e("el-radio-group",{model:{value:t.form.status,callback:function(e){t.$set(t.form,"status",e)},expression:"form.status"}},[e("el-radio",{attrs:{label:1}},[t._v("开启")]),e("el-radio",{attrs:{label:0}},[t._v("关闭")])],1)],1),e("el-form-item",{attrs:{label:"游戏可见"}},[e("el-radio-group",{model:{value:t.form.visible_game,callback:function(e){t.$set(t.form,"visible_game",e)},expression:"form.visible_game"}},[e("el-radio",{attrs:{label:1}},[t._v("开启")]),e("el-radio",{attrs:{label:0}},[t._v("关闭")])],1)],1),e("el-form-item",{attrs:{label:"成就序列"}},[e("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.form.achieve_ids,callback:function(e){t.$set(t.form,"achieve_ids",e)},expression:"form.achieve_ids"}}),e("div",{staticClass:"u-note"},[t._v("例如：1,2,3,...")])],1),e("el-form-item",{attrs:{label:"活动名称"}},[e("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),e("el-form-item",{attrs:{label:"开启模块"}},[e("el-checkbox-group",{model:{value:t.form.blocks,callback:function(e){t.$set(t.form,"blocks",e)},expression:"form.blocks"}},t._l(t.blocks,(function(n,r){return e("el-checkbox",{key:r,attrs:{label:r}},[t._v(t._s(n))])})),1)],1),e("el-form-item",{attrs:{label:"活动介绍"}},[e("el-input",{attrs:{placeholder:"请输入内容",type:"textarea",rows:"8"},model:{value:t.form.desc,callback:function(e){t.$set(t.form,"desc",e)},expression:"form.desc"}})],1),e("el-form-item",{attrs:{label:"晚会回看"}},[e("el-input",{attrs:{placeholder:"请输入内容",type:"textarea",rows:"8"},model:{value:t.form.gifts,callback:function(e){t.$set(t.form,"gifts",e)},expression:"form.gifts"}})],1),e("hr"),e("el-form-item",{attrs:{label:"投票说明"}},[e("el-input",{attrs:{placeholder:"请输入内容",type:"textarea",rows:"8"},model:{value:t.form.vote_note,callback:function(e){t.$set(t.form,"vote_note",e)},expression:"form.vote_note"}})],1),e("el-form-item",{attrs:{label:"投票开启"}},[e("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.form.vote_start,callback:function(e){t.$set(t.form,"vote_start",e)},expression:"form.vote_start"}})],1),e("el-form-item",{attrs:{label:"投票结束"}},[e("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.form.vote_end,callback:function(e){t.$set(t.form,"vote_end",e)},expression:"form.vote_end"}})],1),e("hr"),e("el-form-item",{attrs:{label:"媒体宣传"}},[e("el-input",{attrs:{placeholder:"请输入内容",type:"textarea",rows:"8"},model:{value:t.form.note,callback:function(e){t.$set(t.form,"note",e)},expression:"form.note"}})],1),e("el-form-item",{staticClass:"u-sponsor-label",attrs:{label:"赞助名单"}},t._l(t.form.sponsors,(function(n,r){return e("div",{key:r,staticClass:"u-sponsor"},[e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{span:8}},[e("div",[e("el-input",{model:{value:n.logo,callback:function(e){t.$set(n,"logo",e)},expression:"item.logo"}},[e("span",{attrs:{slot:"prepend"},slot:"prepend"},[t._v("图标")])])],1)]),e("el-col",{attrs:{span:8}},[e("div",[e("el-input",{model:{value:n.link,callback:function(e){t.$set(n,"link",e)},expression:"item.link"}},[e("span",{attrs:{slot:"prepend"},slot:"prepend"},[t._v("链接")])])],1)]),e("el-col",{attrs:{span:6}},[e("div",[e("el-button",{attrs:{type:"primary",plain:"",size:"mini"},on:{click:function(e){return t.add(r)}}},[t._v("+ 添加")]),e("el-button",{attrs:{type:"danger",plain:"",size:"mini"},on:{click:function(e){return t.del(r)}}},[t._v("- 删除")])],1)])],1)],1)})),0),e("div",{staticClass:"u-btns"},[e("el-button",{staticClass:"u-submit",attrs:{type:"primary"},on:{click:t.submit}},[t._v(t._s(t.id?"更新活动":"创建活动"))]),e("el-button",{staticClass:"u-start",attrs:{type:"success"},on:{click:t.active}},[t._v("激活活动")]),e("el-button",{staticClass:"u-stop",attrs:{type:"warning"},on:{click:t.stop}},[t._v("关闭活动")])],1)],1)],1)])])]),e("Footer")],1)}),l=[],c=(n("14d9"),n("a434"),n("d3b7"),n("ac1f"),n("3ca3"),n("841c"),n("ddb0"),n("9861"),n("88a7"),n("271a"),n("5494"),n("2ef0")),u=n.n(c),f=n("365d"),m=n("f358"),d=n("d087"),p={logo:"",link:""},v={name:"App",props:[],data:function(){return{form:{visible:0,status:0,visible_game:0,achieve_ids:"",name:"",sponsors:[{logo:"",link:""}],blocks:[],desc:"",gifts:"",note:"",vote_note:"",vote_start:(new Date).toISOString(),vote_end:(new Date).toISOString()},blocks:m,id:"",LOGO:f["a"].LOGO}},computed:{data:function(){var t=this.form;return t.vote_start=new Date(t.vote_start).toISOString(),t.vote_end=new Date(t.vote_end).toISOString(),t}},methods:{submit:function(){var t=this;this.id?Object(d["f"])(this.id,this.data).then((function(e){t.$message({message:"设置成功",type:"success"})})):Object(d["b"])(this.data).then((function(e){t.$message({message:"创建成功",type:"success"}),location.href+="?id=".concat(e.data.data.ID)}))},add:function(t){this.form.sponsors.push({logo:"",link:""})},del:function(t){this.form.sponsors.splice(t,1)},fixArrSetting:function(t){Array.isArray(this.form[t])&&this.form[t].length||(this.form[t]=[],"sponsors"==t&&this.form[t].push(u.a.cloneDeep(p)))},active:function(){var t=this;Object(d["a"])(this.id).then((function(){t.$message({message:"活动开启",type:"success"})}))},stop:function(){var t=this;Object(d["e"])(this.id).then((function(){t.$message({message:"活动关闭",type:"success"})}))}},created:function(){var t=this,e=new URLSearchParams(location.search);this.id=~~e.get("id"),this.id&&Object(d["c"])(this.id).then((function(e){t.form=e.data.data,t.fixArrSetting("sponsors"),t.fixArrSetting("blocks")}))},components:{}},b=v,g=(n("774a"),n("2877")),h=Object(g["a"])(b,i,l,!1,null,null,null),_=h.exports;r["default"].config.productionTip=!1,r["default"].use(a.a),r["default"].use(s["a"]),new r["default"]({render:function(t){return t(_)}}).$mount("#app")},f358:function(t){t.exports=JSON.parse('{"info":"活动介绍","awards":"百强奖项","rank":"排行榜","dps":"天梯榜","superstar":"天团榜","vote":"投票竞猜","live":"开荒直播","video":"通关视频","stat":"统计分析","lucky":"晚会回看","design":"社区礼物"}')}});
//# sourceMappingURL=event.596d4453.js.map