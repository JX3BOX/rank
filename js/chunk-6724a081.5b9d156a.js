(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6724a081"],{"0e82":function(t,a,e){},"663b":function(t,a,e){"use strict";e("0e82")},9756:function(t){t.exports=JSON.parse('["缘起稻香","天宝盛世","剑啸江湖","蝶恋花","龙争虎斗","长安城","幽月轮","斗转星移","剑胆琴心","乾坤一掷","唯我独尊","梦江南","绝代天骄","天鹅坪","破阵子","飞龙在天","青梅煮酒","共結來緣","傲血戰意","巔峰再起","江海雲夢"]')},c638:function(t,a,e){"use strict";e.r(a);e("b0c0");var s=function(){var t=this,a=t._self._c;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"m-rank-video",attrs:{"element-loading-text":"加载中...","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"}},[a("div",{staticClass:"m-rank-video-title"},[a("img",{attrs:{src:t.video_title_img}}),a("div",{staticClass:"u-extend"},[a("el-select",{staticClass:"u-server",attrs:{placeholder:"请选择服务器",size:"mini"},model:{value:t.server,callback:function(a){t.server=a},expression:"server"}},[a("el-option",{key:"all",attrs:{label:"全部",value:""}}),t._l(t.servers,(function(t){return a("el-option",{key:t,attrs:{label:t,value:t}})}))],2),a("el-pagination",{staticClass:"u-pages",attrs:{layout:"prev, pager, next","hide-on-single-page":!0,"page-size":t.per,total:t.total,"current-page":t.page},on:{"update:currentPage":function(a){t.page=a},"update:current-page":function(a){t.page=a}}})],1)]),t.event_status&&t.list&&t.list.length?a("div",{staticClass:"m-rank-video-live"},[a("div",{staticClass:"u-live"},[a("iframe",{attrs:{src:t.live_url||t.default_live_url,frameborder:"0"}})]),a("div",{staticClass:"u-list"},t._l(t.list,(function(e,s){return a("li",{key:s,class:{on:!!e.isActive},on:{click:function(a){return t.play(e)}}},[a("img",{staticClass:"u-live-logo",attrs:{src:t._f("teamLogo")(e.team.logo)}}),a("span",{staticClass:"u-live-name"},[t._v(t._s(e.team.name)+" "),a("em",[t._v("@"+t._s(e.team.server))])])])})),0)]):t._e(),a("div",{staticClass:"m-rank-video-content"},[t.data&&t.data.length?[a("el-row",{staticClass:"m-rank-video-list",attrs:{gutter:20}},t._l(t.data,(function(e,s){return a("el-col",{key:s,attrs:{span:8}},[a("div",{staticClass:"m-rank-video-item"},[a("a",{staticClass:"u-video",attrs:{href:t.getTVlink(e.team.tv_type,e.team.tv),target:"_blank"}},["douyu"==e.team.tv_type?[e.douyu.room_src?a("img",{staticClass:"u-live-cover",attrs:{src:e.douyu.room_src,loading:"lazy"}}):a("img",{staticClass:"u-live-null",attrs:{src:t._f("teamLogo")(e.team.logo),loading:"lazy"}}),a("i",{staticClass:"u-status",class:{on:1==~~e.douyu.show_status}},[a("i",{staticClass:"el-icon-video-camera"}),t._v(" "+t._s(t.liveStatusMap[~~e.douyu.show_status]))]),1==~~e.douyu.show_status?a("i",{staticClass:"u-player"},[a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 511.999 511.999","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"}},[a("linearGradient",{attrs:{id:"a",gradientUnits:"userSpaceOnUse",x1:"35.029",y1:"257.313",x2:"478.029",y2:"257.313",gradientTransform:"matrix(.9983 0 0 -.9983 -.085 512.866)"}},[a("stop",{attrs:{offset:"0","stop-color":"#00f2fe"}}),a("stop",{attrs:{offset:".021","stop-color":"#03effe"}}),a("stop",{attrs:{offset:".293","stop-color":"#24d2fe"}}),a("stop",{attrs:{offset:".554","stop-color":"#3cbdfe"}}),a("stop",{attrs:{offset:".796","stop-color":"#4ab0fe"}}),a("stop",{attrs:{offset:"1","stop-color":"#4facfe"}})],1),a("path",{attrs:{d:"M104.967 511.999l-.313-.001c-38.47-.21-69.77-31.983-69.77-70.829V70.058c0-25.691 13.39-48.512 35.819-61.041 22.429-12.531 48.88-11.971 70.758 1.497l302.4 186.405c20.869 12.848 33.305 35.16 33.255 59.678-.05 24.52-12.576 46.781-33.507 59.55L224.997 449.999c-9.405 5.758-21.695 2.802-27.452-6.602-5.758-9.404-2.802-21.694 6.602-27.452l218.639-133.869c9.139-5.576 14.378-14.886 14.4-25.56.022-10.673-5.179-20.004-14.268-25.601L120.517 44.511c-9.374-5.771-20.718-6.011-30.339-.636-9.62 5.375-15.364 15.162-15.364 26.183V441.17c0 18.385 15.541 30.819 30.056 30.898 4.735.001 10.08-1.726 15.553-5.064 9.411-5.743 21.698-2.768 27.441 6.645 5.743 9.413 2.767 21.698-6.645 27.441-11.702 7.14-24.23 10.908-36.252 10.909z",fill:"url(#a)"}})],1)]):t._e()]:[a("img",{staticClass:"u-live-null",attrs:{src:t._f("teamLogo")(e.team.logo),loading:"lazy"}}),a("i",{staticClass:"u-status"},[a("i",{staticClass:"el-icon-warning-outline"}),t._v(" 未知")])]],2),a("div",{staticClass:"u-info"},[a("img",{staticClass:"u-team-logo",attrs:{src:t._f("liveAvatar")(e.team.logo),loading:"lazy"}}),a("div",{staticClass:"u-team"},[a("span",{staticClass:"u-label"},[t._v("团队 : ")]),a("a",{staticClass:"u-team-name",attrs:{href:t._f("teamLink")(e.team.ID),target:"_blank"}},[t._v(t._s(e.team.name))])]),a("div",{staticClass:"u-room"},[a("span",{staticClass:"u-label"},[t._v("房间 : ")]),a("a",{staticClass:"u-room-name",attrs:{href:t.getTVlink(e.team.tv_type,e.team.tv),target:"_blank"}},[t._v(" "+t._s("douyu"==e.team.tv_type&&e.douyu.room_name||e.team.name+"的直播间")+" ")])])])])])})),1),a("el-pagination",{staticClass:"m-rank-video-pages m-archive-pages",attrs:{background:"",layout:"total, prev, pager, next,jumper","hide-on-single-page":!0,"page-size":t.per,total:t.total,"current-page":t.page},on:{"update:currentPage":function(a){t.page=a},"update:current-page":function(a){t.page=a}}})]:a("el-alert",{staticClass:"m-archive-null",attrs:{title:"没有找到相关条目",type:"info",center:"","show-icon":""}})],2)])},i=[],n=(e("d3b7"),e("159b"),e("14d9"),e("65c2")),o=e("d0c8"),r=e("85e4"),l={douyu:"https://www.douyu.com/",bilibili:"https://live.bilibili.com/",huya:"https://www.huya.com/"};function u(t,a){return l[t]+a}var c=u,d=e("9756"),p=["等待开播","直播中","直播结束"],v={props:[],data:function(){return{video_title_img:n["__imgPath"]+"image/rank/common/lives.png",data:[],per:24,page:1,total:1,liveStatusMap:p,loading:!1,servers:d,server:"",live_url:""}},computed:{id:function(){return this.$store.state.id},params:function(){return{pageSize:this.per,pageIndex:this.page,server:this.server}},list:function(){var t,a=[];return null===(t=this.data)||void 0===t||t.forEach((function(t,e){"douyu"==t.team.tv_type&&1==t.douyu.show_status&&a.push(t),0==e&&(t.isActive=!0)})),a},default_live_url:function(){return this.list&&this.list.length?"https://open.douyu.com/tpl/h5/chain2/jdxoubyoux/"+this.list[0]["team"]["tv"]:""},event_status:function(){return!!this.$store.state.race.status||!1}},methods:{getTVlink:c,loadData:function(){var t=this;this.loading=!0,Object(o["c"])(this.id,this.params).then((function(a){t.data=a.data.data.list})).finally((function(){t.loading=!1}))},play:function(t){this.live_url="https://open.douyu.com/tpl/h5/chain2/jdxoubyoux/"+t.team.tv,this.clean(),t.isActive=!0},clean:function(){var t;null===(t=this.list)||void 0===t||t.forEach((function(t){t.isActive=!1}))}},watch:{params:{deep:!0,handler:function(){this.loadData()}}},filters:{teamLogo:function(t){return t?Object(r["getThumbnail"])(t,240,!0):n["default_avatar"]},liveAvatar:function(t){return t?Object(r["getThumbnail"])(t,136,!0):n["default_avatar"]},teamLink:function(t){return Object(r["getLink"])("org",t)}},created:function(){this.loadData()},components:{}},m=v,f=(e("663b"),e("2877")),g=Object(f["a"])(m,s,i,!1,null,null,null);a["default"]=g.exports},d0c8:function(t,a,e){"use strict";e.d(a,"c",(function(){return l})),e.d(a,"d",(function(){return i})),e.d(a,"b",(function(){return n})),e.d(a,"a",(function(){return r})),e.d(a,"e",(function(){return o}));var s=e("41cb");function i(t,a){return Object(s["e"])().get("/api/team/video/event/".concat(t),{params:a})}function n(t){return Object(s["e"])().delete("/api/team/video/".concat(t))}function o(t,a){return Object(s["e"])().put("/api/team/video/".concat(t),a)}function r(t){return Object(s["e"])().post("/api/team/video",t)}function l(t,a){return Object(s["e"])().get("/api/team/rank/events/".concat(t,"/live-tv-list"),{params:a})}}}]);
//# sourceMappingURL=chunk-6724a081.5b9d156a.js.map