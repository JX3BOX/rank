(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5af017ae"],{"07ac":function(_,t,e){var s=e("23e7"),a=e("6f53").values;s({target:"Object",stat:!0},{values:function(_){return a(_)}})},"2ff1":function(_,t,e){"use strict";var s=function(){var _=this,t=_.$createElement,e=_._self._c||t;return e("div",{staticClass:"c-chart",style:{"--height":_.isSmall?"600px":"700px"}},[e("v-chart",{ref:"chart",attrs:{options:_.pieOption,theme:"jx3box-dark"}}),_._t("default")],2)},a=[],r=(e("d81d"),e("b0c0"),{name:"pieChart",components:{},props:{title:{type:String,required:!0},data:{type:Array,required:!1},desc:{type:String,required:!1},isCustomColor:{type:Boolean,default:!0},isSmall:{type:Boolean,default:!1}},watch:{data:function(_,t){this.pieOption.series[0].data=_}},data:function(){for(var _=[],t=0;t<=360;t++){var e=t/180*Math.PI,s=Math.sin(2*e)*Math.cos(2*e);_.push([s,t])}return{pieOption:{title:{text:"".concat(this.title,"统计图"),left:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{type:"plain",orient:"horizontal",left:"center",top:"bottom",data:this.data.map((function(_){return _["name"]})),icon:"circle"},series:[{name:this.title,type:"pie",data:this.data,radius:this.isSmall?"67%":"75%",label:this.isSmall?{fontSize:12,formatter:"{b}\n{d}%"}:{},emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(255, 255, 255, 1)"}},itemStyle:{color:this.isCustomColor?function(_){switch(_.name){case"天策":return"#EC4B2C";case"万花":return"#BA9BE4";case"纯阳":return"#37C0E2";case"七秀":return"#FF7DAD";case"少林":return"#E6BC31";case"藏剑":return"#FDDD70";case"丐帮":return"#D6A16F";case"明教":return"#f16040";case"五毒":return"#4B9BFB";case"唐门":return"#90CC50";case"苍云":return"#6568ad";case"长歌":return"#6DDFE2";case"霸刀":return"#8D90D8";case"蓬莱":return"#94C7DC";case"凌雪":return"#872F37";case"衍天":return"#b9c1ff";case"药宗":return"#16708a";case"冰心诀":return"#FF7DAD";case"云裳心经":return"#ffadcb";case"花间游":return"#BA9BE4";case"离经易道":return"#d8c4ff";case"毒经":return"#4B9BFB";case"补天诀":return"#7db8ff";case"莫问":return"#6DDFE2";case"相知":return"#78f0f3";case"傲血战意":return"#EC4B2C";case"铁牢律":return"#d43618";case"易筋经":return"#E6BC31";case"洗髓经":return"#b58f12";case"焚影圣诀":return"#f16040";case"明尊琉璃体":return"#c55036";case"分山劲":return"#6568ad";case"铁骨衣":return"#4f5186";case"紫霞功":return"#37C0E2";case"太虚剑意":return"#48d6f9";case"天罗诡道":return"#90CC50";case"惊羽诀":return"#a2e05f";case"问水诀":return"#FDDD70";case"山居剑意":return"#FDDD70";case"笑尘诀":return"#D6A16F";case"北傲诀":return"#8D90D8";case"凌海诀":return"#94C7DC";case"隐龙诀":return"#872F37";case"太玄经":return"#b9c1ff";case"无方":return"#16708a";case"灵素":return"#39bf9b";default:return void console.log(_)}}:""}}]}}},computed:{isName:function(){return!1}},methods:{name:function(){}}}),n=r,o=(e("f60d"),e("2877")),i=Object(o["a"])(n,s,a,!1,null,"0e24cb5c",null);t["a"]=i.exports},"30e0":function(_,t,e){},"3d35":function(_,t,e){"use strict";e("30e0")},"408b":function(_,t,e){"use strict";e.d(t,"a",(function(){return n})),e.d(t,"b",(function(){return o}));e("b64b"),e("d3b7");var s=e("bc3a"),a=e.n(s);function r(_){return new Promise((function(t,e){var s=a.a.create({headers:{"Content-Type":"application/json",Accept:"application/json"},timeout:1e4});s(_).then((function(_){t(_.data)})).catch((function(_){console.log(_.response),_.response?_.response.data.code?e(_.response.data):e({msg:_.response.data,code:_.response.status}):e({msg:"网络请求异常",code:-1})}))}))}function n(_,t,e,s,a,n){var o={url:""+_,method:t||"GET"};return o["withCredentials"]=void 0!==e&&e,void 0!=s&&Object.keys(s).length>0&&(o["data"]=s),void 0!=a&&""!==a&&(o["headers"]=a),void 0!=n&&Object.keys(n).length>0&&(o["params"]=n),r(o)}function o(_,t){return _+t}},"482c":function(_,t,e){},"53dd":function(_,t,e){},"5bb4":function(module,__webpack_exports__,__webpack_require__){"use strict";var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("d3b7"),core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("159b"),core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("b0c0"),core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_2__),core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("d81d"),core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_3__),core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("4de4"),core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_4__),core_js_modules_es_array_includes_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("caad"),core_js_modules_es_array_includes_js__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(core_js_modules_es_array_includes_js__WEBPACK_IMPORTED_MODULE_5__),core_js_modules_es_string_includes_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("2532"),core_js_modules_es_string_includes_js__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(core_js_modules_es_string_includes_js__WEBPACK_IMPORTED_MODULE_6__),core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("99af"),core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_7__),core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("b64b"),core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_8__),core_js_modules_es_object_values_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("07ac"),core_js_modules_es_object_values_js__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(core_js_modules_es_object_values_js__WEBPACK_IMPORTED_MODULE_9__),_jx3box_jx3box_common_data_jx3box_json__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("65c2"),_jx3box_jx3box_common_data_jx3box_json__WEBPACK_IMPORTED_MODULE_10___namespace=__webpack_require__.t("65c2",1),lodash__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("2ef0"),lodash__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_11__),_components_barChart_vue__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("6cf2"),_jx3box_jx3box_data_data_server_server_cn_json__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("60d7"),_jx3box_jx3box_data_data_server_server_cn_json__WEBPACK_IMPORTED_MODULE_13___namespace=__webpack_require__.t("60d7",1),_components_pieChart_vue__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("2ff1"),_jx3box_jx3box_data_data_xf_school_json__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("f3cf"),_jx3box_jx3box_data_data_xf_school_json__WEBPACK_IMPORTED_MODULE_15___namespace=__webpack_require__.t("f3cf",1),_jx3box_jx3box_data_data_xf_xfid_json__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("91d4"),_jx3box_jx3box_data_data_xf_xfid_json__WEBPACK_IMPORTED_MODULE_16___namespace=__webpack_require__.t("91d4",1),_service_api_js__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("408b");__webpack_exports__["a"]={props:[],components:{BarChart:_components_barChart_vue__WEBPACK_IMPORTED_MODULE_12__["a"],PieChart:_components_pieChart_vue__WEBPACK_IMPORTED_MODULE_14__["a"]},data:function(){return{null_img_url:_jx3box_jx3box_common_data_jx3box_json__WEBPACK_IMPORTED_MODULE_10__["__imgPath"]+"image/rank/common/null.png",loading:!1,current_boss:"all",ana:{},stats:{}}},computed:{id:function(){return this.$store.state.id},achieves:function(){return this.$store.state.achieves||[]},bossList:function(){var _={};return this.achieves.forEach((function(t){_[t.achievement_id]=t.name})),_}},watch:{current_boss:function(){this.loadData()},"$route.query.aid":function(_){this.current_boss=_,this.loadData()}},mounted:function(){this.$route.query.aid&&(this.current_boss=this.$route.query.aid),this.getStats()},methods:{changeBoss:function changeBoss(val){if(this.current_boss=val,this.server="",void 0==this.stats["bar_server_all"][this.current_boss])return!1;var tmpAna={};this.ana=tmpAna;for(var item=1;item<=11;++item)eval("this.doAna".concat(item,"()"))},loadData:function(){this.id},getStats:function(){var _=this;return this.loading=!0,Object(_service_api_js__WEBPACK_IMPORTED_MODULE_17__["a"])(Object(_service_api_js__WEBPACK_IMPORTED_MODULE_17__["b"])(_jx3box_jx3box_common_data_jx3box_json__WEBPACK_IMPORTED_MODULE_10__["__Root"],"rank-analysis/stats/event".concat(this.id,".json")),"GET",!1).then((function(t){_.stats=t,_.changeBoss(_.current_boss)})).catch((function(_){console.log(_)})).finally((function(){_.loading=!1}))},doAna1:function(){if("0"==this.current_boss)return this.ana[1]=void 0,!1;var _=this.stats["bar_server_all"][this.current_boss],t=_["data"],e=_["servers"],s=_jx3box_jx3box_data_data_server_server_cn_json__WEBPACK_IMPORTED_MODULE_13__.reverse().filter((function(_){return!e.includes(_)})).map((function(_){return[0,_]}));this.ana[1]={data:s.concat(t),title:"区服入榜团队数量"}},doAna2:function(){if("0"==this.current_boss)return this.ana[2]=void 0,!1;var _=this.stats["pie_school_ratio"][this.current_boss];Object.keys(_jx3box_jx3box_data_data_xf_school_json__WEBPACK_IMPORTED_MODULE_15__).filter((function(t){return!_.map((function(_){return _["name"]})).includes(t)&&"江湖"!==t})).forEach((function(t){_.push({name:t,value:0})})),this.ana[2]={data:_,title:"全门派出场率"}},doAna3:function(){if("0"==this.current_boss)return this.ana[3]=void 0,!1;var _=this.stats["pie_xf_ratio"][this.current_boss];Object.values(_jx3box_jx3box_data_data_xf_xfid_json__WEBPACK_IMPORTED_MODULE_16__).filter((function(t){return!_.map((function(_){return _["name"]})).includes(t)&&"通用"!==t})).forEach((function(t){_.push({name:t,value:0})})),this.ana[3]={data:_,title:"全心法出场率"}},doAna4:function(){if("0"==this.current_boss)return this.ana[4]=void 0,!1;var _=this.stats["pie_hps_count"][this.current_boss];this.ana[4]={data:_,title:"各团出场治疗心法数量",isCustomColor:!1,position:"left"}},doAna5:function(){if("0"==this.current_boss)return this.ana[6]=void 0,!1;var _=this.stats["pie_tank_count"][this.current_boss];this.ana[6]={data:_,title:"各团出场防御心法数量",isCustomColor:!1,position:"left"}},doAna6:function(){if("0"==this.current_boss)return this.ana[9]=void 0,!1;var _=this.stats["pie_neiwaigong_ratio"][this.current_boss];this.ana[9]={data:_,title:"内外功出场比例",isCustomColor:!1}},doAna7:function(){if("0"==this.current_boss)return this.ana[8]=void 0,!1;var _=this.stats["pie_dps_xf_ratio"][this.current_boss];this.ana[8]={data:_,title:"各输出心法出场率"}},doAna8:function(){if("0"==this.current_boss)return this.ana[5]=void 0,!1;var _=this.stats["pie_hps_xf_ratio"][this.current_boss];this.ana[5]={data:_,title:"各治疗心法出场率",position:"right"}},doAna9:function(){if("0"==this.current_boss)return this.ana[7]=void 0,!1;var _=this.stats["pie_tank_xf_ratio"][this.current_boss];this.ana[7]={data:_,title:"各防御心法出场率",position:"right"}},doAna10:function(){if("0"==this.current_boss)return this.ana[10]=void 0,!1;var _=this.stats["pie_leader_type_ratio"][this.current_boss];this.ana[10]={data:_,title:"团长职业类型分布",isCustomColor:!1}},doAna11:function(){if("0"==this.current_boss)return this.ana[11]=void 0,!1;var _=this.stats["bar_server_top10"][this.current_boss],t=_["data"];this.ana[11]={data:t,title:"前十名区服分布"}}},filters:{}}},"60d7":function(_){_.exports=JSON.parse('["蝶恋花","龙争虎斗","长安城","幽月轮","斗转星移","剑胆琴心","乾坤一掷","唯我独尊","梦江南","绝代天骄","天鹅坪","破阵子","飞龙在天","青梅煮酒"]')},"6cf2":function(_,t,e){"use strict";var s=function(){var _=this,t=_.$createElement,e=_._self._c||t;return e("div",{staticClass:"c-chart",style:{"--height":_.height}},[e("v-chart",{attrs:{options:_.barOption,theme:"jx3box-dark"}}),_._t("default")],2)},a=[],r={name:"barChart",components:{},props:{data:{type:Array,required:!0},desc:{type:String,required:!1},title:{type:String,required:!0},height:{type:String,default:"800px"}},watch:{data:function(_,t){this.barOption.series[0].data=_}},data:function(){for(var _=[],t=0;t<=360;t++){var e=t/180*Math.PI,s=Math.sin(2*e)*Math.cos(2*e);_.push([s,t])}return{barOption:{title:{show:!0,text:"".concat(this.title,"统计图")},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"value",boundaryGap:[0,.01],position:"top",minInterval:1},yAxis:{type:"category"},series:[{name:"团队数量",type:"bar",data:this.data}]}}},computed:{isName:function(){return!1}},methods:{name:function(){}}},n=r,o=(e("fdf2"),e("2877")),i=Object(o["a"])(n,s,a,!1,null,"a59da950",null);t["a"]=i.exports},"6f53":function(_,t,e){var s=e("83ab"),a=e("e330"),r=e("df75"),n=e("fc6a"),o=e("d1e7").f,i=a(o),c=a([].push),u=function(_){return function(t){var e,a=n(t),o=r(a),u=o.length,l=0,d=[];while(u>l)e=o[l++],s&&!i(a,e)||c(d,_?[e,a[e]]:a[e]);return d}};_.exports={entries:u(!0),values:u(!1)}},"7ab3":function(_,t,e){"use strict";e.r(t);var s=function(){var _=this,t=_.$createElement,e=_._self._c||t;return e("div",{directives:[{name:"loading",rawName:"v-loading",value:_.loading,expression:"loading"}],staticClass:"m-rank-stat",attrs:{"element-loading-text":"加载中...","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"}},[e("el-row",{staticClass:"m-rank-boss",attrs:{gutter:20,type:"flex",justify:"space-between"}},[e("el-col",{attrs:{span:4}},[e("div",{staticClass:"u-boss",class:{on:"all"==_.current_boss},on:{click:function(t){return _.changeBoss("all")}}},[e("span",{staticClass:"u-boss-name"},[_._v("全部")])])]),_._l(_.bossList,(function(t,s){return e("el-col",{key:s,attrs:{span:4}},[e("div",{staticClass:"u-boss",class:{on:s==_.current_boss},on:{click:function(t){return _.changeBoss(s)}}},[e("span",{staticClass:"u-boss-name"},[_._v(_._s(t))])])])}))],2),void 0==_.stats["bar_server_all"]||void 0==_.stats["bar_server_all"][_.current_boss]?e("img",{staticClass:"m-rank-null",attrs:{src:_.null_img_url}}):[_.ana[11]?e("bar-chart",{attrs:{data:_.ana[11]["data"],title:_.ana[11]["title"],height:"450px"}}):_._e(),_.ana[1]?e("bar-chart",{attrs:{data:_.ana[1]["data"],title:_.ana[1]["title"]}}):_._e(),_._l(9,(function(t){return[_.ana[t+1]?e("pie-chart",{key:t,class:{"chart-left":"left"===_.ana[t+1]["position"],"chart-right":"right"===_.ana[t+1]["position"]},attrs:{data:_.ana[t+1]["data"],title:_.ana[t+1]["title"],isCustomColor:void 0===_.ana[t+1]["isCustomColor"]||_.ana[t+1]["isCustomColor"],isSmall:void 0!==_.ana[t+1]["position"]}}):_._e()]}))]],2)},a=[],r=e("5bb4"),n=r["a"],o=(e("3d35"),e("2877")),i=Object(o["a"])(n,s,a,!1,null,null,null);t["default"]=i.exports},"91d4":function(_){_.exports=JSON.parse('{"0":"通用","10002":"洗髓经","10003":"易筋经","10014":"紫霞功","10015":"太虚剑意","10021":"花间游","10026":"傲血战意","10028":"离经易道","10062":"铁牢律","10080":"云裳心经","10081":"冰心诀","10144":"问水诀","10145":"山居剑意","10175":"毒经","10176":"补天诀","10224":"惊羽诀","10225":"天罗诡道","10242":"焚影圣诀","10243":"明尊琉璃体","10268":"笑尘诀","10389":"铁骨衣","10390":"分山劲","10447":"莫问","10448":"相知","10464":"北傲诀","10533":"凌海诀","10585":"隐龙诀","10615":"太玄经","10626":"灵素","10627":"无方"}')},f3cf:function(_){_.exports=JSON.parse('{"天策":{"school_id":1,"force_id":3,"mounts":[10026,10062],"client":["all","std","origin"]},"万花":{"school_id":2,"force_id":2,"mounts":[10021,10028],"client":["all","std","origin"]},"纯阳":{"school_id":3,"force_id":4,"mounts":[10014,10015],"client":["all","std","origin"]},"七秀":{"school_id":4,"force_id":5,"mounts":[10081,10080],"client":["all","std","origin"]},"少林":{"school_id":5,"force_id":1,"mounts":[10003,10002],"client":["all","std","origin"]},"藏剑":{"school_id":6,"force_id":8,"mounts":[10144,10145],"client":["all","std","origin"]},"丐帮":{"school_id":7,"force_id":9,"mounts":[10268],"client":["all","std"]},"明教":{"school_id":8,"force_id":10,"mounts":[10242,10243],"client":["all","std"]},"五毒":{"school_id":9,"force_id":6,"mounts":[10175,10176],"client":["all","std"]},"唐门":{"school_id":10,"force_id":7,"mounts":[10224,10225],"client":["all","std"]},"苍云":{"school_id":18,"force_id":21,"mounts":[10389,10390],"client":["all","std"]},"长歌":{"school_id":19,"force_id":22,"mounts":[10447,10448],"client":["all","std"]},"霸刀":{"school_id":20,"force_id":23,"mounts":[10464],"client":["all","std"]},"蓬莱":{"school_id":21,"force_id":24,"mounts":[10533],"client":["all","std"]},"凌雪":{"school_id":22,"force_id":25,"mounts":[10585],"client":["all","std"]},"衍天":{"school_id":23,"force_id":211,"mounts":[10615],"client":["all","std"]},"药宗":{"school_id":24,"force_id":212,"mounts":[10627,10626],"client":["all","std"]}}')},f60d:function(_,t,e){"use strict";e("482c")},fdf2:function(_,t,e){"use strict";e("53dd")}}]);
//# sourceMappingURL=chunk-5af017ae.70c439c7.js.map